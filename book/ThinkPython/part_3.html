plain;
if you have a hard time explaining one of your functions,
maybe the interface could be improved.</p>
<h2 class="section" id="sec51">4.10&#XA0;&#XA0;Debugging</h2>
<p>
<a id="hevea_default288"></a>
<a id="hevea_default289"></a></p><p>An interface is like a contract between a function and a caller.
The caller agrees to provide certain parameters and the function
agrees to do certain work.</p><p>For example, <span class="c004">polyline</span> requires four arguments: <span class="c004">t</span> has to be
a Turtle; <span class="c004">n</span> has to be an
integer; <span class="c004">length</span> should be a positive number; and <span class="c004">angle</span> has to be a number, which is understood to be in degrees.</p><p>These requirements are called <span class="c010">preconditions</span> because they
are supposed to be true before the function starts executing.
Conversely, conditions at the end of the function are
<span class="c010">postconditions</span>. Postconditions include the intended
effect of the function (like drawing line segments) and any
side effects (like moving the Turtle or making other changes).
<a id="hevea_default290"></a>
<a id="hevea_default291"></a></p><p>Preconditions are the responsibility of the caller. If the caller
violates a (properly documented!) precondition and the function
doesn&#X2019;t work correctly, the bug is in the caller, not the function.</p><p>If the preconditions are satisfied and the postconditions are
not, the bug is in the function. If your pre- and postconditions
are clear, they can help with debugging.</p>
<h2 class="section" id="sec52">4.11&#XA0;&#XA0;Glossary</h2>
<dl class="description"><dt class="dt-description"><span class="c010">method:</span></dt><dd class="dd-description"> A function that is associated with an object and called
using dot notation.
<a id="hevea_default292"></a></dd><dt class="dt-description"><span class="c010">loop:</span></dt><dd class="dd-description"> A part of a program that can run repeatedly.
<a id="hevea_default293"></a></dd><dt class="dt-description"><span class="c010">encapsulation:</span></dt><dd class="dd-description"> The process of transforming a sequence of
statements into a function definition.
<a id="hevea_default294"></a></dd><dt class="dt-description"><span class="c010">generalization:</span></dt><dd class="dd-description"> The process of replacing something
unnecessarily specific (like a number) with something appropriately
general (like a variable or parameter).
<a id="hevea_default295"></a></dd><dt class="dt-description"><span class="c010">keyword argument:</span></dt><dd class="dd-description"> An argument that includes the name of
the parameter as a &#X201C;keyword&#X201D;.
<a id="hevea_default296"></a>
<a id="hevea_default297"></a></dd><dt class="dt-description"><span class="c010">interface:</span></dt><dd class="dd-description"> A description of how to use a function, including
the name and descriptions of the arguments and return value.
<a id="hevea_default298"></a></dd><dt class="dt-description"><span class="c010">refactoring:</span></dt><dd class="dd-description"> The process of modifying a working program to
improve function interfaces and other qualities of the code.
<a id="hevea_default299"></a></dd><dt class="dt-description"><span class="c010">development plan:</span></dt><dd class="dd-description"> A process for writing programs.
<a id="hevea_default300"></a></dd><dt class="dt-description"><span class="c010">docstring:</span></dt><dd class="dd-description"> A string that appears at the top of a function
definition to document the function&#X2019;s interface. 
<a id="hevea_default301"></a></dd><dt class="dt-description"><span class="c010">precondition:</span></dt><dd class="dd-description"> A requirement that should be satisfied by
the caller before a function starts.
<a id="hevea_default302"></a></dd><dt class="dt-description"><span class="c010">postcondition:</span></dt><dd class="dd-description"> A requirement that should be satisfied by
the function before it ends.
<a id="hevea_default303"></a></dd></dl>
<h2 class="section" id="sec53">4.12&#XA0;&#XA0;Exercises</h2>
<div class="theorem"><span class="c010">Exercise&#XA0;1</span>&#XA0;&#XA0;<p><em>Download the code in this chapter from
</em><a href="https://thinkpython.com/code/polygon.py"><em><span class="c004">https://thinkpython.com/code/polygon.py</span></em></a><em>.</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Draw a stack diagram that shows the state of the program
while executing <span class="c004">circle(bob, radius)</span>. You can do the
arithmetic by hand or add <span class="c004">print</span> statements to the code.
</em><a id="hevea_default304"></a></li><li class="li-enumerate"><em>The version of <span class="c004">arc</span> in Section&#XA0;</em><a href="#refactoring"><em>4.7</em></a><em> is not
very accurate because the linear approximation of the
circle is always outside the true circle. As a result,
the Turtle ends up a few pixels away from the correct
destination. My solution shows a way to reduce
the effect of this error. Read the code and see if it makes
sense to you. If you draw a diagram, you might see how it works.</em></li></ol></div><blockquote class="figure"><div class="center"><hr class="c019"></div>
<div class="center"><img src="thinkpython2003.png"></div>
<div class="caption"><table class="c001 cellpading0"><tr><td class="c018">Figure 4.1: Turtle flowers.</td></tr>
</table></div>
<a id="fig.flowers"></a>
<div class="center"><hr class="c019"></div></blockquote><div class="theorem"><span class="c010">Exercise&#XA0;2</span>&#XA0;&#XA0;
<a id="hevea_default305"></a><p><em>Write an appropriately general set of functions that
can draw flowers as in Figure&#XA0;</em><a href="#fig.flowers"><em>4.1</em></a><em>.</em></p><p><em>Solution: </em><a href="https://thinkpython.com/code/flower.py"><em><span class="c004">https://thinkpython.com/code/flower.py</span></em></a><em>,
also requires </em><a href="https://thinkpython.com/code/polygon.py"><em><span class="c004">https://thinkpython.com/code/polygon.py</span></em></a><em>.</em></p></div><blockquote class="figure"><div class="center"><hr class="c019"></div>
<div class="center"><img src="thinkpython2004.png"></div>
<div class="caption"><table class="c001 cellpading0"><tr><td class="c018">Figure 4.2: Turtle pies.</td></tr>
</table></div>
<a id="fig.pies"></a>
<div class="center"><hr class="c019"></div></blockquote><div class="theorem"><span class="c010">Exercise&#XA0;3</span>&#XA0;&#XA0;
<a id="hevea_default306"></a><p><em>Write an appropriately general set of functions that
can draw shapes as in Figure&#XA0;</em><a href="#fig.pies"><em>4.2</em></a><em>.</em></p><p><em>Solution: </em><a href="https://thinkpython.com/code/pie.py"><em><span class="c004">https://thinkpython.com/code/pie.py</span></em></a><em>.</em></p></div><div class="theorem"><span class="c010">Exercise&#XA0;4</span>&#XA0;&#XA0;
<a id="hevea_default307"></a>
<a id="hevea_default308"></a>
<a id="hevea_default309"></a><p><em>The letters of the alphabet can be constructed from a moderate number
of basic elements, like vertical and horizontal lines and a few
curves. Design an alphabet that can be drawn with a minimal
number of basic elements and then write functions that draw the letters.</em></p><p><em>You should write one function for each letter, with names
<code>draw_a</code>, <code>draw_b</code>, etc., and put your functions
in a file named <span class="c004">letters.py</span>. You can download a
&#X201C;turtle typewriter&#X201D; from </em><a href="https://thinkpython.com/code/typewriter.py"><span class="c004"><em>https://thinkpython.com/code/typewriter.py</em></span></a><em>
to help you test your code.</em></p><p><em>You can get a solution from </em><a href="https://thinkpython.com/code/letters.py"><em><span class="c004">https://thinkpython.com/code/letters.py</span></em></a><em>;
it also requires
</em><a href="https://thinkpython.com/code/polygon.py"><em><span class="c004">https://thinkpython.com/code/polygon.py</span></em></a><em>.</em></p></div><div class="theorem"><span class="c010">Exercise&#XA0;5</span>&#XA0;&#XA0;<p><em>Read about spirals at </em><a href="http://en.wikipedia.org/wiki/Spiral"><span class="c004"><em>http://en.wikipedia.org/wiki/Spiral</em></span></a><em>; then
write a program that draws an Archimedian spiral (or one of the other
kinds). Solution: </em><a href="https://thinkpython.com/code/spiral.py"><span class="c004"><em>https://thinkpython.com/code/spiral.py</em></span></a><em>.
</em><a id="hevea_default310"></a>
<a id="hevea_default311"></a> </p></div>
<p>
<a href="http://amzn.to/1VUYQUU">Buy this book at Amazon.com</a>

</td>

<td width=130 valign="top">

<h4>Contribute</h4>
If you would like to make a contribution to support my books,
you can use the button below and pay with PayPal.  Thank you!

<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="RAAYAZ7Y48S2A">
<table>
<tr><td><input type="hidden" name="on0" value="Pay what you want!">Pay what you want:</td></tr><tr><td><select name="os0">
	<option value="Small">Small $1.00 USD</option>
	<option value="Medium">Medium $5.00 USD</option>
	<option value="Large">Large $10.00 USD</option>
	<option value="X-Large">X-Large $20.00 USD</option>
	<option value="XX-Large">XX-Large $50.00 USD</option>
</select> </td></tr>
</table>
<input type="hidden" name="currency_code" value="USD">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynow_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

  
<p>
<h4>Are you using one of our books in a class?</h4>  We'd like to know
about it.  Please consider filling out <a href="http://spreadsheets.google.com/viewform?formkey=dC0tNUZkMjBEdXVoRGljNm9FRmlTMHc6MA" onClick="javascript: pageTracker._trackPageview('/outbound/survey');">this short survey</a>.

<p>
<br>

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491938455/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491938455&linkCode=as2&tag=greenteapre01-20&linkId=2JJH4SWCAVVYSQHO">Think DSP</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491938455" width="1" height="1" border="0" alt="">

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491938455/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491938455&linkCode=as2&tag=greenteapre01-20&linkId=CTV7PDT7E5EGGJUM"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=1491938455&Format=_SL160_&ID=AsinImage&MarketPlace=US&ServiceVersion=20070822&WS=1&tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491938455" width="1" height="1" border="0" alt="">

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491929561/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491929561&linkCode=as2&tag=greenteapre01-20&linkId=ZY6MAYM33ZTNSCNZ">Think Java</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491929561" width="1" height="1" border="0" alt="">

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491929561/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491929561&linkCode=as2&tag=greenteapre01-20&linkId=PT77ANWARUNNU3UK"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=1491929561&Format=_SL160_&ID=AsinImage&MarketPlace=US&ServiceVersion=20070822&WS=1&tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491929561" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1449370780/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1449370780&linkCode=as2&tag=greenteapre01-20">Think Bayes</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1449370780" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1449370780/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=1789&creative=9325&creativeASIN=1449370780&linkCode=as2&tag=greenteapre01-20"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1449370780&amp;Format=_SL160_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1449370780" width="1" height="1" border="0" alt="">

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491939362/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491939362&linkCode=as2&tag=greenteapre01-20&linkId=FJKSQ3IHEMY2F2VA">Think Python 2e</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491939362" width="1" height="1" border="0" alt="">


<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491939362/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491939362&linkCode=as2&tag=greenteapre01-20&linkId=ZZ454DLQ3IXDHNHX"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=1491939362&Format=_SL160_&ID=AsinImage&MarketPlace=US&ServiceVersion=20070822&WS=1&tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491939362" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1491907339/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491907339&linkCode=as2&tag=greenteapre01-20&linkId=O7WYM6H6YBYUFNWU">Think Stats 2e</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491907339" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1491907339/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491907339&linkCode=as2&tag=greenteapre01-20&linkId=JVSYKQHYSUIEYRHL"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1491907339&amp;Format=_SL160_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491907339" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1449314635/ref=as_li_tf_tl?ie=UTF8&tag=greenteapre01-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=1449314635">Think Complexity</a><img class="c003" src="http://www.assoc-amazon.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1449314635" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1449314635/ref=as_li_tf_il?ie=UTF8&camp=1789&creative=9325&creativeASIN=1449314635&linkCode=as2&tag=greenteapre01-20"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1449314635&amp;Format=_SL160_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=greenteapre01-20"></a><img class="c003" src="http://www.assoc-amazon.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1449314635" width="1" height="1" border="0" alt="">


</td>
</tr>
</table>
<hr>
<a href="thinkpython2004.html"><img src="back.png" ALT="Previous"></a>
<a href="index.html"><img src="up.png" ALT="Up"></a>
<a href="thinkpython2006.html"><img src="next.png" ALT="Next"></a>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="generator" content="hevea 2.32">
<link rel="stylesheet" type="text/css" href="thinkpython2.css">
<title>Conditionals and recursion</title>
</head>
<body>
<a href="thinkpython2005.html"><img src="back.png" ALT="Previous"></a>
<a href="index.html"><img src="up.png" ALT="Up"></a>
<a href="thinkpython2007.html"><img src="next.png" ALT="Next"></a>
<hr>
<table>

<tr>

<td valign="top" width="100" bgcolor="#b6459a">
</td>

<td valign="top" width="600" style="padding: 20px 20px;">

<p>
<a href="http://amzn.to/1VUYQUU">Buy this book at Amazon.com</a>

<h1 class="chapter" id="sec54">Chapter&#XA0;5&#XA0;&#XA0;Conditionals and recursion</h1>
<p>The main topic of this chapter is the <span class="c004">if</span> statement, which
executes different code depending on the state of the program.
But first I want to introduce two new operators: floor division
and modulus.</p>
<h2 class="section" id="sec55">5.1&#XA0;&#XA0;Floor division and modulus</h2>
<p>The <span class="c010">floor division</span> operator, <code>//</code>, divides
two numbers and rounds down to an integer. For example, suppose the
run time of a movie is 105 minutes. You might want to know how
long that is in hours. Conventional division
returns a floating-point number:</p><pre class="verbatim">&gt;&gt;&gt; minutes = 105
&gt;&gt;&gt; minutes / 60
1.75
</pre><p>But we don&#X2019;t normally write hours with decimal points. Floor
division returns the integer number of hours, rounding down:</p><pre class="verbatim">&gt;&gt;&gt; minutes = 105
&gt;&gt;&gt; hours = minutes // 60
&gt;&gt;&gt; hours
1
</pre><p>To get the remainder, you could subtract off one hour in minutes:</p><pre class="verbatim">&gt;&gt;&gt; remainder = minutes - hours * 60
&gt;&gt;&gt; remainder
45
</pre><p><a id="hevea_default312"></a>
<a id="hevea_default313"></a>
<a id="hevea_default314"></a>
<a id="hevea_default315"></a>
<a id="hevea_default316"></a>
<a id="hevea_default317"></a></p><p>An alternative is to use the <span class="c010">modulus operator</span>, <code>%</code>, which
divides two numbers and returns the remainder.</p><pre class="verbatim">&gt;&gt;&gt; remainder = minutes % 60
&gt;&gt;&gt; remainder
45
</pre><p>
The modulus operator is more useful than it seems. For
example, you can check whether one number is divisible by another&#X2014;if
<span class="c004">x % y</span> is zero, then <span class="c004">x</span> is divisible by <span class="c004">y</span>.
<a id="hevea_default318"></a></p><p>Also, you can extract the right-most digit
or digits from a number. For example, <span class="c004">x % 10</span> yields the
right-most digit of <span class="c004">x</span> (in base 10). Similarly <span class="c004">x % 100</span>
yields the last two digits.</p><p>If you are using Python 2, division works differently. The
division operator, <code>/</code>, performs floor division if both
operands are integers, and floating-point division if either
operand is a <span class="c004">float</span>.
<a id="hevea_default319"></a></p>
<h2 class="section" id="sec56">5.2&#XA0;&#XA0;Boolean expressions</h2>
<p>
<a id="hevea_default320"></a>
<a id="hevea_default321"></a>
<a id="hevea_default322"></a>
<a id="hevea_default323"></a></p><p>A <span class="c010">boolean expression</span> is an expression that is either true
or false. The following examples use the 
operator <span class="c004">==</span>, which compares two operands and produces
<span class="c004">True</span> if they are equal and <span class="c004">False</span> otherwise:</p><pre class="verbatim">&gt;&gt;&gt; 5 == 5
True
&gt;&gt;&gt; 5 == 6
False
</pre><p>
<span class="c004">True</span> and <span class="c004">False</span> are special
values that belong to the type <span class="c004">bool</span>; they are not strings:
<a id="hevea_default324"></a>
<a id="hevea_default325"></a>
<a id="hevea_default326"></a>
<a id="hevea_default327"></a>
<a id="hevea_default328"></a>
<a id="hevea_default329"></a></p><pre class="verbatim">&gt;&gt;&gt; type(True)
&lt;class 'bool'&gt;
&gt;&gt;&gt; type(False)
&lt;class 'bool'&gt;
</pre><p>
The <span class="c004">==</span> operator is one of the <span class="c010">relational operators</span>; the
others are:</p><pre class="verbatim">      x != y               # x is not equal to y
      x &gt; y                # x is greater than y
      x &lt; y                # x is less than y
      x &gt;= y               # x is greater than or equal to y
      x &lt;= y               # x is less than or equal to y
</pre><p>
Although these operations are probably familiar to you, the Python
symbols are different from the mathematical symbols. A common error
is to use a single equal sign (<span class="c004">=</span>) instead of a double equal sign
(<span class="c004">==</span>). Remember that <span class="c004">=</span> is an assignment operator and
<span class="c004">==</span> is a relational operator. There is no such thing as
<span class="c004">=&lt;</span> or <span class="c004">=&gt;</span>.
<a id="hevea_default330"></a>
<a id="hevea_default331"></a></p>
<h2 class="section" id="sec57">5.3&#XA0;&#XA0;Logical operators</h2>
<p>
<a id="hevea_default332"></a>
<a id="hevea_default333"></a></p><p>There are three <span class="c010">logical operators</span>: <span class="c004">and</span>, <span class="c004">or</span>, and <span class="c004">not</span>. The semantics (meaning) of these operators is
similar to their meaning in English. For example,
<span class="c004">x &gt; 0 and x &lt; 10</span> is true only if <span class="c004">x</span> is greater than 0
<em>and</em> less than 10.
<a id="hevea_default334"></a>
<a id="hevea_default335"></a>
<a id="hevea_default336"></a>
<a id="hevea_default337"></a>
<a id="hevea_default338"></a>
<a id="hevea_default339"></a></p><p><span class="c004">n%2 == 0 or n%3 == 0</span> is true if <em>either or both</em> of the
conditions is true, that is, if the number is divisible by 2 <em>or</em>
3.</p><p>Finally, the <span class="c004">not</span> operator negates a boolean
expression, so <span class="c004">not (x &gt; y)</span> is true if <span class="c004">x &gt; y</span> is false,
that is, if <span class="c004">x</span> is less than or equal to <span class="c004">y</span>.</p><p>Strictly speaking, the operands of the logical operators should be
boolean expressions, but Python is not very strict.
Any nonzero number is interpreted as <span class="c004">True</span>:</p><pre class="verbatim">&gt;&gt;&gt; 42 and True
True
</pre><p>
This flexibility can be useful, but there are some subtleties to
it that might be confusing. You might want to avoid it (unless
you know what you are doing).</p>
<h2 class="section" id="sec58">5.4&#XA0;&#XA0;Conditional execution</h2>
<p>
<a id="conditional.execution"></a></p><p><a id="hevea_default340"></a>
<a id="hevea_default341"></a>
<a id="hevea_default342"></a>
<a id="hevea_default343"></a>
<a id="hevea_default344"></a>
In order to write useful programs, we almost always need the ability
to check conditions and change the behavior of the program
accordingly. <span class="c010">Conditional statements</span> give us this ability. The
simplest form is the <span class="c004">if</span> statement:</p><pre class="verbatim">if x &gt; 0:
    print('x is positive')
</pre><p>
The boolean expression after <span class="c004">if</span> is
called the <span class="c010">condition</span>. If it is true, the indented
statement runs. If not, nothing happens.
<a id="hevea_default345"></a>
<a id="hevea_default346"></a>
<a id="hevea_default347"></a></p><p><span class="c004">if</span> statements have the same structure as function definitions:
a header followed by an indented body. Statements like this are
called <span class="c010">compound statements</span>.</p><p>There is no limit on the number of statements that can appear in
the body, but there has to be at least one.
Occasionally, it is useful to have a body with no statements (usually
as a place keeper for code you haven&#X2019;t written yet). In that
case, you can use the <span class="c004">pass</span> statement, which does nothing.
<a id="hevea_default348"></a>
<a id="hevea_default349"></a></p><pre class="verbatim">if x &lt; 0:
    pass          # TODO: need to handle negative values!
</pre>
<h2 class="section" id="sec59">5.5&#XA0;&#XA0;Alternative execution</h2>
<p>
<a id="alternative.execution"></a>
<a id="hevea_default350"></a>
<a id="hevea_default351"></a>
<a id="hevea_default352"></a></p><p>A second form of the <span class="c004">if</span> statement is &#X201C;alternative execution&#X201D;,
in which there are two possibilities and the condition determines
which one runs. The syntax looks like this:</p><pre class="verbatim">if x % 2 == 0:
    print('x is even')
else:
    print('x is odd')
</pre><p>
If the remainder when <span class="c004">x</span> is divided by 2 is 0, then we know that
<span class="c004">x</span> is even, and the program displays an appropriate message. If
the condition is false, the second set of statements runs.
Since the condition must be true or false, exactly one of the
alternatives will run. The alternatives are called <span class="c010">branches</span>, because they are branches in the flow of execution.
<a id="hevea_default353"></a></p>
<h2 class="section" id="sec60">5.6&#XA0;&#XA0;Chained conditionals</h2>
<p>
<a id="hevea_default354"></a>
<a id="hevea_default355"></a></p><p>Sometimes there are more than two possibilities and we need more than
two branches. One way to express a computation like that is a <span class="c010">chained conditional</span>:</p><pre class="verbatim">if x &lt; y:
    print('x is less than y')
elif x &gt; y:
    print('x is greater than y')
else:
    print('x and y are equal')
</pre><p>
<span class="c004">elif</span> is an abbreviation of &#X201C;else if&#X201D;. Again, exactly one
branch will run. There is no limit on the number of <span class="c004">elif</span> statements. If there is an <span class="c004">else</span> clause, it has to be
at the end, but there doesn&#X2019;t have to be one.
<a id="hevea_default356"></a>
<a id="hevea_default357"></a></p><pre class="verbatim">if choice == 'a':
    draw_a()
elif choice == 'b':
    draw_b()
elif choice == 'c':
    draw_c()
</pre><p>
Each condition is checked in order. If the first is false,
the next is checked, and so on. If one of them is
true, the corresponding branch runs and the statement
ends. Even if more than one condition is true, only the
first true branch runs. </p>
<h2 class="section" id="sec61">5.7&#XA0;&#XA0;Nested conditionals</h2>
<p>
<a id="hevea_default358"></a>
<a id="hevea_default359"></a></p><p>One conditional can also be nested within another. We could have
written the example in the previous section like this:</p><pre class="verbatim">if x == y:
    print('x and y are equal')
else:
    if x &lt; y:
        print('x is less than y')
    else:
        print('x is greater than y')
</pre><p>
The outer conditional contains two branches. The
first branch contains a simple statement. The second branch
contains another <span class="c004">if</span> statement, which has two branches of its
own. Those two branches are both simple statements,
although they could have been conditional statements as well.</p><p>Although the indentation of the statements makes the structure
apparent, <span class="c010">nested conditionals</span> become difficult to read very
quickly. It is a good idea to avoid them when you can.</p><p>Logical operators often provide a way to simplify nested conditional
statements. For example, we can rewrite the following code using a
single conditional:</p><pre class="verbatim">if 0 &lt; x:
    if x &lt; 10:
        print('x is a positive single-digit number.')
</pre><p>
The <span class="c004">print</span> statement runs only if we make it past both
conditionals, so we can get the same effect with the <span class="c004">and</span> operator:</p><pre class="verbatim">if 0 &lt; x and x &lt; 10:
    print('x is a positive single-digit number.')
</pre><p>For this kind of condition, Python provides a more concise option:</p><pre class="verbatim">if 0 &lt; x &lt; 10:
    print('x is a positive single-digit number.')
</pre>
<h2 class="section" id="sec62">5.8&#XA0;&#XA0;Recursion</h2>
<p>
<a id="recursion"></a>
<a id="hevea_default360"></a></p><p>It is legal for one function to call another;
it is also legal for a function to call itself. It may not be obvious
why that is a good thing, but it turns out to be one of the most
magical things a program can do.
For example, look at the following function:</p><pre class="verbatim">def countdown(n):
    if n &lt;= 0:
        print('Blastoff!')
    else:
        print(n)
        countdown(n-1)
</pre><p>
If <span class="c004">n</span> is 0 or negative, it outputs the word, &#X201C;Blastoff!&#X201D;
Otherwise, it outputs <span class="c004">n</span> and then calls a function named <span class="c004">countdown</span>&#X2014;itself&#X2014;passing <span class="c004">n-1</span> as an argument.</p><p>What happens if we call this function like this?</p><pre class="verbatim">&gt;&gt;&gt; countdown(3)
</pre><p>
The execution of <span class="c004">countdown</span> begins with <span class="c004">n=3</span>, and since
<span class="c004">n</span> is greater than 0, it outputs the value 3, and then calls itself...</p><blockquote class="quote">
The execution of <span class="c004">countdown</span> begins with <span class="c004">n=2</span>, and since
<span class="c004">n</span> is greater than 0, it outputs the value 2, and then calls itself...<blockquote class="quote">
The execution of <span class="c004">countdown</span> begins with <span class="c004">n=1</span>, and since
<span class="c004">n</span> is greater than 0, it outputs the value 1, and then calls itself...<blockquote class="quote">
The execution of <span class="c004">countdown</span> begins with <span class="c004">n=0</span>, and since <span class="c004">n</span> is not greater than 0, it outputs the word, &#X201C;Blastoff!&#X201D; and then
returns.
</blockquote><p>The <span class="c004">countdown</span> that got <span class="c004">n=1</span> returns.
</p></blockquote><p>The <span class="c004">countdown</span> that got <span class="c004">n=2</span> returns.
</p></blockquote><p>The <span class="c004">countdown</span> that got <span class="c004">n=3</span> returns.</p><p>And then you&#X2019;re back in <code>__main__</code>. So, the
total output looks like this:
<a id="hevea_default361"></a></p><pre class="verbatim">3
2
1
Blastoff!
</pre><p>
A function that calls itself is <span class="c010">recursive</span>; the process of
executing it is called <span class="c010">recursion</span>.
<a id="hevea_default362"></a>
<a id="hevea_default363"></a></p><p>As another example, we can write a function that prints a
string <span class="c004">n</span> times.</p><pre class="verbatim">def print_n(s, n):
    if n &lt;= 0:
        return
    print(s)
    print_n(s, n-1)
</pre><p>
If <span class="c004">n &lt;= 0</span> the <span class="c010">return statement</span> exits the function. The
flow of execution immediately returns to the caller, and the remaining
lines of the function don&#X2019;t run.
<a id="hevea_default364"></a>
<a id="hevea_default365"></a></p><p>The rest of the function is similar to <span class="c004">countdown</span>: it displays
<span class="c004">s</span> and then calls itself to display <span class="c004">s</span> <span class="c009">n</span>&#X2212;1 additional
times. So the number of lines of output is <span class="c004">1 + (n - 1)</span>, which
adds up to <span class="c004">n</span>.</p><p>For simple examples like this, it is probably easier to use a <span class="c004">for</span> loop. But we will see examples later that are hard to write
with a <span class="c004">for</span> loop and easy to write with recursion, so it is
good to start early.
<a id="hevea_default366"></a>
<a id="hevea_default367"></a></p>
<h2 class="section" id="sec63">5.9&#XA0;&#XA0;Stack diagrams for recursive functions</h2>
<p>
<a id="recursive.stack"></a>
<a id="hevea_default368"></a>
<a id="hevea_default369"></a>
<a id="hevea_default370"></a></p><p>In Section&#XA0;<a href="thinkpython2004.html#stackdiagram">3.9</a>, we used a stack diagram to represent
the state of a program during a function call. The same kind of
diagram can help interpret a recursive function.</p><p>Every time a function gets called, Python creates a
frame to contain the function&#X2019;s local variables and parameters.
For a recursive function, there might be more than one frame on the
stack at the same time.</p><p>Figure&#XA0;<a href="#fig.stack2">5.1</a> shows a stack diagram for <span class="c004">countdown</span> called with
<span class="c004">n = 3</span>.</p><blockquote class="figure"><div class="center"><hr class="c019"></div>
<div class="center"><img src="thinkpython2005.png"></div>
<div class="caption"><table class="c001 cellpading0"><tr><td class="c018">Figure 5.1: Stack diagram.</td></tr>
</table></div>
<a id="fig.stack2"></a>
<div class="center"><hr class="c019"></div></blockquote><p>As usual, the top of the stack is the frame for <code>__main__</code>.
It is empty because we did not create any variables in 
<code>__main__</code> or pass any arguments to it.
<a id="hevea_default371"></a>
<a id="hevea_default372"></a></p><p>The four <span class="c004">countdown</span> frames have different values for the
parameter <span class="c004">n</span>. The bottom of the stack, where <span class="c004">n=0</span>, is
called the <span class="c010">base case</span>. It does not make a recursive call, so
there are no more frames.</p><p>As an exercise, draw a stack diagram for <code>print_n</code> called with
<code>s = 'Hello'</code> and <span class="c004">n=2</span>.
Then write a function called <code>do_n</code> that takes a function
object and a number, <span class="c004">n</span>, as arguments, and that calls
the given function <span class="c004">n</span> times.</p>
<h2 class="section" id="sec64">5.10&#XA0;&#XA0;Infinite recursion</h2>
<p>
<a id="hevea_default373"></a>
<a id="hevea_default374"></a>
<a id="hevea_default375"></a>
<a id="hevea_default376"></a>
<a id="hevea_default377"></a></p><p>If a recursion never reaches a base case, it goes on making
recursive calls forever, and the program never terminates. This is
known as <span class="c010">infinite recursion</span>, and it is generally not
a good idea. Here is a minimal program with an infinite recursion:</p><pre class="verbatim">def recurse():
    recurse()
</pre><p>
In most programming environments, a program with infinite recursion
does not really run forever. Python reports an error
message when the maximum recursion depth is reached:
<a id="hevea_default378"></a>
<a id="hevea_default379"></a></p><pre class="verbatim">  File "&lt;stdin&gt;", line 2, in recurse
  File "&lt;stdin&gt;", line 2, in recurse
  File "&lt;stdin&gt;", line 2, in recurse
                  .   
                  .
                  .
  File "&lt;stdin&gt;", line 2, in recurse
RuntimeError: Maximum recursion depth exceeded
</pre><p>
This traceback is a little bigger than the one we saw in the
previous chapter. When the error occurs, there are 1000
<span class="c004">recurse</span> frames on the stack!</p><p>If you encounter an infinite recursion by accident, review
your function to confirm that there is a base case that does not
make a recursive call. And if there is a base case, check whether
you are guaranteed to reach it.</p>
<h2 class="section" id="sec65">5.11&#XA0;&#XA0;Keyboard input</h2>
<p>
<a id="hevea_default380"></a></p><p>The programs we have written so far accept no input from the user.
They just do the same thing every time.</p><p>Python provides a built-in function called <span class="c004">input</span> that
stops the program and
waits for the user to type something. When the user presses <span class="c006">Return</span> or <span class="c006">Enter</span>, the program resumes and <code>input</code>
returns what the user typed as a string. In Python 2, the same
function is called <code>raw_input</code>.
<a id="hevea_default381"></a>
<a id="hevea_default382"></a>
<a id="hevea_default383"></a></p><pre class="verbatim">&gt;&gt;&gt; text = input()
What are you waiting for?
&gt;&gt;&gt; text
'What are you waiting for?'
</pre><p>
Before getting input from the user, it is a good idea to print a
prompt telling the user what to type. <code>input</code> can take a
prompt as an argument:
<a id="hevea_default384"></a></p><pre class="verbatim">&gt;&gt;&gt; name = input('What...is your name?\n')
What...is your name?
Arthur, King of the Britons!
&gt;&gt;&gt; name
'Arthur, King of the Britons!'
</pre><p>
The sequence <code>\n</code> at the end of the prompt represents a <span class="c010">newline</span>, which is a special character that causes a line break.
That&#X2019;s why the user&#X2019;s input appears below the prompt. <a id="hevea_default385"></a></p><p>If you expect the user to type an integer, you can try to convert
the return value to <span class="c004">int</span>:</p><pre class="verbatim">&gt;&gt;&gt; prompt = 'What...is the airspeed velocity of an unladen swallow?\n'
&gt;&gt;&gt; speed = input(prompt)
What...is the airspeed velocity of an unladen swallow?
42
&gt;&gt;&gt; int(speed)
42
</pre><p>
But if the user types something other than a string of digits,
you get an error:</p><pre class="verbatim">&gt;&gt;&gt; speed = input(prompt)
What...is the airspeed velocity of an unladen swallow?
What do you mean, an African or a European swallow?
&gt;&gt;&gt; int(speed)
ValueError: invalid literal for int() with base 10
</pre><p>
We will see how to handle this kind of error later.
<a id="hevea_default386"></a>
<a id="hevea_default387"></a></p>
<h2 class="section" id="sec66">5.12&#XA0;&#XA0;Debugging</h2>
<p>
<a id="whitespace"></a>
<a id="hevea_default388"></a>
<a id="hevea_default389"></a></p><p>When a syntax or runtime error occurs, the error message contains
a lot of information, but it can be overwhelming. The most
useful parts are usually:</p><ul class="itemize"><li class="li-itemize">What kind of error it was, and</li><li class="li-itemize">Where it occurred.</li></ul><p>Syntax errors are usually easy to find, but there are a few
gotchas. Whitespace errors can be tricky because spaces and
tabs are invisible and we are used to ignoring them.
<a id="hevea_default390"></a></p><pre class="verbatim">&gt;&gt;&gt; x = 5
&gt;&gt;&gt;  y = 6
  File "&lt;stdin&gt;", line 1
    y = 6
    ^
IndentationError: unexpected indent
</pre><p>
In this example, the problem is that the second line is indented by
one space. But the error message points to <span class="c004">y</span>, which is
misleading. In general, error messages indicate where the problem was
discovered, but the actual error might be earlier in the code,
sometimes on a previous line.
<a id="hevea_default391"></a>
<a id="hevea_default392"></a></p><p>The same is true of runtime errors. Suppose you are trying
to compute a signal-to-noise ratio in decibels. The formula
is <span class="c009">SNR</span><sub><span class="c009">db</span></sub> = 10 log<sub>10</sub> (<span class="c009">P</span><sub><span class="c009">signal</span></sub> / <span class="c009">P</span><sub><span class="c009">noise</span></sub>). In Python,
you might write something like this:</p><pre class="verbatim">import math
signal_power = 9
noise_power = 10
ratio = signal_power // noise_power
decibels = 10 * math.log10(ratio)
print(decibels)
</pre><p>
When you run this program, you get an exception:
<a id="hevea_default393"></a>
<a id="hevea_default394"></a></p><pre class="verbatim">Traceback (most recent call last):
  File "snr.py", line 5, in ?
    decibels = 10 * math.log10(ratio)
ValueError: math domain error
</pre><p>
The error message indicates line 5, but there is nothing
wrong with that line. To find the real error, it might be
useful to print the value of <span class="c004">ratio</span>, which turns out to
be 0. The problem is in line 4, which uses floor division
instead of floating-point division.
<a id="hevea_default395"></a>
<a id="hevea_default396"></a></p><p>You should take the time to read error messages carefully, but don&#X2019;t
assume that everything they say is correct.</p>
<h2 class="section" id="sec67">5.13&#XA0;&#XA0;Glossary</h2>
<dl class="description"><dt class="dt-description"><span class="c010">floor division:</span></dt><dd class="dd-description"> An operator, denoted <span class="c004">//</span>, that divides two
numbers and rounds down (toward negative infinity) to an integer.
<a id="hevea_default397"></a> 
<a id="hevea_default398"></a></dd><dt class="dt-description"><span class="c010">modulus operator:</span></dt><dd class="dd-description"> An operator, denoted with a percent sign
(<span class="c004">%</span>), that works on integers and returns the remainder when one
number is divided by another.
<a id="hevea_default399"></a>
<a id="hevea_default400"></a></dd><dt class="dt-description"><span class="c010">boolean expression:</span></dt><dd class="dd-description"> An expression whose value is either 
<span class="c004">True</span> or <span class="c004">False</span>.
<a id="hevea_default401"></a>
<a id="hevea_default402"></a></dd><dt class="dt-description"><span class="c010">relational operator:</span></dt><dd class="dd-description"> One of the operators that compares
its operands: <span class="c004">==</span>, <span class="c004">!=</span>, <span class="c004">&gt;</span>, <span class="c004">&lt;</span>, <span class="c004">&gt;=</span>, and <span class="c004">&lt;=</span>.</dd><dt class="dt-description"><span class="c010">logical operator:</span></dt><dd class="dd-description"> One of the operators that combines boolean
expressions: <span class="c004">and</span>, <span class="c004">or</span>, and <span class="c004">not</span>.</dd><dt class="dt-description"><span class="c010">conditional statement:</span></dt><dd class="dd-description"> A statement that controls the flow of
execution depending on some condition.
<a id="hevea_default403"></a>
<a id="hevea_default404"></a></dd><dt class="dt-description"><span class="c010">condition:</span></dt><dd class="dd-description"> The boolean expression in a conditional statement
that determines which branch runs.
<a id="hevea_default405"></a></dd><dt class="dt-description"><span class="c010">compound statement:</span></dt><dd class="dd-description"> A statement that consists of a header
and a body. The header ends with a colon (:). The body is indented
relative to the header.
<a id="hevea_default406"></a></dd><dt class="dt-description"><span class="c010">branch:</span></dt><dd class="dd-description"> One of the alternative sequences of statements in
a conditional statement.
<a id="hevea_default407"></a></dd><dt class="dt-description"><span class="c010">chained conditional:</span></dt><dd class="dd-description"> A conditional statement with a series
of alternative branches.
<a id="hevea_default408"></a>
<a id="hevea_default409"></a></dd><dt class="dt-description"><span class="c010">nested conditional:</span></dt><dd class="dd-description"> A conditional statement that appears
in one of the branches of another conditional statement.
<a id="hevea_default410"></a>
<a id="hevea_default411"></a></dd><dt class="dt-description"><span class="c010">return statement:</span></dt><dd class="dd-description"> A statement that causes a function to
end immediately and return to the caller.</dd><dt class="dt-description"><span class="c010">recursion:</span></dt><dd class="dd-description"> The process of calling the function that is
currently executing.
<a id="hevea_default412"></a></dd><dt class="dt-description"><span class="c010">base case:</span></dt><dd class="dd-description"> A conditional branch in a
recursive function that does not make a recursive call.
<a id="hevea_default413"></a></dd><dt class="dt-description"><span class="c010">infinite recursion:</span></dt><dd class="dd-description"> A recursion that doesn&#X2019;t have a
base case, or never reaches it. Eventually, an infinite recursion
causes a runtime error.
<a id="hevea_default414"></a></dd></dl>
<h2 class="section" id="sec68">5.14&#XA0;&#XA0;Exercises</h2>
<div class="theorem"><span class="c010">Exercise&#XA0;1</span>&#XA0;&#XA0;<p><em>The <span class="c004">time</span> module provides a function, also named <span class="c004">time</span>, that
returns the current Greenwich Mean Time in &#X201C;the epoch&#X201D;, which is
an arbitrary time used as a reference point. On UNIX systems, the
epoch is 1 January 1970.</em></p><pre class="verbatim"><em>&gt;&gt;&gt; import time
&gt;&gt;&gt; time.time()
1437746094.5735958
</em></pre><p><em>Write a script that reads the current time and converts it to
a time of day in hours, minutes, and seconds, plus the number of
days since the epoch.</em></p></div><div class="theorem"><span class="c010">Exercise&#XA0;2</span>&#XA0;&#XA0;
<a id="hevea_default415"></a><p><em>Fermat&#X2019;s Last Theorem says that there are no positive integers
</em><span class="c009">a</span><em>, </em><span class="c009">b</span><em>, and </em><span class="c009">c</span><em> such that</em></p><table class="display dcenter"><tr class="c017"><td class="dcell"><span class="c009">a</span><sup><span class="c009">n</span></sup>&#XA0;+&#XA0;<span class="c009">b</span><sup><span class="c009">n</span></sup>&#XA0;=&#XA0;<span class="c009">c</span><sup><span class="c009">n</span></sup>&#XA0;</td></tr>
</table><p><em>
for any values of </em><span class="c009">n</span><em> greater than 2.</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Write a function named <code>check_fermat</code> that takes four
parameters&#X2014;<span class="c004">a</span>, <span class="c004">b</span>, <span class="c004">c</span> and <span class="c004">n</span>&#X2014;and
checks to see if Fermat&#X2019;s theorem holds. If
</em><span class="c009">n</span><em> is greater than 2 and </em><table class="display dcenter"><tr class="c017"><td class="dcell"><span class="c009"><em>a</em></span><sup><span class="c009"><em>n</em></span></sup><em>&#XA0;+&#XA0;<span class="c009">b</span></em><sup><span class="c009"><em>n</em></span></sup><em>&#XA0;=&#XA0;<span class="c009">c</span></em><sup><span class="c009"><em>n</em></span></sup><em>&#XA0;</em></td></tr>
</table><p><em>
the program should print, &#X201C;Holy smokes, Fermat was wrong!&#X201D;
Otherwise the program should print, &#X201C;No, that doesn&#X2019;t work.&#X201D;</em></p></li><li class="li-enumerate"><em>Write a function that prompts the user to input values
for <span class="c004">a</span>, <span class="c004">b</span>, <span class="c004">c</span> and <span class="c004">n</span>, converts them to
integers, and uses <code>check_fermat</code> to check whether they
violate Fermat&#X2019;s theorem.</em></li></ol></div><div class="theorem"><span class="c010">Exercise&#XA0;3</span>&#XA0;&#XA0;
<a id="hevea_default416"></a><p><em>If you are given three sticks, you may or may not be able to arrange
them in a triangle. For example, if one of the sticks is 12 inches
long and the other two are one inch long, you will
not be able to get the short sticks to meet in the middle. For any
three lengths, there is a simple test to see if it is possible to form
a triangle:</em></p><blockquote class="quotation"><em>
If any of the three lengths is greater than the sum of the other
two, then you cannot form a triangle. Otherwise, you
can. (If the sum of two lengths equals the third, they form
what is called a &#X201C;degenerate&#X201D; triangle.)
</em></blockquote><ol class="enumerate" type=1><li class="li-enumerate"><em>Write a function named <code>is_triangle</code> that takes three
integers as arguments, and that prints either &#X201C;Yes&#X201D; or &#X201C;No&#X201D;, depending
on whether you can or cannot form a triangle from sticks with the
given lengths.</em></li><li class="li-enumerate"><em>Write a function that prompts the user to input three stick
lengths, converts them to integers, and uses <code>is_triangle</code> to
check whether sticks with the given lengths can form a triangle.</em></li></ol></div><div class="theorem"><span class="c010">Exercise&#XA0;4</span>&#XA0;&#XA0;<em>
What is the output of the following program?
Draw a stack diagram that shows the state of the program
when it prints the result.</em><pre class="verbatim"><em>def recurse(n, s):
    if n == 0:
        print(s)
    else:
        recurse(n-1, n+s)

recurse(3, 0)
</em></pre><ol class="enumerate" type=1><li class="li-enumerate"><em>What would happen if you called this function like this: <span class="c004">recurse(-1, 0)</span>?</em></li><li class="li-enumerate"><em>Write a docstring that explains everything someone would need to
know in order to use this function (and nothing else).</em></li></ol></div><p>The following exercises use the <span class="c004">turtle</span> module, described in
Chapter&#XA0;<a href="thinkpython2005.html#turtlechap">4</a>:
<a id="hevea_default417"></a></p><div class="theorem"><span class="c010">Exercise&#XA0;5</span>&#XA0;&#XA0;<p><em>Read the following function and see if you can figure out
what it does (see the examples in Chapter&#XA0;</em><a href="thinkpython2005.html#turtlechap"><em>4</em></a><em>). Then run it 
and see if you got it right.</em></p><pre class="verbatim"><em>def draw(t, length, n):
    if n == 0:
        return
    angle = 50
    t.fd(length*n)
    t.lt(angle)
    draw(t, length, n-1)
    t.rt(2*angle)
    draw(t, length, n-1)
    t.lt(angle)
    t.bk(length*n)
</em></pre></div><blockquote class="figure"><div class="center"><hr class="c019"></div>
<div class="center"><img src="thinkpython2006.png"></div>
<div class="caption"><table class="c001 cellpading0"><tr><td class="c018">Figure 5.2: A Koch curve.</td></tr>
</table></div>
<a id="fig.koch"></a>
<div class="center"><hr class="c019"></div></blockquote><div class="theorem"><span class="c010">Exercise&#XA0;6</span>&#XA0;&#XA0;
<a id="hevea_default418"></a><p><em>The Koch curve is a fractal that looks something like
Figure&#XA0;</em><a href="#fig.koch"><em>5.2</em></a><em>. To draw a Koch curve with length </em><span class="c009">x</span><em>, all you
have to do is</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Draw a Koch curve with length </em><span class="c009">x</span>/3<em>.</em></li><li class="li-enumerate"><em>Turn left 60 degrees.</em></li><li class="li-enumerate"><em>Draw a Koch curve with length </em><span class="c009">x</span>/3<em>.</em></li><li class="li-enumerate"><em>Turn right 120 degrees.</em></li><li class="li-enumerate"><em>Draw a Koch curve with length </em><span class="c009">x</span>/3<em>.</em></li><li class="li-enumerate"><em>Turn left 60 degrees.</em></li><li class="li-enumerate"><em>Draw a Koch curve with length </em><span class="c009">x</span>/3<em>.</em></li></ol><p><em>The exception is if </em><span class="c009">x</span><em> is less than 3: in that case,
you can just draw a straight line with length </em><span class="c009">x</span><em>.</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Write a function called <span class="c004">koch</span> that takes a turtle and
a length as parameters, and that uses the turtle to draw a Koch
curve with the given length.</em></li><li class="li-enumerate"><em>Write a function called <span class="c004">snowflake</span> that draws three
Koch curves to make the outline of a snowflake.</em><p><em>Solution: </em><a href="https://thinkpython.com/code/koch.py"><em><span class="c004">https://thinkpython.com/code/koch.py</span></em></a><em>.</em></p></li><li class="li-enumerate"><em>The Koch curve can be generalized in several ways. See
</em><a href="http://en.wikipedia.org/wiki/Koch_snowflake"><em><span class="c004">http://en.wikipedia.org/wiki/Koch_snowflake</span></em></a><em> for examples and
implement your favorite.</em></li></ol></div>
<p>
<a href="http://amzn.to/1VUYQUU">Buy this book at Amazon.com</a>

</td>

<td width=130 valign="top">

<h4>Contribute</h4>
If you would like to make a contribution to support my books,
you can use the button below and pay with PayPal.  Thank you!

<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="RAAYAZ7Y48S2A">
<table>
<tr><td><input type="hidden" name="on0" value="Pay what you want!">Pay what you want:</td></tr><tr><td><select name="os0">
	<option value="Small">Small $1.00 USD</option>
	<option value="Medium">Medium $5.00 USD</option>
	<option value="Large">Large $10.00 USD</option>
	<option value="X-Large">X-Large $20.00 USD</option>
	<option value="XX-Large">XX-Large $50.00 USD</option>
</select> </td></tr>
</table>
<input type="hidden" name="currency_code" value="USD">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynow_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

  
<p>
<h4>Are you using one of our books in a class?</h4>  We'd like to know
about it.  Please consider filling out <a href="http://spreadsheets.google.com/viewform?formkey=dC0tNUZkMjBEdXVoRGljNm9FRmlTMHc6MA" onClick="javascript: pageTracker._trackPageview('/outbound/survey');">this short survey</a>.

<p>
<br>

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491938455/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491938455&linkCode=as2&tag=greenteapre01-20&linkId=2JJH4SWCAVVYSQHO">Think DSP</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491938455" width="1" height="1" border="0" alt="">

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491938455/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491938455&linkCode=as2&tag=greenteapre01-20&linkId=CTV7PDT7E5EGGJUM"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=1491938455&Format=_SL160_&ID=AsinImage&MarketPlace=US&ServiceVersion=20070822&WS=1&tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491938455" width="1" height="1" border="0" alt="">

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491929561/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491929561&linkCode=as2&tag=greenteapre01-20&linkId=ZY6MAYM33ZTNSCNZ">Think Java</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491929561" width="1" height="1" border="0" alt="">

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491929561/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491929561&linkCode=as2&tag=greenteapre01-20&linkId=PT77ANWARUNNU3UK"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=1491929561&Format=_SL160_&ID=AsinImage&MarketPlace=US&ServiceVersion=20070822&WS=1&tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491929561" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1449370780/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1449370780&linkCode=as2&tag=greenteapre01-20">Think Bayes</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1449370780" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1449370780/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=1789&creative=9325&creativeASIN=1449370780&linkCode=as2&tag=greenteapre01-20"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1449370780&amp;Format=_SL160_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1449370780" width="1" height="1" border="0" alt="">

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491939362/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491939362&linkCode=as2&tag=greenteapre01-20&linkId=FJKSQ3IHEMY2F2VA">Think Python 2e</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491939362" width="1" height="1" border="0" alt="">


<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491939362/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491939362&linkCode=as2&tag=greenteapre01-20&linkId=ZZ454DLQ3IXDHNHX"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=1491939362&Format=_SL160_&ID=AsinImage&MarketPlace=US&ServiceVersion=20070822&WS=1&tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491939362" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1491907339/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491907339&linkCode=as2&tag=greenteapre01-20&linkId=O7WYM6H6YBYUFNWU">Think Stats 2e</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491907339" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1491907339/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491907339&linkCode=as2&tag=greenteapre01-20&linkId=JVSYKQHYSUIEYRHL"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1491907339&amp;Format=_SL160_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491907339" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1449314635/ref=as_li_tf_tl?ie=UTF8&tag=greenteapre01-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=1449314635">Think Complexity</a><img class="c003" src="http://www.assoc-amazon.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1449314635" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1449314635/ref=as_li_tf_il?ie=UTF8&camp=1789&creative=9325&creativeASIN=1449314635&linkCode=as2&tag=greenteapre01-20"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1449314635&amp;Format=_SL160_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=greenteapre01-20"></a><img class="c003" src="http://www.assoc-amazon.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1449314635" width="1" height="1" border="0" alt="">


</td>
</tr>
</table>
<hr>
<a href="thinkpython2005.html"><img src="back.png" ALT="Previous"></a>
<a href="index.html"><img src="up.png" ALT="Up"></a>
<a href="thinkpython2007.html"><img src="next.png" ALT="Next"></a>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="generator" content="hevea 2.32">
<link rel="stylesheet" type="text/css" href="thinkpython2.css">
<title>Fruitful functions</title>
</head>
<body>
<a href="thinkpython2006.html"><img src="back.png" ALT="Previous"></a>
<a href="index.html"><img src="up.png" ALT="Up"></a>
<a href="thinkpython2008.html"><img src="next.png" ALT="Next"></a>
<hr>
<table>

<tr>

<td valign="top" width="100" bgcolor="#b6459a">
</td>

<td valign="top" width="600" style="padding: 20px 20px;">

<p>
<a href="http://amzn.to/1VUYQUU">Buy this book at Amazon.com</a>

<h1 class="chapter" id="sec69">Chapter&#XA0;6&#XA0;&#XA0;Fruitful functions</h1>
<p>
<a id="fruitchap"></a></p><p>Many of the Python functions we have used, such as the math
functions, produce return values. But the functions we&#X2019;ve written
are all void: they have an effect, like printing a value
or moving a turtle, but they don&#X2019;t have a return value. In
this chapter you will learn to write fruitful functions.</p>
<h2 class="section" id="sec70">6.1&#XA0;&#XA0;Return values</h2>
<p>
<a id="hevea_default419"></a></p><p>Calling the function generates a return
value, which we usually assign to a variable or use as part of an
expression.</p><pre class="verbatim">e = math.exp(1.0)
height = radius * math.sin(radians)
</pre><p>
The functions we have written so far are void. Speaking casually,
they have no return value; more precisely,
their return value is <span class="c004">None</span>.</p><p>In this chapter, we are (finally) going to write fruitful functions.
The first example is <span class="c004">area</span>, which returns the area of a circle
with the given radius:</p><pre class="verbatim">def area(radius):
    a = math.pi * radius**2
    return a
</pre><p>
We have seen the <span class="c004">return</span> statement before, but in a fruitful
function the <span class="c004">return</span> statement includes
an expression. This statement means: &#X201C;Return immediately from
this function and use the following expression as a return value.&#X201D;
The expression can be arbitrarily complicated, so we could
have written this function more concisely:
<a id="hevea_default420"></a>
<a id="hevea_default421"></a></p><pre class="verbatim">def area(radius):
    return math.pi * radius**2
</pre><p>
On the other hand, <span class="c010">temporary variables</span> like <span class="c004">a</span> can make
debugging easier.
<a id="hevea_default422"></a>
<a id="hevea_default423"></a></p><p>Sometimes it is useful to have multiple return statements, one in each
branch of a conditional:</p><pre class="verbatim">def absolute_value(x):
    if x &lt; 0:
        return -x
    else:
        return x
</pre><p>
Since these <span class="c004">return</span> statements are in an alternative conditional,
only one runs.</p><p>As soon as a return statement runs, the function
terminates without executing any subsequent statements.
Code that appears after a <span class="c004">return</span> statement, or any other place
the flow of execution can never reach, is called <span class="c010">dead code</span>.
<a id="hevea_default424"></a></p><p>In a fruitful function, it is a good idea to ensure
that every possible path through the program hits a
<span class="c004">return</span> statement. For example:</p><pre class="verbatim">def absolute_value(x):
    if x &lt; 0:
        return -x
    if x &gt; 0:
        return x
</pre><p>
This function is incorrect because if <span class="c004">x</span> happens to be 0,
neither condition is true, and the function ends without hitting a
<span class="c004">return</span> statement. If the flow of execution gets to the end
of a function, the return value is <span class="c004">None</span>, which is not
the absolute value of 0.
<a id="hevea_default425"></a>
<a id="hevea_default426"></a></p><pre class="verbatim">&gt;&gt;&gt; print(absolute_value(0))
None
</pre><p>
By the way, Python provides a built-in function called 
<span class="c004">abs</span> that computes absolute values.
<a id="hevea_default427"></a>
<a id="hevea_default428"></a></p><p>As an exercise, write a <span class="c004">compare</span> function that
takes two values, <span class="c004">x</span> and <span class="c004">y</span>, and returns <span class="c004">1</span> if <span class="c004">x &gt; y</span>,
<span class="c004">0</span> if <span class="c004">x == y</span>, and <span class="c004">-1</span> if <span class="c004">x &lt; y</span>.
<a id="hevea_default429"></a>
<a id="hevea_default430"></a></p>
<h2 class="section" id="sec71">6.2&#XA0;&#XA0;Incremental development</h2>
<p>
<a id="incremental.development"></a>
<a id="hevea_default431"></a></p><p>As you write larger functions, you might find yourself
spending more time debugging.</p><p>To deal with increasingly complex programs,
you might want to try a process called
<span class="c010">incremental development</span>. The goal of incremental development
is to avoid long debugging sessions by adding and testing only
a small amount of code at a time.
<a id="hevea_default432"></a>
<a id="hevea_default433"></a></p><p>As an example, suppose you want to find the distance between two
points, given by the coordinates (<span class="c009">x</span><sub>1</sub>, <span class="c009">y</span><sub>1</sub>) and (<span class="c009">x</span><sub>2</sub>, <span class="c009">y</span><sub>2</sub>).
By the Pythagorean theorem, the distance is:</p><table class="display dcenter"><tr class="c017"><td class="dcell"><span class="c009">distance</span>&#XA0;=&#XA0;</td><td class="dcell"><span class="c008">&#X221A;</span></td><td class="dcell"><table class="c002 cellpadding0"><tr><td class="hbar"></td></tr>
<tr><td class="c012">(<span class="c009">x</span><sub>2</sub>&#XA0;&#X2212;&#XA0;<span class="c009">x</span><sub>1</sub>)<sup>2</sup>&#XA0;+&#XA0;(<span class="c009">y</span><sub>2</sub>&#XA0;&#X2212;&#XA0;<span class="c009">y</span><sub>1</sub>)<sup>2</sup></td></tr>
</table></td></tr>
</table><p>
The first step is to consider what a <span class="c004">distance</span> function should
look like in Python. In other words, what are the inputs (parameters)
and what is the output (return value)?</p><p>In this case, the inputs are two points, which you can represent
using four numbers. The return value is the distance represented by
a floating-point value.</p><p>Immediately you can write an outline of the function:</p><pre class="verbatim">def distance(x1, y1, x2, y2):
    return 0.0
</pre><p>
Obviously, this version doesn&#X2019;t compute distances; it always returns
zero. But it is syntactically correct, and it runs, which means that
you can test it before you make it more complicated.</p><p>To test the new function, call it with sample arguments:</p><pre class="verbatim">&gt;&gt;&gt; distance(1, 2, 4, 6)
0.0
</pre><p>
I chose these values so that the horizontal distance is 3 and the
vertical distance is 4; that way, the result is 5, the hypotenuse 
of a 3-4-5 right triangle. When testing a function, it is
useful to know the right answer.
<a id="hevea_default434"></a></p><p>At this point we have confirmed that the function is syntactically
correct, and we can start adding code to the body.
A reasonable next step is to find the differences
<span class="c009">x</span><sub>2</sub> &#X2212; <span class="c009">x</span><sub>1</sub> and <span class="c009">y</span><sub>2</sub> &#X2212; <span class="c009">y</span><sub>1</sub>. The next version stores those values in
temporary variables and prints them.</p><pre class="verbatim">def distance(x1, y1, x2, y2):
    dx = x2 - x1
    dy = y2 - y1
    print('dx is', dx)
    print('dy is', dy)
    return 0.0
</pre><p>
If the function is working, it should display <code>dx is 3</code> and 
<code>dy is 4</code>. If so, we know that the function is getting the right
arguments and performing the first computation correctly. If not,
there are only a few lines to check.</p><p>Next we compute the sum of squares of <span class="c004">dx</span> and <span class="c004">dy</span>:</p><pre class="verbatim">def distance(x1, y1, x2, y2):
    dx = x2 - x1
    dy = y2 - y1
    dsquared = dx**2 + dy**2
    print('dsquared is: ', dsquared)
    return 0.0
</pre><p>
Again, you would run the program at this stage and check the output
(which should be 25).
Finally, you can use <span class="c004">math.sqrt</span> to compute and return the result:
<a id="hevea_default435"></a>
<a id="hevea_default436"></a></p><pre class="verbatim">def distance(x1, y1, x2, y2):
    dx = x2 - x1
    dy = y2 - y1
    dsquared = dx**2 + dy**2
    result = math.sqrt(dsquared)
    return result
</pre><p>
If that works correctly, you are done. Otherwise, you might
want to print the value of <span class="c004">result</span> before the return
statement.</p><p>The final version of the function doesn&#X2019;t display anything when it
runs; it only returns a value. The <span class="c004">print</span> statements we wrote
are useful for debugging, but once you get the function working, you
should remove them. Code like that is called <span class="c010">scaffolding</span>
because it is helpful for building the program but is not part of the
final product.
<a id="hevea_default437"></a></p><p>When you start out, you should add only a line or two of code at a
time. As you gain more experience, you might find yourself writing
and debugging bigger chunks. Either way, incremental development
can save you a lot of debugging time.</p><p>The key aspects of the process are:</p><ol class="enumerate" type=1><li class="li-enumerate">Start with a working program and make small incremental changes. 
At any point, if there is an error, you should have a good idea
where it is.</li><li class="li-enumerate">Use variables to hold intermediate values so you can
display and check them.</li><li class="li-enumerate">Once the program is working, you might want to remove some of
the scaffolding or consolidate multiple statements into compound
expressions, but only if it does not make the program difficult to
read.</li></ol><p>As an exercise, use incremental development to write a function
called <span class="c004">hypotenuse</span> that returns the length of the hypotenuse of a
right triangle given the lengths of the other two legs as arguments.
Record each stage of the development process as you go.
<a id="hevea_default438"></a></p>
<h2 class="section" id="sec72">6.3&#XA0;&#XA0;Composition</h2>
<p>
<a id="hevea_default439"></a>
<a id="hevea_default440"></a></p><p>As you should expect by now, you can call one function from within
another. As an example, we&#X2019;ll write a function that takes two points,
the center of the circle and a point on the perimeter, and computes
the area of the circle.</p><p>Assume that the center point is stored in the variables <span class="c004">xc</span> and
<span class="c004">yc</span>, and the perimeter point is in <span class="c004">xp</span> and <span class="c004">yp</span>. The
first step is to find the radius of the circle, which is the distance
between the two points. We just wrote a function, <span class="c004">distance</span>, that does that:</p><pre class="verbatim">radius = distance(xc, yc, xp, yp)
</pre><p>
The next step is to find the area of a circle with that radius;
we just wrote that, too:</p><pre class="verbatim">result = area(radius)
</pre><p>
Encapsulating these steps in a function, we get:
<a id="hevea_default441"></a></p><pre class="verbatim">def circle_area(xc, yc, xp, yp):
    radius = distance(xc, yc, xp, yp)
    result = area(radius)
    return result
</pre><p>
The temporary variables <span class="c004">radius</span> and <span class="c004">result</span> are useful for
development and debugging, but once the program is working, we can
make it more concise by composing the function calls:</p><pre class="verbatim">def circle_area(xc, yc, xp, yp):
    return area(distance(xc, yc, xp, yp))
</pre>
<h2 class="section" id="sec73">6.4&#XA0;&#XA0;Boolean functions</h2>
<p>
<a id="boolean"></a></p><p>Functions can return booleans, which is often convenient for hiding
complicated tests inside functions. <a id="hevea_default442"></a>
For example:</p><pre class="verbatim">def is_divisible(x, y):
    if x % y == 0:
        return True
    else:
        return False
</pre><p>
It is common to give boolean functions names that sound like yes/no
questions; <code>is_divisible</code> returns either <span class="c004">True</span> or <span class="c004">False</span>
to indicate whether <span class="c004">x</span> is divisible by <span class="c004">y</span>.</p><p>Here is an example:</p><pre class="verbatim">&gt;&gt;&gt; is_divisible(6, 4)
False
&gt;&gt;&gt; is_divisible(6, 3)
True
</pre><p>
The result of the <span class="c004">==</span> operator is a boolean, so we can write the
function more concisely by returning it directly:</p><pre class="verbatim">def is_divisible(x, y):
    return x % y == 0
</pre><p>
Boolean functions are often used in conditional statements:
<a id="hevea_default443"></a>
<a id="hevea_default444"></a></p><pre class="verbatim">if is_divisible(x, y):
    print('x is divisible by y')
</pre><p>
It might be tempting to write something like:</p><pre class="verbatim">if is_divisible(x, y) == True:
    print('x is divisible by y')
</pre><p>
But the extra comparison is unnecessary.</p><p>As an exercise, write a function <code>is_between(x, y, z)</code> that
returns <span class="c004">True</span> if <span class="c009">x</span> &#X2264; <span class="c009">y</span> &#X2264; <span class="c009">z</span> or <span class="c004">False</span> otherwise.</p>
<h2 class="section" id="sec74">6.5&#XA0;&#XA0;More recursion</h2>
<p>
<a id="more.recursion"></a>
<a id="hevea_default445"></a>
<a id="hevea_default446"></a>
<a id="hevea_default447"></a>
<a id="hevea_default448"></a>
<a id="hevea_default449"></a></p><p>We have only covered a small subset of Python, but you might
be interested to know that this subset is a <em>complete</em>
programming language, which means that anything that can be
computed can be expressed in this language. Any program ever written
could be rewritten using only the language features you have learned
so far (actually, you would need a few commands to control devices
like the mouse, disks, etc., but that&#X2019;s all).</p><p>Proving that claim is a nontrivial exercise first accomplished by Alan
Turing, one of the first computer scientists (some would argue that he
was a mathematician, but a lot of early computer scientists started as
mathematicians). Accordingly, it is known as the Turing Thesis.
For a more complete (and accurate) discussion of the Turing Thesis,
I recommend Michael Sipser&#X2019;s book <em>Introduction to the
Theory of Computation</em>.</p><p>To give you an idea of what you can do with the tools you have learned
so far, we&#X2019;ll evaluate a few recursively defined mathematical
functions. A recursive definition is similar to a circular
definition, in the sense that the definition contains a reference to
the thing being defined. A truly circular definition is not very
useful:</p><dl class="description"><dt class="dt-description"><span class="c010">vorpal:</span></dt><dd class="dd-description"> An adjective used to describe something that is vorpal.
<a id="hevea_default450"></a>
<a id="hevea_default451"></a>
<a id="hevea_default452"></a></dd></dl><p>If you saw that definition in the dictionary, you might be annoyed. On
the other hand, if you looked up the definition of the factorial
function, denoted with the symbol !, you might get something like
this:
</p><table class="display dcenter"><tr class="c017"><td class="dcell"><table class="c001 cellpading0"><tr><td class="c015">&nbsp;</td><td class="c012">&nbsp;</td><td class="c013">0!&#XA0;=&#XA0;1&#XA0;</td></tr>
<tr><td class="c015">&nbsp;</td><td class="c012">&nbsp;</td><td class="c013"><span class="c009">n</span>!&#XA0;=&#XA0;<span class="c009">n</span>&#XA0;(<span class="c009">n</span>&#X2212;1)!
</td></tr>
</table></td></tr>
</table><p>
This definition says that the factorial of 0 is 1, and the factorial
of any other value, <span class="c009">n</span>, is <span class="c009">n</span> multiplied by the factorial of <span class="c009">n</span>&#X2212;1.</p><p>So 3! is 3 times 2!, which is 2 times 1!, which is 1 times
0!. Putting it all together, 3! equals 3 times 2 times 1 times 1,
which is 6.
<a id="hevea_default453"></a>
<a id="hevea_default454"></a>
<a id="hevea_default455"></a></p><p>If you can write a recursive definition of something, you can
write a Python program to evaluate it. The first step is to decide
what the parameters should be. In this case it should be clear
that <span class="c004">factorial</span> takes an integer:</p><pre class="verbatim">def factorial(n):
</pre><p>
If the argument happens to be 0, all we have to do is return 1:</p><pre class="verbatim">def factorial(n):
    if n == 0:
        return 1
</pre><p>
Otherwise, and this is the interesting part, we have to make a
recursive call to find the factorial of <span class="c009">n</span>&#X2212;1 and then multiply it by
<span class="c009">n</span>:</p><pre class="verbatim">def factorial(n):
    if n == 0:
        return 1
    else:
        recurse = factorial(n-1)
        result = n * recurse
        return result
</pre><p>
The flow of execution for this program is similar to the flow of <span class="c004">countdown</span> in Section&#XA0;<a href="thinkpython2006.html#recursion">5.8</a>. If we call <span class="c004">factorial</span>
with the value 3:</p><p>Since 3 is not 0, we take the second branch and calculate the factorial
of <span class="c004">n-1</span>...</p><blockquote class="quote">
Since 2 is not 0, we take the second branch and calculate the factorial of
<span class="c004">n-1</span>...<blockquote class="quote">
Since 1 is not 0, we take the second branch and calculate the factorial
of <span class="c004">n-1</span>...<blockquote class="quote">
Since 0 equals 0, we take the first branch and return 1
without making any more recursive calls.
</blockquote><p>The return value, 1, is multiplied by <span class="c009">n</span>, which is 1, and the
result is returned.
</p></blockquote><p>The return value, 1, is multiplied by <span class="c009">n</span>, which is 2, and the
result is returned.
</p></blockquote><p>The return value (2) is multiplied by <span class="c009">n</span>, which is 3, and the result, 6,
becomes the return value of the function call that started the whole
process.
<a id="hevea_default456"></a></p><p>Figure&#XA0;<a href="#fig.stack3">6.1</a> shows what the stack diagram looks like for
this sequence of function calls.</p><blockquote class="figure"><div class="center"><hr class="c019"></div>
<div class="center"><img src="thinkpython2007.png"></div>
<div class="caption"><table class="c001 cellpading0"><tr><td class="c018">Figure 6.1: Stack diagram.</td></tr>
</table></div>
<a id="fig.stack3"></a>
<div class="center"><hr class="c019"></div></blockquote><p>The return values are shown being passed back up the stack. In each
frame, the return value is the value of <span class="c004">result</span>, which is the
product of <span class="c004">n</span> and <span class="c004">recurse</span>.
<a id="hevea_default457"></a>
<a id="hevea_default458"></a></p><p>In the last frame, the local
variables <span class="c004">recurse</span> and <span class="c004">result</span> do not exist, because
the branch that creates them does not run.</p>
<h2 class="section" id="sec75">6.6&#XA0;&#XA0;Leap of faith</h2>
<p>
<a id="hevea_default459"></a>
<a id="hevea_default460"></a></p><p>Following the flow of execution is one way to read programs, but
it can quickly become overwhelming. An
alternative is what I call the &#X201C;leap of faith&#X201D;. When you come to a
function call, instead of following the flow of execution, you <em>assume</em> that the function works correctly and returns the right
result.</p><p>In fact, you are already practicing this leap of faith when you use
built-in functions. When you call <span class="c004">math.cos</span> or <span class="c004">math.exp</span>,
you don&#X2019;t examine the bodies of those functions. You just
assume that they work because the people who wrote the built-in
functions were good programmers.</p><p>The same is true when you call one of your own functions. For
example, in Section&#XA0;<a href="#boolean">6.4</a>, we wrote a function called 
<code>is_divisible</code> that determines whether one number is divisible by
another. Once we have convinced ourselves that this function is
correct&#X2014;by examining the code and testing&#X2014;we can use the function
without looking at the body again.
<a id="hevea_default461"></a></p><p>The same is true of recursive programs. When you get to the recursive
call, instead of following the flow of execution, you should assume
that the recursive call works (returns the correct result) and then ask
yourself, &#X201C;Assuming that I can find the factorial of <span class="c009">n</span>&#X2212;1, can I
compute the factorial of <span class="c009">n</span>?&#X201D; It is clear that you
can, by multiplying by <span class="c009">n</span>.</p><p>Of course, it&#X2019;s a bit strange to assume that the function works
correctly when you haven&#X2019;t finished writing it, but that&#X2019;s why
it&#X2019;s called a leap of faith!</p>
<h2 class="section" id="sec76">6.7&#XA0;&#XA0;One more example</h2>
<p>
<a id="one.more.example"></a></p><p><a id="hevea_default462"></a>
<a id="hevea_default463"></a>
After <span class="c004">factorial</span>, the most common example of a recursively
defined mathematical function is <span class="c004">fibonacci</span>, which has the
following definition (see
<a href="http://en.wikipedia.org/wiki/Fibonacci_number"><span class="c004">http://en.wikipedia.org/wiki/Fibonacci_number</span></a>):
</p><table class="display dcenter"><tr class="c017"><td class="dcell"><table class="c001 cellpading0"><tr><td class="c015">&nbsp;</td><td class="c012">&nbsp;</td><td class="c013"><span class="c009">fibonacci</span>(0)&#XA0;=&#XA0;0&#XA0;</td></tr>
<tr><td class="c015">&nbsp;</td><td class="c012">&nbsp;</td><td class="c013"><span class="c009">fibonacci</span>(1)&#XA0;=&#XA0;1&#XA0;</td></tr>
<tr><td class="c015">&nbsp;</td><td class="c012">&nbsp;</td><td class="c013"><span class="c009">fibonacci</span>(<span class="c009">n</span>)&#XA0;=&#XA0;<span class="c009">fibonacci</span>(<span class="c009">n</span>&#X2212;1)&#XA0;+&#XA0;<span class="c009">fibonacci</span>(<span class="c009">n</span>&#X2212;2)
</td></tr>
</table></td></tr>
</table><p>
Translated into Python, it looks like this:</p><pre class="verbatim">def fibonacci(n):
    if n == 0:
        return 0
    elif  n == 1:
        return 1
    else:
        return fibonacci(n-1) + fibonacci(n-2)
</pre><p>
If you try to follow the flow of execution here, even for fairly
small values of <span class="c009">n</span>, your head explodes. But according to the
leap of faith, if you assume that the two recursive calls
work correctly, then it is clear that you get
the right result by adding them together.
<a id="hevea_default464"></a></p>
<h2 class="section" id="sec77">6.8&#XA0;&#XA0;Checking types</h2>
<p>
<a id="guardian"></a></p><p>What happens if we call <span class="c004">factorial</span> and give it 1.5 as an argument?
<a id="hevea_default465"></a>
<a id="hevea_default466"></a>
<a id="hevea_default467"></a>
<a id="hevea_default468"></a></p><pre class="verbatim">&gt;&gt;&gt; factorial(1.5)
RuntimeError: Maximum recursion depth exceeded
</pre><p>
It looks like an infinite recursion. How can that be? The function
has a base case&#X2014;when <span class="c004">n == 0</span>. But if <span class="c004">n</span> is not an integer,
we can <em>miss</em> the base case and recurse forever.
<a id="hevea_default469"></a>
<a id="hevea_default470"></a></p><p>In the first recursive call, the value of <span class="c004">n</span> is 0.5.
In the next, it is -0.5. From there, it gets smaller
(more negative), but it will never be 0.</p><p>We have two choices. We can try to generalize the <span class="c004">factorial</span>
function to work with floating-point numbers, or we can make <span class="c004">factorial</span> check the type of its argument. The first option is
called the gamma function and it&#X2019;s a
little beyond the scope of this book. So we&#X2019;ll go for the second.
<a id="hevea_default471"></a></p><p>We can use the built-in function <span class="c004">isinstance</span> to verify the type
of the argument. While we&#X2019;re at it, we can also make sure the
argument is positive:
<a id="hevea_default472"></a>
<a id="hevea_default473"></a></p><pre class="verbatim">def factorial(n):
    if not isinstance(n, int):
        print('Factorial is only defined for integers.')
        return None
    elif n &lt; 0:
        print('Factorial is not defined for negative integers.')
        return None
    elif n == 0:
        return 1
    else:
        return n * factorial(n-1)
</pre><p>
The first base case handles nonintegers; the
second handles negative integers. In both cases, the program prints
an error message and returns <span class="c004">None</span> to indicate that something
went wrong:</p><pre class="verbatim">&gt;&gt;&gt; print(factorial('fred'))
Factorial is only defined for integers.
None
&gt;&gt;&gt; print(factorial(-2))
Factorial is not defined for negative integers.
None
</pre><p>
If we get past both checks, we know that <span class="c009">n</span> is a non-negative integer, so we can prove that the recursion terminates.
<a id="hevea_default474"></a>
<a id="hevea_default475"></a></p><p>This program demonstrates a pattern sometimes called a <span class="c010">guardian</span>.
The first two conditionals act as guardians, protecting the code that
follows from values that might cause an error. The guardians make it
possible to prove the correctness of the code.</p><p>In Section&#XA0;<a href="thinkpython2012.html#raise">11.4</a> we will see a more flexible alternative to printing
an error message: raising an exception.</p>
<h2 class="section" id="sec78">6.9&#XA0;&#XA0;Debugging</h2>
<p>
<a id="factdebug"></a></p><p>Breaking a large program into smaller functions creates natural
checkpoints for debugging. If a function is not
working, there are three possibilities to consider:
<a id="hevea_default476"></a> </p><ul class="itemize"><li class="li-itemize">There is something wrong with the arguments the function
is getting; a precondition is violated.</li><li class="li-itemize">There is something wrong with the function; a postcondition
is violated.</li><li class="li-itemize">There is something wrong with the return value or the
way it is being used.</li></ul><p>To rule out the first possibility, you can add a <span class="c004">print</span> statement
at the beginning of the function and display the values of the
parameters (and maybe their types). Or you can write code
that checks the preconditions explicitly.
<a id="hevea_default477"></a>
<a id="hevea_default478"></a></p><p>If the parameters look good, add a <span class="c004">print</span> statement before each
<span class="c004">return</span> statement and display the return value. If
possible, check the result by hand. Consider calling the
function with values that make it easy to check the result
(as in Section&#XA0;<a href="#incremental.development">6.2</a>).</p><p>If the function seems to be working, look at the function call
to make sure the return value is being used correctly (or used
at all!).
<a id="hevea_default479"></a></p><p>Adding print statements at the beginning and end of a function
can help make the flow of execution more visible.
For example, here is a version of <span class="c004">factorial</span> with
print statements:</p><pre class="verbatim">def factorial(n):
    space = ' ' * (4 * n)
    print(space, 'factorial', n)
    if n == 0:
        print(space, 'returning 1')
        return 1
    else:
        recurse = factorial(n-1)
        result = n * recurse
        print(space, 'returning', result)
        return result
</pre><p>
<span class="c004">space</span> is a string of space characters that controls the
indentation of the output. Here is the result of <span class="c004">factorial(4)</span> :</p><pre class="verbatim">                 factorial 4
             factorial 3
         factorial 2
     factorial 1
 factorial 0
 returning 1
     returning 1
         returning 2
             returning 6
                 returning 24
</pre><p>
If you are confused about the flow of execution, this kind of
output can be helpful. It takes some time to develop effective
scaffolding, but a little bit of scaffolding can save a lot of debugging.</p>
<h2 class="section" id="sec79">6.10&#XA0;&#XA0;Glossary</h2>
<dl class="description"><dt class="dt-description"><span class="c010">temporary variable:</span></dt><dd class="dd-description"> A variable used to store an intermediate value in
a complex calculation.
<a id="hevea_default480"></a>
<a id="hevea_default481"></a></dd><dt class="dt-description"><span class="c010">dead code:</span></dt><dd class="dd-description"> Part of a program that can never run, often because
it appears after a <span class="c004">return</span> statement.
<a id="hevea_default482"></a></dd><dt class="dt-description"><span class="c010">incremental development:</span></dt><dd class="dd-description"> A program development plan intended to
avoid debugging by adding and testing only
a small amount of code at a time.
<a id="hevea_default483"></a></dd><dt class="dt-description"><span class="c010">scaffolding:</span></dt><dd class="dd-description"> Code that is used during program development but is
not part of the final version.
<a id="hevea_default484"></a></dd><dt class="dt-description"><span class="c010">guardian:</span></dt><dd class="dd-description"> A programming pattern that uses a conditional
statement to check for and handle circumstances that
might cause an error.
<a id="hevea_default485"></a>
<a id="hevea_default486"></a></dd></dl>
<h2 class="section" id="sec80">6.11&#XA0;&#XA0;Exercises</h2>
<div class="theorem"><span class="c010">Exercise&#XA0;1</span>&#XA0;&#XA0;<p><em>Draw a stack diagram for the following program. What does the program print?
</em><a id="hevea_default487"></a></p><pre class="verbatim"><em>def b(z):
    prod = a(z, z)
    print(z, prod)
    return prod

def a(x, y):
    x = x + 1
    return x * y

def c(x, y, z):
    total = x + y + z
    square = b(total)**2
    return square

x = 1
y = x + 1
print(c(x, y+3, x+y))
</em></pre></div><div class="theorem"><span class="c010">Exercise&#XA0;2</span>&#XA0;&#XA0;
<a id="ackermann"></a><p><em>The Ackermann function, </em><span class="c009">A</span>(<span class="c009">m</span>, <span class="c009">n</span>)<em>, is defined:</em></p><table class="display dcenter"><tr class="c017"><td class="dcell"><table class="c001 cellpading0"><tr><td class="c015"><table class="display"><tr class="c017"><td class="dcell"><span class="c009">A</span>(<span class="c009">m</span>,&#XA0;<span class="c009">n</span>)&#XA0;=&#XA0;</td><td class="dcell"><table class="display"><tr class="c017"><td class="dcell">&#X23A7;<br>
&#X23AA;<br>
&#X23A8;<br>
&#X23AA;<br>
&#X23A9;</td><td class="dcell"><table class="c001 cellpading0"><tr><td class="c013">&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;<span class="c009">n</span>+1</td><td class="c013">if &#XA0;<span class="c009">m</span>&#XA0;=&#XA0;0&#XA0;</td></tr>
<tr><td class="c013">&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;&#XA0;<span class="c009">A</span>(<span class="c009">m</span>&#X2212;1,&#XA0;1)</td><td class="c013">if &#XA0;<span class="c009">m</span>&#XA0;&gt;&#XA0;0&#XA0; and &#XA0;<span class="c009">n</span>&#XA0;=&#XA0;0&#XA0;</td></tr>
<tr><td class="c013"><span class="c009">A</span>(<span class="c009">m</span>&#X2212;1,&#XA0;<span class="c009">A</span>(<span class="c009">m</span>,&#XA0;<span class="c009">n</span>&#X2212;1))</td><td class="c013">if &#XA0;<span class="c009">m</span>&#XA0;&gt;&#XA0;0&#XA0; and &#XA0;<span class="c009">n</span>&#XA0;&gt;&#XA0;0.
</td></tr>
</table></td></tr>
</table></td></tr>
</table></td></tr>
</table></td></tr>
</table><p><em>
See </em><a href="http://en.wikipedia.org/wiki/Ackermann_function"><span class="c004"><em>http://en.wikipedia.org/wiki/Ackermann_function</em></span></a><em>.
Write a function named <span class="c004">ack</span> that evaluates the Ackermann function.
Use your function to evaluate <span class="c004">ack(3, 4)</span>, which should be 125.
What happens for larger values of <span class="c004">m</span> and <span class="c004">n</span>?
Solution: </em><a href="https://thinkpython.com/code/ackermann.py"><span class="c004"><em>https://thinkpython.com/code/ackermann.py</em></span></a><em>.
</em><a id="hevea_default488"></a>
<a id="hevea_default489"></a></p></div><div class="theorem"><span class="c010">Exercise&#XA0;3</span>&#XA0;&#XA0;
<a id="palindrome"></a><p><em>A palindrome is a word that is spelled the same backward and
forward, like &#X201C;noon&#X201D; and &#X201C;redivider&#X201D;. Recursively, a word
is a palindrome if the first and last letters are the same
and the middle is a palindrome.
</em><a id="hevea_default490"></a></p><p><em>The following are functions that take a string argument and
return the first, last, and middle letters:</em></p><pre class="verbatim"><em>def first(word):
    return word[0]

def last(word):
    return word[-1]

def middle(word):
    return word[1:-1]
</em></pre><p><em>
We&#X2019;ll see how they work in Chapter&#XA0;</em><a href="thinkpython2009.html#strings"><em>8</em></a><em>.</em></p><ol class="enumerate" type=1><li class="li-enumerate"><em>Type these functions into a file named <span class="c004">palindrome.py</span>
and test them out. What happens if you call <span class="c004">middle</span> with
a string with two letters? One letter? What about the empty
string, which is written <code>''</code> and contains no letters?</em></li><li class="li-enumerate"><em>Write a function called <code>is_palindrome</code> that takes
a string argument and returns <span class="c004">True</span> if it is a palindrome
and <span class="c004">False</span> otherwise. Remember that you can use the
built-in function <span class="c004">len</span> to check the length of a string.</em></li></ol><p><em>Solution: </em><a href="https://thinkpython.com/code/palindrome_soln.py"><em><span class="c004">https://thinkpython.com/code/palindrome_soln.py</span></em></a><em>.</em></p></div><div class="theorem"><span class="c010">Exercise&#XA0;4</span>&#XA0;&#XA0;<p><em>A number, </em><span class="c009">a</span><em>, is a power of </em><span class="c009">b</span><em> if it is divisible by </em><span class="c009">b</span><em>
and </em><span class="c009">a</span>/<span class="c009">b</span><em> is a power of </em><span class="c009">b</span><em>. Write a function called
<code>is_power</code> that takes parameters <span class="c004">a</span> and <span class="c004">b</span>
and returns <span class="c004">True</span> if <span class="c004">a</span> is a power of <span class="c004">b</span>.
Note: you will have to think about the base case.</em></p></div><div class="theorem"><span class="c010">Exercise&#XA0;5</span>&#XA0;&#XA0;
<a id="hevea_default491"></a>
<a id="hevea_default492"></a><p><em>The greatest common divisor (GCD) of </em><span class="c009">a</span><em> and </em><span class="c009">b</span><em> is the largest number
that divides both of them with no remainder. </em></p><p><em>One way to find the GCD of two numbers is based on the observation
that if </em><span class="c009">r</span><em> is the remainder when </em><span class="c009">a</span><em> is divided by </em><span class="c009">b</span><em>, then </em><span class="c009">gcd</span>(<span class="c009">a</span>,
<span class="c009">b</span>) = <span class="c009">gcd</span>(<span class="c009">b</span>, <span class="c009">r</span>)<em>. As a base case, we can use </em><span class="c009">gcd</span>(<span class="c009">a</span>, 0) = <span class="c009">a</span><em>.</em></p><p><em>Write a function called
<code>gcd</code> that takes parameters <span class="c004">a</span> and <span class="c004">b</span>
and returns their greatest common divisor.</em></p><p><em>Credit: This exercise is based on an example from Abelson and
Sussman&#X2019;s </em>Structure and Interpretation of Computer Programs<em>.</em></p></div>
<p>
<a href="http://amzn.to/1VUYQUU">Buy this book at Amazon.com</a>

</td>

<td width=130 valign="top">

<h4>Contribute</h4>
If you would like to make a contribution to support my books,
you can use the button below and pay with PayPal.  Thank you!

<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="RAAYAZ7Y48S2A">
<table>
<tr><td><input type="hidden" name="on0" value="Pay what you want!">Pay what you want:</td></tr><tr><td><select name="os0">
	<option value="Small">Small $1.00 USD</option>
	<option value="Medium">Medium $5.00 USD</option>
	<option value="Large">Large $10.00 USD</option>
	<option value="X-Large">X-Large $20.00 USD</option>
	<option value="XX-Large">XX-Large $50.00 USD</option>
</select> </td></tr>
</table>
<input type="hidden" name="currency_code" value="USD">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynow_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

  
<p>
<h4>Are you using one of our books in a class?</h4>  We'd like to know
about it.  Please consider filling out <a href="http://spreadsheets.google.com/viewform?formkey=dC0tNUZkMjBEdXVoRGljNm9FRmlTMHc6MA" onClick="javascript: pageTracker._trackPageview('/outbound/survey');">this short survey</a>.

<p>
<br>

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491938455/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491938455&linkCode=as2&tag=greenteapre01-20&linkId=2JJH4SWCAVVYSQHO">Think DSP</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491938455" width="1" height="1" border="0" alt="">

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491938455/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491938455&linkCode=as2&tag=greenteapre01-20&linkId=CTV7PDT7E5EGGJUM"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=1491938455&Format=_SL160_&ID=AsinImage&MarketPlace=US&ServiceVersion=20070822&WS=1&tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491938455" width="1" height="1" border="0" alt="">

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491929561/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491929561&linkCode=as2&tag=greenteapre01-20&linkId=ZY6MAYM33ZTNSCNZ">Think Java</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491929561" width="1" height="1" border="0" alt="">

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491929561/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491929561&linkCode=as2&tag=greenteapre01-20&linkId=PT77ANWARUNNU3UK"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=1491929561&Format=_SL160_&ID=AsinImage&MarketPlace=US&ServiceVersion=20070822&WS=1&tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491929561" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1449370780/ref=as_li_qf_sp_asin_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1449370780&linkCode=as2&tag=greenteapre01-20">Think Bayes</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1449370780" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1449370780/ref=as_li_qf_sp_asin_il?ie=UTF8&camp=1789&creative=9325&creativeASIN=1449370780&linkCode=as2&tag=greenteapre01-20"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1449370780&amp;Format=_SL160_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1449370780" width="1" height="1" border="0" alt="">

<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491939362/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491939362&linkCode=as2&tag=greenteapre01-20&linkId=FJKSQ3IHEMY2F2VA">Think Python 2e</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491939362" width="1" height="1" border="0" alt="">


<p>
<a rel="nofollow" href="http://www.amazon.com/gp/product/1491939362/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491939362&linkCode=as2&tag=greenteapre01-20&linkId=ZZ454DLQ3IXDHNHX"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=1491939362&Format=_SL160_&ID=AsinImage&MarketPlace=US&ServiceVersion=20070822&WS=1&tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491939362" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1491907339/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491907339&linkCode=as2&tag=greenteapre01-20&linkId=O7WYM6H6YBYUFNWU">Think Stats 2e</a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491907339" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1491907339/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=1491907339&linkCode=as2&tag=greenteapre01-20&linkId=JVSYKQHYSUIEYRHL"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1491907339&amp;Format=_SL160_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=greenteapre01-20"></a><img class="c003" src="http://ir-na.amazon-adsystem.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1491907339" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1449314635/ref=as_li_tf_tl?ie=UTF8&tag=greenteapre01-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=1449314635">Think Complexity</a><img class="c003" src="http://www.assoc-amazon.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1449314635" width="1" height="1" border="0" alt="">

<p>
<a href="http://www.amazon.com/gp/product/1449314635/ref=as_li_tf_il?ie=UTF8&camp=1789&creative=9325&creativeASIN=1449314635&linkCode=as2&tag=greenteapre01-20"><img border="0" src="http://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&amp;ASIN=1449314635&amp;Format=_SL160_&amp;ID=AsinImage&amp;MarketPlace=US&amp;ServiceVersion=20070822&amp;WS=1&amp;tag=greenteapre01-20"></a><img class="c003" src="http://www.assoc-amazon.com/e/ir?t=greenteapre01-20&l=as2&o=1&a=1449314635" width="1" height="1" border="0" alt="">


</td>
</tr>
</table>
<hr>
<a href="thinkpython2006.html"><img src="back.png" ALT="Previous"></a>
<a href="index.html"><img src="up.png" ALT="Up"></a>
<a href="thinkpython2008.html"><img src="next.png" ALT="Next"></a>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="generator" content="hevea 2.32">
<link rel="stylesheet" type="text/css" href="thinkpython2.css">
<title>Iteration</title>
</head>
<body>
<a href="thinkpython2007.html"><img src="back.png" ALT="Previous"></a>
<a href="index.html"><img src="up.png" ALT="Up"></a>
<a href="thinkpython2009.html"><img src="next.png" ALT="Next"></a>
<hr>
<table>

<tr>

<td valign="top" width="100" bgcolor="#b6459a">
</td>

<td valign="top" width="600" style="padding: 20px 20px;">

<p>
<a href="http://amzn.to/1VUYQUU">Buy this book at Amazon.com</a>

<h1 class="chapter" id="sec81">Chapter&#XA0;7&#XA0;&#XA0;Iteration</h1>
<p>This chapter is about iteration, which is the ability