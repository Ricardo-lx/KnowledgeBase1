<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>ThinkPython4</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../Scrapy/Scrapy.html"><strong aria-hidden="true">1.</strong> Scrapy(-v master)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Scrapy/Scrapy1.html"><strong aria-hidden="true">1.1.</strong> Scrapy1</a></li><li class="chapter-item expanded "><a href="../Scrapy/Scrapy2.html"><strong aria-hidden="true">1.2.</strong> Scrapy2</a></li><li class="chapter-item expanded "><a href="../Scrapy/Scrapy3.html"><strong aria-hidden="true">1.3.</strong> Scrapy3</a></li><li class="chapter-item expanded "><a href="../Scrapy/Scrapy4.html"><strong aria-hidden="true">1.4.</strong> Scrapy4</a></li><li class="chapter-item expanded "><a href="../Scrapy/Scrapy5.html"><strong aria-hidden="true">1.5.</strong> Scrapy5</a></li><li class="chapter-item expanded "><a href="../Scrapy/Scrapy6.html"><strong aria-hidden="true">1.6.</strong> Scrapy6</a></li><li class="chapter-item expanded "><a href="../Scrapy/Scrapy7.html"><strong aria-hidden="true">1.7.</strong> Scrapy7</a></li><li class="chapter-item expanded "><a href="../Scrapy/Scrapy8.html"><strong aria-hidden="true">1.8.</strong> Scrapy8</a></li><li class="chapter-item expanded "><a href="../Scrapy/Scrapy9.html"><strong aria-hidden="true">1.9.</strong> Scrapy9</a></li><li class="chapter-item expanded "><a href="../Scrapy/Scrapy10.html"><strong aria-hidden="true">1.10.</strong> Scrapy10</a></li></ol></li><li class="chapter-item expanded "><a href="../ThinkPython/merged_file.html"><strong aria-hidden="true">2.</strong> ThinkPython</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ThinkPython/part_1.html"><strong aria-hidden="true">2.1.</strong> ThinkPython1</a></li><li class="chapter-item expanded "><a href="../ThinkPython/part_2.html"><strong aria-hidden="true">2.2.</strong> ThinkPython2</a></li><li class="chapter-item expanded "><a href="../ThinkPython/part_3.html"><strong aria-hidden="true">2.3.</strong> ThinkPython3</a></li><li class="chapter-item expanded "><a href="../ThinkPython/part_4.html" class="active"><strong aria-hidden="true">2.4.</strong> ThinkPython4</a></li><li class="chapter-item expanded "><a href="../ThinkPython/part_5.html"><strong aria-hidden="true">2.5.</strong> ThinkPython5</a></li><li class="chapter-item expanded "><a href="../ThinkPython/part_6.html"><strong aria-hidden="true">2.6.</strong> ThinkPython6</a></li><li class="chapter-item expanded "><a href="../ThinkPython/part_7.html"><strong aria-hidden="true">2.7.</strong> ThinkPython7</a></li><li class="chapter-item expanded "><a href="../ThinkPython/part_8.html"><strong aria-hidden="true">2.8.</strong> ThinkPython8</a></li><li class="chapter-item expanded "><a href="../ThinkPython/part_9.html"><strong aria-hidden="true">2.9.</strong> ThinkPython9</a></li><li class="chapter-item expanded "><a href="../ThinkPython/part_10.html"><strong aria-hidden="true">2.10.</strong> ThinkPython10</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <pre><code>       | 2                     |                       |
</code></pre>
<div class="table-wrapper"><table><thead><tr><th></th><th>```</th><th></th></tr></thead><tbody>
<tr><td></td><td>By default,</td><td></td></tr>
<tr><td></td><td>[find]{.c004} starts</td><td></td></tr>
<tr><td></td><td>at the beginning of</td><td></td></tr>
<tr><td></td><td>the string, but it</td><td></td></tr>
<tr><td></td><td>can take a second</td><td></td></tr>
<tr><td></td><td>argument, the index</td><td></td></tr>
<tr><td></td><td>where it should</td><td></td></tr>
<tr><td></td><td>start:</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default603}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default604}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>&gt;</td><td></td></tr>
<tr><td></td><td>&gt;&gt; word.find('na', 3)</td><td></td></tr>
<tr><td></td><td>4</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>This is an example of</td><td></td></tr>
<tr><td></td><td>an [optional</td><td></td></tr>
<tr><td></td><td>argument]{.c010};</td><td></td></tr>
<tr><td></td><td>[find]{.c004} can</td><td></td></tr>
<tr><td></td><td>also take a third</td><td></td></tr>
<tr><td></td><td>argument, the index</td><td></td></tr>
<tr><td></td><td>where it should stop:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>&gt;&gt;&gt; name = 'bob'</td><td></td></tr>
<tr><td></td><td>&gt;&gt;&gt;</td><td></td></tr>
<tr><td></td><td>name.find('b', 1, 2)</td><td></td></tr>
<tr><td></td><td>-1</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>This search fails</td><td></td></tr>
<tr><td></td><td>because [b]{.c004}</td><td></td></tr>
<tr><td></td><td>does not appear in</td><td></td></tr>
<tr><td></td><td>the index range from</td><td></td></tr>
<tr><td></td><td>[1]{.c004} to</td><td></td></tr>
<tr><td></td><td>[2]{.c004}, not</td><td></td></tr>
<tr><td></td><td>including [2]{.c004}.</td><td></td></tr>
<tr><td></td><td>Searching up to, but</td><td></td></tr>
<tr><td></td><td>not including, the</td><td></td></tr>
<tr><td></td><td>second index makes</td><td></td></tr>
<tr><td></td><td>[find]{.c004}</td><td></td></tr>
<tr><td></td><td>consistent with the</td><td></td></tr>
<tr><td></td><td>slice operator.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>## 8.9  T</td><td></td></tr>
<tr><td></td><td>he [in]{.c004} operat</td><td></td></tr>
<tr><td></td><td>or {#sec100 .section}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#inboth}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default605}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default606}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default607}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default608}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>The word [in]{.c004}</td><td></td></tr>
<tr><td></td><td>is a boolean operator</td><td></td></tr>
<tr><td></td><td>that takes two</td><td></td></tr>
<tr><td></td><td>strings and returns</td><td></td></tr>
<tr><td></td><td>[True]{.c004} if the</td><td></td></tr>
<tr><td></td><td>first appears as a</td><td></td></tr>
<tr><td></td><td>substring in the</td><td></td></tr>
<tr><td></td><td>second:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>&gt;&gt;&gt; 'a' in 'banana'</td><td></td></tr>
<tr><td></td><td>True</td><td></td></tr>
<tr><td></td><td>&gt;</td><td></td></tr>
<tr><td></td><td>&gt;&gt; 'seed' in 'banana'</td><td></td></tr>
<tr><td></td><td>False</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>For example, the</td><td></td></tr>
<tr><td></td><td>following function</td><td></td></tr>
<tr><td></td><td>prints all the</td><td></td></tr>
<tr><td></td><td>letters from</td><td></td></tr>
<tr><td></td><td>[word1]{.c004} that</td><td></td></tr>
<tr><td></td><td>also appear in</td><td></td></tr>
<tr><td></td><td>[word2]{.c004}:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>def i</td><td></td></tr>
<tr><td></td><td>n_both(word1, word2):</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>for letter in word1:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>if letter in word2:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>print(letter)</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>With well-chosen</td><td></td></tr>
<tr><td></td><td>variable names,</td><td></td></tr>
<tr><td></td><td>Python sometimes</td><td></td></tr>
<tr><td></td><td>reads like English.</td><td></td></tr>
<tr><td></td><td>You could read this</td><td></td></tr>
<tr><td></td><td>loop, &quot;for (each)</td><td></td></tr>
<tr><td></td><td>letter in (the first)</td><td></td></tr>
<tr><td></td><td>word, if (the) letter</td><td></td></tr>
<tr><td></td><td>(appears) in (the</td><td></td></tr>
<tr><td></td><td>second) word, print</td><td></td></tr>
<tr><td></td><td>(the) letter.&quot;</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>Here's what you get</td><td></td></tr>
<tr><td></td><td>if you compare apples</td><td></td></tr>
<tr><td></td><td>and oranges:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>&gt;&gt;&gt; in_both</td><td></td></tr>
<tr><td></td><td>('apples', 'oranges')</td><td></td></tr>
<tr><td></td><td>a</td><td></td></tr>
<tr><td></td><td>e</td><td></td></tr>
<tr><td></td><td>s</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>##</td><td></td></tr>
<tr><td></td><td>8.10  String comparis</td><td></td></tr>
<tr><td></td><td>on {#sec101 .section}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default609}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default610}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>The relational</td><td></td></tr>
<tr><td></td><td>operators work on</td><td></td></tr>
<tr><td></td><td>strings. To see if</td><td></td></tr>
<tr><td></td><td>two strings are</td><td></td></tr>
<tr><td></td><td>equal:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>if word == 'banana':</td><td></td></tr>
<tr><td></td><td>print('</td><td></td></tr>
<tr><td></td><td>All right, bananas.')</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>Other relational</td><td></td></tr>
<tr><td></td><td>operations are useful</td><td></td></tr>
<tr><td></td><td>for putting words in</td><td></td></tr>
<tr><td></td><td>alphabetical order:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>if word &lt; 'banana':</td><td></td></tr>
<tr><td></td><td>print('Your</td><td></td></tr>
<tr><td></td><td>word, ' + word + ', c</td><td></td></tr>
<tr><td></td><td>omes before banana.')</td><td></td></tr>
<tr><td></td><td>elif word &gt; 'banana':</td><td></td></tr>
<tr><td></td><td>print('Your</td><td></td></tr>
<tr><td></td><td>word, ' + word + ',</td><td></td></tr>
<tr><td></td><td>comes after banana.')</td><td></td></tr>
<tr><td></td><td>else:</td><td></td></tr>
<tr><td></td><td>print('</td><td></td></tr>
<tr><td></td><td>All right, bananas.')</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>Python does not</td><td></td></tr>
<tr><td></td><td>handle uppercase and</td><td></td></tr>
<tr><td></td><td>lowercase letters the</td><td></td></tr>
<tr><td></td><td>same way people do.</td><td></td></tr>
<tr><td></td><td>All the uppercase</td><td></td></tr>
<tr><td></td><td>letters come before</td><td></td></tr>
<tr><td></td><td>all the lowercase</td><td></td></tr>
<tr><td></td><td>letters, so:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>Your word, Pineapple,</td><td></td></tr>
<tr><td></td><td>comes before banana.</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>A common way to</td><td></td></tr>
<tr><td></td><td>address this problem</td><td></td></tr>
<tr><td></td><td>is to convert strings</td><td></td></tr>
<tr><td></td><td>to a standard format,</td><td></td></tr>
<tr><td></td><td>such as all</td><td></td></tr>
<tr><td></td><td>lowercase, before</td><td></td></tr>
<tr><td></td><td>performing the</td><td></td></tr>
<tr><td></td><td>comparison. Keep that</td><td></td></tr>
<tr><td></td><td>in mind in case you</td><td></td></tr>
<tr><td></td><td>have to defend</td><td></td></tr>
<tr><td></td><td>yourself against a</td><td></td></tr>
<tr><td></td><td>man armed with a</td><td></td></tr>
<tr><td></td><td>Pineapple.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>## 8.11  Debuggi</td><td></td></tr>
<tr><td></td><td>ng {#sec102 .section}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default611}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default612}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>When you use indices</td><td></td></tr>
<tr><td></td><td>to traverse the</td><td></td></tr>
<tr><td></td><td>values in a sequence,</td><td></td></tr>
<tr><td></td><td>it is tricky to get</td><td></td></tr>
<tr><td></td><td>the beginning and end</td><td></td></tr>
<tr><td></td><td>of the traversal</td><td></td></tr>
<tr><td></td><td>right. Here is a</td><td></td></tr>
<tr><td></td><td>function that is</td><td></td></tr>
<tr><td></td><td>supposed to compare</td><td></td></tr>
<tr><td></td><td>two words and return</td><td></td></tr>
<tr><td></td><td>[True]{.c004} if one</td><td></td></tr>
<tr><td></td><td>of the words is the</td><td></td></tr>
<tr><td></td><td>reverse of the other,</td><td></td></tr>
<tr><td></td><td>but it contains two</td><td></td></tr>
<tr><td></td><td>errors:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>def is_r</td><td></td></tr>
<tr><td></td><td>everse(word1, word2):</td><td></td></tr>
<tr><td></td><td>if len(</td><td></td></tr>
<tr><td></td><td>word1) != len(word2):</td><td></td></tr>
<tr><td></td><td>return False</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>i = 0</td><td></td></tr>
<tr><td></td><td>j = len(word2)</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>while j &gt; 0:</td><td></td></tr>
<tr><td></td><td>if</td><td></td></tr>
<tr><td></td><td>word1[i] != word2[j]:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>return False</td><td></td></tr>
<tr><td></td><td>i = i+1</td><td></td></tr>
<tr><td></td><td>j = j-1</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>return True</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>The first [if]{.c004}</td><td></td></tr>
<tr><td></td><td>statement checks</td><td></td></tr>
<tr><td></td><td>whether the words are</td><td></td></tr>
<tr><td></td><td>the same length. If</td><td></td></tr>
<tr><td></td><td>not, we can return</td><td></td></tr>
<tr><td></td><td>[False]{.c004}</td><td></td></tr>
<tr><td></td><td>immediately.</td><td></td></tr>
<tr><td></td><td>Otherwise, for the</td><td></td></tr>
<tr><td></td><td>rest of the function,</td><td></td></tr>
<tr><td></td><td>we can assume that</td><td></td></tr>
<tr><td></td><td>the words are the</td><td></td></tr>
<tr><td></td><td>same length. This is</td><td></td></tr>
<tr><td></td><td>an example of the</td><td></td></tr>
<tr><td></td><td>guardian pattern in</td><td></td></tr>
<tr><td></td><td>Sec</td><td></td></tr>
<tr><td></td><td>tion [6.8](thinkpytho</td><td></td></tr>
<tr><td></td><td>n2007.html#guardian).</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default613}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default614}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default615}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[i]{.c004} and</td><td></td></tr>
<tr><td></td><td>[j]{.c004} are</td><td></td></tr>
<tr><td></td><td>indices: [i]{.c004}</td><td></td></tr>
<tr><td></td><td>traverses</td><td></td></tr>
<tr><td></td><td>[word1]{.c004}</td><td></td></tr>
<tr><td></td><td>forward while</td><td></td></tr>
<tr><td></td><td>[j]{.c004} traverses</td><td></td></tr>
<tr><td></td><td>[word2]{.c004}</td><td></td></tr>
<tr><td></td><td>backward. If we find</td><td></td></tr>
<tr><td></td><td>two letters that</td><td></td></tr>
<tr><td></td><td>don't match, we can</td><td></td></tr>
<tr><td></td><td>return [False]{.c004}</td><td></td></tr>
<tr><td></td><td>immediately. If we</td><td></td></tr>
<tr><td></td><td>get through the whole</td><td></td></tr>
<tr><td></td><td>loop and all the</td><td></td></tr>
<tr><td></td><td>letters match, we</td><td></td></tr>
<tr><td></td><td>return [True]{.c004}.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>If we test this</td><td></td></tr>
<tr><td></td><td>function with the</td><td></td></tr>
<tr><td></td><td>words &quot;pots&quot; and</td><td></td></tr>
<tr><td></td><td>&quot;stop&quot;, we expect the</td><td></td></tr>
<tr><td></td><td>return value</td><td></td></tr>
<tr><td></td><td>[True]{.c004}, but we</td><td></td></tr>
<tr><td></td><td>get an IndexError:</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default616}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default617}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>&gt;&gt;&gt; is_re</td><td></td></tr>
<tr><td></td><td>verse('pots', 'stop')</td><td></td></tr>
<tr><td></td><td>...</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>File &quot;reverse.py&quot;, l</td><td></td></tr>
<tr><td></td><td>ine 15, in is_reverse</td><td></td></tr>
<tr><td></td><td>if</td><td></td></tr>
<tr><td></td><td>word1[i] != word2[j]:</td><td></td></tr>
<tr><td></td><td>IndexError: stri</td><td></td></tr>
<tr><td></td><td>ng index out of range</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>For debugging this</td><td></td></tr>
<tr><td></td><td>kind of error, my</td><td></td></tr>
<tr><td></td><td>first move is to</td><td></td></tr>
<tr><td></td><td>print the values of</td><td></td></tr>
<tr><td></td><td>the indices</td><td></td></tr>
<tr><td></td><td>immediately before</td><td></td></tr>
<tr><td></td><td>the line where the</td><td></td></tr>
<tr><td></td><td>error appears.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>while j &gt; 0:</td><td></td></tr>
<tr><td></td><td>print(i, j</td><td></td></tr>
<tr><td></td><td>)        # print here</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>if</td><td></td></tr>
<tr><td></td><td>word1[i] != word2[j]:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>return False</td><td></td></tr>
<tr><td></td><td>i = i+1</td><td></td></tr>
<tr><td></td><td>j = j-1</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>Now when I run the</td><td></td></tr>
<tr><td></td><td>program again, I get</td><td></td></tr>
<tr><td></td><td>more information:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>&gt;&gt;&gt; is_re</td><td></td></tr>
<tr><td></td><td>verse('pots', 'stop')</td><td></td></tr>
<tr><td></td><td>0 4</td><td></td></tr>
<tr><td></td><td>...</td><td></td></tr>
<tr><td></td><td>IndexError: stri</td><td></td></tr>
<tr><td></td><td>ng index out of range</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>The first time</td><td></td></tr>
<tr><td></td><td>through the loop, the</td><td></td></tr>
<tr><td></td><td>value of [j]{.c004}</td><td></td></tr>
<tr><td></td><td>is 4, which is out of</td><td></td></tr>
<tr><td></td><td>range for the string</td><td></td></tr>
<tr><td></td><td><code>'pots'</code>. The index</td><td></td></tr>
<tr><td></td><td>of the last character</td><td></td></tr>
<tr><td></td><td>is 3, so the initial</td><td></td></tr>
<tr><td></td><td>value for [j]{.c004}</td><td></td></tr>
<tr><td></td><td>should be</td><td></td></tr>
<tr><td></td><td>[</td><td></td></tr>
<tr><td></td><td>len(word2)-1]{.c004}.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>If I fix that error</td><td></td></tr>
<tr><td></td><td>and run the program</td><td></td></tr>
<tr><td></td><td>again, I get:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>&gt;&gt;&gt; is_re</td><td></td></tr>
<tr><td></td><td>verse('pots', 'stop')</td><td></td></tr>
<tr><td></td><td>0 3</td><td></td></tr>
<tr><td></td><td>1 2</td><td></td></tr>
<tr><td></td><td>2 1</td><td></td></tr>
<tr><td></td><td>True</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>This time we get the</td><td></td></tr>
<tr><td></td><td>right answer, but it</td><td></td></tr>
<tr><td></td><td>looks like the loop</td><td></td></tr>
<tr><td></td><td>only ran three times,</td><td></td></tr>
<tr><td></td><td>which is suspicious.</td><td></td></tr>
<tr><td></td><td>To get a better idea</td><td></td></tr>
<tr><td></td><td>of what is happening,</td><td></td></tr>
<tr><td></td><td>it is useful to draw</td><td></td></tr>
<tr><td></td><td>a state diagram.</td><td></td></tr>
<tr><td></td><td>During the first</td><td></td></tr>
<tr><td></td><td>iteration, the frame</td><td></td></tr>
<tr><td></td><td>for <code>is_reverse</code> is</td><td></td></tr>
<tr><td></td><td>shown in</td><td></td></tr>
<tr><td></td><td>Figur</td><td></td></tr>
<tr><td></td><td>e <a href="#fig.state4">8.2</a>.</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default618}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default619}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>&gt; ::: center</td><td></td></tr>
<tr><td></td><td>&gt;</td><td></td></tr>
<tr><td></td><td>&gt; -------------------</td><td></td></tr>
<tr><td></td><td>&gt; :::</td><td></td></tr>
<tr><td></td><td>&gt;</td><td></td></tr>
<tr><td></td><td>&gt; ::: center</td><td></td></tr>
<tr><td></td><td>&gt; ![]</td><td></td></tr>
<tr><td></td><td>(thinkpython2010.png)</td><td></td></tr>
<tr><td></td><td>&gt; :::</td><td></td></tr>
<tr><td></td><td>&gt;</td><td></td></tr>
<tr><td></td><td>&gt; ::: caption</td><td></td></tr>
<tr><td></td><td>&gt;   -------</td><td></td></tr>
<tr><td></td><td>---------------------</td><td></td></tr>
<tr><td></td><td>&gt;   Figur</td><td></td></tr>
<tr><td></td><td>e 8.2: State diagram.</td><td></td></tr>
<tr><td></td><td>&gt;   -------</td><td></td></tr>
<tr><td></td><td>---------------------</td><td></td></tr>
<tr><td></td><td>&gt; :::</td><td></td></tr>
<tr><td></td><td>&gt;</td><td></td></tr>
<tr><td></td><td>&gt; []{#fig.state4}</td><td></td></tr>
<tr><td></td><td>&gt;</td><td></td></tr>
<tr><td></td><td>&gt; ::: center</td><td></td></tr>
<tr><td></td><td>&gt;</td><td></td></tr>
<tr><td></td><td>&gt; -------------------</td><td></td></tr>
<tr><td></td><td>&gt; :::</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>I took some license</td><td></td></tr>
<tr><td></td><td>by arranging the</td><td></td></tr>
<tr><td></td><td>variables in the</td><td></td></tr>
<tr><td></td><td>frame and adding</td><td></td></tr>
<tr><td></td><td>dotted lines to show</td><td></td></tr>
<tr><td></td><td>that the values of</td><td></td></tr>
<tr><td></td><td>[i]{.c004} and</td><td></td></tr>
<tr><td></td><td>[j]{.c004} indicate</td><td></td></tr>
<tr><td></td><td>characters in</td><td></td></tr>
<tr><td></td><td>[word1]{.c004} and</td><td></td></tr>
<tr><td></td><td>[word2]{.c004}.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>Starting with this</td><td></td></tr>
<tr><td></td><td>diagram, run the</td><td></td></tr>
<tr><td></td><td>program on paper,</td><td></td></tr>
<tr><td></td><td>changing the values</td><td></td></tr>
<tr><td></td><td>of [i]{.c004} and</td><td></td></tr>
<tr><td></td><td>[j]{.c004} during</td><td></td></tr>
<tr><td></td><td>each iteration. Find</td><td></td></tr>
<tr><td></td><td>and fix the second</td><td></td></tr>
<tr><td></td><td>error in this</td><td></td></tr>
<tr><td></td><td>function.</td><td></td></tr>
<tr><td></td><td>[]{#isreverse}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>## 8.12  Glossa</td><td></td></tr>
<tr><td></td><td>ry {#sec103 .section}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[object:]{.c010}</td><td></td></tr>
<tr><td></td><td>:   Something a</td><td></td></tr>
<tr><td></td><td>variable can</td><td></td></tr>
<tr><td></td><td>refer to. For</td><td></td></tr>
<tr><td></td><td>now, you can use</td><td></td></tr>
<tr><td></td><td>&quot;object&quot; and</td><td></td></tr>
<tr><td></td><td>&quot;value&quot;</td><td></td></tr>
<tr><td></td><td>interchangeably.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default620}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[sequence:]{.c010}</td><td></td></tr>
<tr><td></td><td>:   An ordered</td><td></td></tr>
<tr><td></td><td>collection of</td><td></td></tr>
<tr><td></td><td>values where each</td><td></td></tr>
<tr><td></td><td>value is</td><td></td></tr>
<tr><td></td><td>identified by an</td><td></td></tr>
<tr><td></td><td>integer index.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default621}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[item:]{.c010}</td><td></td></tr>
<tr><td></td><td>:   One of the values</td><td></td></tr>
<tr><td></td><td>in a sequence.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default622}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[index:]{.c010}</td><td></td></tr>
<tr><td></td><td>:   An integer value</td><td></td></tr>
<tr><td></td><td>used to select an</td><td></td></tr>
<tr><td></td><td>item in a</td><td></td></tr>
<tr><td></td><td>sequence, such as</td><td></td></tr>
<tr><td></td><td>a character in a</td><td></td></tr>
<tr><td></td><td>string. In Python</td><td></td></tr>
<tr><td></td><td>indices start</td><td></td></tr>
<tr><td></td><td>from 0.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default623}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[slice:]{.c010}</td><td></td></tr>
<tr><td></td><td>:   A part of a</td><td></td></tr>
<tr><td></td><td>string specified</td><td></td></tr>
<tr><td></td><td>by a range of</td><td></td></tr>
<tr><td></td><td>indices.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default624}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[</td><td></td></tr>
<tr><td></td><td>empty string:]{.c010}</td><td></td></tr>
<tr><td></td><td>:   A string with no</td><td></td></tr>
<tr><td></td><td>characters and</td><td></td></tr>
<tr><td></td><td>length 0,</td><td></td></tr>
<tr><td></td><td>represented by</td><td></td></tr>
<tr><td></td><td>two quotation</td><td></td></tr>
<tr><td></td><td>marks.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default625}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[immutable:]{.c010}</td><td></td></tr>
<tr><td></td><td>:   The property of a</td><td></td></tr>
<tr><td></td><td>sequence whose</td><td></td></tr>
<tr><td></td><td>items cannot be</td><td></td></tr>
<tr><td></td><td>changed.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default626}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[traverse:]{.c010}</td><td></td></tr>
<tr><td></td><td>:   To iterate</td><td></td></tr>
<tr><td></td><td>through the items</td><td></td></tr>
<tr><td></td><td>in a sequence,</td><td></td></tr>
<tr><td></td><td>performing a</td><td></td></tr>
<tr><td></td><td>similar operation</td><td></td></tr>
<tr><td></td><td>on each.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default627}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[search:]{.c010}</td><td></td></tr>
<tr><td></td><td>:   A pattern of</td><td></td></tr>
<tr><td></td><td>traversal that</td><td></td></tr>
<tr><td></td><td>stops when it</td><td></td></tr>
<tr><td></td><td>finds what it is</td><td></td></tr>
<tr><td></td><td>looking for.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default628}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default629}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[counter:]{.c010}</td><td></td></tr>
<tr><td></td><td>:   A variable used</td><td></td></tr>
<tr><td></td><td>to count</td><td></td></tr>
<tr><td></td><td>something,</td><td></td></tr>
<tr><td></td><td>usually</td><td></td></tr>
<tr><td></td><td>initialized to</td><td></td></tr>
<tr><td></td><td>zero and then</td><td></td></tr>
<tr><td></td><td>incremented.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default630}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[invocation:]{.c010}</td><td></td></tr>
<tr><td></td><td>:   A statement that</td><td></td></tr>
<tr><td></td><td>calls a method.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default631}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[optio</td><td></td></tr>
<tr><td></td><td>nal argument:]{.c010}</td><td></td></tr>
<tr><td></td><td>:   A function or</td><td></td></tr>
<tr><td></td><td>method argument</td><td></td></tr>
<tr><td></td><td>that is not</td><td></td></tr>
<tr><td></td><td>required.</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default632}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#hevea_default633}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>## 8.13  Exercis</td><td></td></tr>
<tr><td></td><td>es {#sec104 .section}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>::: theorem</td><td></td></tr>
<tr><td></td><td>[Exercise 1]{.c010}  </td><td></td></tr>
<tr><td></td><td>[]{#hevea_default634}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default635}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>*Read the</td><td></td></tr>
<tr><td></td><td>documentation of the</td><td></td></tr>
<tr><td></td><td>string methods at*</td><td></td></tr>
<tr><td></td><td>[[*http://doc</td><td></td></tr>
<tr><td></td><td>s.python.org/3/librar</td><td></td></tr>
<tr><td></td><td>y/stdtypes.html#strin</td><td></td></tr>
<tr><td></td><td>g-methods*]{.c004}](h</td><td></td></tr>
<tr><td></td><td>ttp://docs.python.org</td><td></td></tr>
<tr><td></td><td>/3/library/stdtypes.h</td><td></td></tr>
<tr><td></td><td>tml#string-methods)*.</td><td></td></tr>
<tr><td></td><td>You might want to</td><td></td></tr>
<tr><td></td><td>experiment with some</td><td></td></tr>
<tr><td></td><td>of them to make sure</td><td></td></tr>
<tr><td></td><td>you understand how</td><td></td></tr>
<tr><td></td><td>they work.</td><td></td></tr>
<tr><td></td><td>[strip]{.c004} and</td><td></td></tr>
<tr><td></td><td>[replace]{.c004} are</td><td></td></tr>
<tr><td></td><td>particularly useful.*</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>*The documentation</td><td></td></tr>
<tr><td></td><td>uses a syntax that</td><td></td></tr>
<tr><td></td><td>might be confusing.</td><td></td></tr>
<tr><td></td><td>For example, in</td><td></td></tr>
<tr><td></td><td>`find(s</td><td></td></tr>
<tr><td></td><td>ub[, start[, end]])`,</td><td></td></tr>
<tr><td></td><td>the brackets indicate</td><td></td></tr>
<tr><td></td><td>optional arguments.</td><td></td></tr>
<tr><td></td><td>So [sub]{.c004} is</td><td></td></tr>
<tr><td></td><td>required, but</td><td></td></tr>
<tr><td></td><td>[start]{.c004} is</td><td></td></tr>
<tr><td></td><td>optional, and if you</td><td></td></tr>
<tr><td></td><td>include</td><td></td></tr>
<tr><td></td><td>[start]{.c004}, then</td><td></td></tr>
<tr><td></td><td>[end]{.c004} is</td><td></td></tr>
<tr><td></td><td>optional.*</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default636}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default637}</td><td></td></tr>
<tr><td></td><td>:::</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>::: theorem</td><td></td></tr>
<tr><td></td><td>[Exercise 2]{.c010}  </td><td></td></tr>
<tr><td></td><td>[]{#hevea_default638}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default639}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>*There is a string</td><td></td></tr>
<tr><td></td><td>method called</td><td></td></tr>
<tr><td></td><td>[count]{.c004} that</td><td></td></tr>
<tr><td></td><td>is similar to the</td><td></td></tr>
<tr><td></td><td>function in</td><td></td></tr>
<tr><td></td><td>Section</td><td></td></tr>
<tr><td></td><td> <em><a href="#counter"><em>8.7</em></a></em>.</td><td></td></tr>
<tr><td></td><td>Read the</td><td></td></tr>
<tr><td></td><td>documentation of this</td><td></td></tr>
<tr><td></td><td>method and write an</td><td></td></tr>
<tr><td></td><td>invocation that</td><td></td></tr>
<tr><td></td><td>counts the number of</td><td></td></tr>
<tr><td></td><td>[a]{.c004}'s in</td><td></td></tr>
<tr><td></td><td><code>'banana'</code>.*</td><td></td></tr>
<tr><td></td><td>:::</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>::: theorem</td><td></td></tr>
<tr><td></td><td>[Exercise 3]{.c010}  </td><td></td></tr>
<tr><td></td><td>[]{#hevea_default640}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default641}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default642}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>*A string slice can</td><td></td></tr>
<tr><td></td><td>take a third index</td><td></td></tr>
<tr><td></td><td>that specifies the</td><td></td></tr>
<tr><td></td><td>&quot;step size&quot;; that is,</td><td></td></tr>
<tr><td></td><td>the number of spaces</td><td></td></tr>
<tr><td></td><td>between successive</td><td></td></tr>
<tr><td></td><td>characters. A step</td><td></td></tr>
<tr><td></td><td>size of 2 means every</td><td></td></tr>
<tr><td></td><td>other character; 3</td><td></td></tr>
<tr><td></td><td>means every third,</td><td></td></tr>
<tr><td></td><td>etc.*</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>&gt;&gt;&gt; fruit = 'banana'</td><td></td></tr>
<tr><td></td><td>&gt;&gt;&gt; fruit[0:5:2]</td><td></td></tr>
<tr><td></td><td>'bnn'</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>*A step size of -1</td><td></td></tr>
<tr><td></td><td>goes through the word</td><td></td></tr>
<tr><td></td><td>backwards, so the</td><td></td></tr>
<tr><td></td><td>slice <code>[::-1]</code></td><td></td></tr>
<tr><td></td><td>generates a reversed</td><td></td></tr>
<tr><td></td><td>string.*</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default643}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>*Use this idiom to</td><td></td></tr>
<tr><td></td><td>write a one-line</td><td></td></tr>
<tr><td></td><td>version of</td><td></td></tr>
<tr><td></td><td><code>is_palindrome</code> from</td><td></td></tr>
<tr><td></td><td>Exercise </td><td></td></tr>
<tr><td></td><td>*[<em>3</em>](thinkpython200</td><td></td></tr>
<tr><td></td><td>7.html#palindrome)<em>.</em></td><td></td></tr>
<tr><td></td><td>:::</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>::: theorem</td><td></td></tr>
<tr><td></td><td>[Exercise 4]{.c010}  </td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>*The following</td><td></td></tr>
<tr><td></td><td>functions are all*</td><td></td></tr>
<tr><td></td><td>intended *to check</td><td></td></tr>
<tr><td></td><td>whether a string</td><td></td></tr>
<tr><td></td><td>contains any</td><td></td></tr>
<tr><td></td><td>lowercase letters,</td><td></td></tr>
<tr><td></td><td>but at least some of</td><td></td></tr>
<tr><td></td><td>them are wrong. For</td><td></td></tr>
<tr><td></td><td>each function,</td><td></td></tr>
<tr><td></td><td>describe what the</td><td></td></tr>
<tr><td></td><td>function actually</td><td></td></tr>
<tr><td></td><td>does (assuming that</td><td></td></tr>
<tr><td></td><td>the parameter is a</td><td></td></tr>
<tr><td></td><td>string).*</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>d</td><td></td></tr>
<tr><td></td><td>ef any_lowercase1(s):</td><td></td></tr>
<tr><td></td><td>for c in s:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>if c.islower():</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>return True</td><td></td></tr>
<tr><td></td><td>else:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>return False</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>d</td><td></td></tr>
<tr><td></td><td>ef any_lowercase2(s):</td><td></td></tr>
<tr><td></td><td>for c in s:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>if 'c'.islower():</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>return 'True'</td><td></td></tr>
<tr><td></td><td>else:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>return 'False'</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>d</td><td></td></tr>
<tr><td></td><td>ef any_lowercase3(s):</td><td></td></tr>
<tr><td></td><td>for c in s:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>flag = c.islower()</td><td></td></tr>
<tr><td></td><td>return flag</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>d</td><td></td></tr>
<tr><td></td><td>ef any_lowercase4(s):</td><td></td></tr>
<tr><td></td><td>flag = False</td><td></td></tr>
<tr><td></td><td>for c in s:</td><td></td></tr>
<tr><td></td><td>flag</td><td></td></tr>
<tr><td></td><td>= flag or c.islower()</td><td></td></tr>
<tr><td></td><td>return flag</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>d</td><td></td></tr>
<tr><td></td><td>ef any_lowercase5(s):</td><td></td></tr>
<tr><td></td><td>for c in s:</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>if not c.islower():</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>return False</td><td></td></tr>
<tr><td></td><td>return True</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td>:::</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>::: theorem</td><td></td></tr>
<tr><td></td><td>[Exercise 5]{.c010}  </td><td></td></tr>
<tr><td></td><td>[]{#hevea_default644}</td><td></td></tr>
<tr><td></td><td>[]{#hevea_default645}</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[]{#exrotate} *A</td><td></td></tr>
<tr><td></td><td>Caesar cypher is a</td><td></td></tr>
<tr><td></td><td>weak form of</td><td></td></tr>
<tr><td></td><td>encryption that</td><td></td></tr>
<tr><td></td><td>involves &quot;rotating&quot;</td><td></td></tr>
<tr><td></td><td>each letter by a</td><td></td></tr>
<tr><td></td><td>fixed number of</td><td></td></tr>
<tr><td></td><td>places. To rotate a</td><td></td></tr>
<tr><td></td><td>letter means to shift</td><td></td></tr>
<tr><td></td><td>it through the</td><td></td></tr>
<tr><td></td><td>alphabet, wrapping</td><td></td></tr>
<tr><td></td><td>around to the</td><td></td></tr>
<tr><td></td><td>beginning if</td><td></td></tr>
<tr><td></td><td>necessary, so 'A'</td><td></td></tr>
<tr><td></td><td>rotated by 3 is 'D'</td><td></td></tr>
<tr><td></td><td>and 'Z' rotated by 1</td><td></td></tr>
<tr><td></td><td>is 'A'.*</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>*To rotate a word,</td><td></td></tr>
<tr><td></td><td>rotate each letter by</td><td></td></tr>
<tr><td></td><td>the same amount. For</td><td></td></tr>
<tr><td></td><td>example, &quot;cheer&quot;</td><td></td></tr>
<tr><td></td><td>rotated by 7 is</td><td></td></tr>
<tr><td></td><td>&quot;jolly&quot; and &quot;melon&quot;</td><td></td></tr>
<tr><td></td><td>rotated by -10 is</td><td></td></tr>
<tr><td></td><td>&quot;cubed&quot;. In the</td><td></td></tr>
<tr><td></td><td>movie* 2001: A Space</td><td></td></tr>
<tr><td></td><td>Odyssey*, the ship</td><td></td></tr>
<tr><td></td><td>computer is called</td><td></td></tr>
<tr><td></td><td>HAL, which is IBM</td><td></td></tr>
<tr><td></td><td>rotated by -1.*</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>*Write a function</td><td></td></tr>
<tr><td></td><td>called <code>rotate_word</code></td><td></td></tr>
<tr><td></td><td>that takes a string</td><td></td></tr>
<tr><td></td><td>and an integer as</td><td></td></tr>
<tr><td></td><td>parameters, and</td><td></td></tr>
<tr><td></td><td>returns a new string</td><td></td></tr>
<tr><td></td><td>that contains the</td><td></td></tr>
<tr><td></td><td>letters from the</td><td></td></tr>
<tr><td></td><td>original string</td><td></td></tr>
<tr><td></td><td>rotated by the given</td><td></td></tr>
<tr><td></td><td>amount.*</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>*You might want to</td><td></td></tr>
<tr><td></td><td>use the built-in</td><td></td></tr>
<tr><td></td><td>function</td><td></td></tr>
<tr><td></td><td>[ord]{.c004}, which</td><td></td></tr>
<tr><td></td><td>converts a character</td><td></td></tr>
<tr><td></td><td>to a numeric code,</td><td></td></tr>
<tr><td></td><td>and [chr]{.c004},</td><td></td></tr>
<tr><td></td><td>which converts</td><td></td></tr>
<tr><td></td><td>numeric codes to</td><td></td></tr>
<tr><td></td><td>characters. Letters</td><td></td></tr>
<tr><td></td><td>of the alphabet are</td><td></td></tr>
<tr><td></td><td>encoded in</td><td></td></tr>
<tr><td></td><td>alphabetical order,</td><td></td></tr>
<tr><td></td><td>so for example:*</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>``` verbatim</td><td></td></tr>
<tr><td></td><td>&gt;&gt;</td><td></td></tr>
<tr><td></td><td>&gt; ord('c') - ord('a')</td><td></td></tr>
<tr><td></td><td>2</td><td></td></tr>
<tr><td></td><td>```</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>*Because <code>'c'</code> is the</td><td></td></tr>
<tr><td></td><td>two-eth letter of the</td><td></td></tr>
<tr><td></td><td>alphabet. But beware:</td><td></td></tr>
<tr><td></td><td>the numeric codes for</td><td></td></tr>
<tr><td></td><td>upper case letters</td><td></td></tr>
<tr><td></td><td>are different.*</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>*Potentially</td><td></td></tr>
<tr><td></td><td>offensive jokes on</td><td></td></tr>
<tr><td></td><td>the Internet are</td><td></td></tr>
<tr><td></td><td>sometimes encoded in</td><td></td></tr>
<tr><td></td><td>ROT13, which is a</td><td></td></tr>
<tr><td></td><td>Caesar cypher with</td><td></td></tr>
<tr><td></td><td>rotation 13. If you</td><td></td></tr>
<tr><td></td><td>are not easily</td><td></td></tr>
<tr><td></td><td>offended, find and</td><td></td></tr>
<tr><td></td><td>decode some of them.</td><td></td></tr>
<tr><td></td><td>Solution:*</td><td></td></tr>
<tr><td></td><td>[*[https:/</td><td></td></tr>
<tr><td></td><td>/thinkpython.com/code</td><td></td></tr>
<tr><td></td><td>/rotate.py]{.c004}*](</td><td></td></tr>
<tr><td></td><td>https://thinkpython.c</td><td></td></tr>
<tr><td></td><td>om/code/rotate.py)<em>.</em></td><td></td></tr>
<tr><td></td><td>:::</td><td></td></tr>
<tr><td></td><td></td><td></td></tr>
<tr><td></td><td>[Buy this book at</td><td></td></tr>
<tr><td></td><td>Amazon.com](ht</td><td></td></tr>
<tr><td></td><td>tp://amzn.to/1VUYQUU)</td><td></td></tr>
<tr><td>+-----------------------+-----------------------+-----------------------+</td><td></td><td></td></tr>
</tbody></table>
</div>
<hr />
<h2><a href="thinkpython2008.html"><img src="back.png" alt="Previous" /></a>
<a href="index.html"><img src="up.png" alt="Up" /></a> <a href="thinkpython2010.html"><img src="next.png" alt="Next" /></a></h2>
<h2>generator: hevea 2.32
title: &quot;Case study: word play&quot;</h2>
<p><a href="thinkpython2009.html"><img src="back.png" alt="Previous" /></a>
<a href="index.html"><img src="up.png" alt="Up" /></a> <a href="thinkpython2011.html"><img src="next.png" alt="Next" /></a></p>
<hr />
<p>+-----------------------+-----------------------+-----------------------+
|                       | [Buy this book at     | #### Contribute       |
|                       | Amazon.com](ht        |                       |
|                       | tp://amzn.to/1VUYQUU) | If you would like to  |
|                       |                       | make a contribution   |
|                       | # Chapter 9           | to support my books,  |
|                       |   Case study: word pl | you can use the       |
|                       | ay {#sec105 .chapter} | button below and pay  |
|                       |                       | with PayPal. Thank    |
|                       | []{#wordplay}         | you!                  |
|                       |                       |                       |
|                       | This chapter presents |   -----------         |
|                       | the second case       | --------------------- |
|                       | study, which involves | --------------------- |
|                       | solving word puzzles  | --------------------- |
|                       | by searching for      | --------------------- |
|                       | words that have       |   Pay what you want:  |
|                       | certain properties.   |   Small $1           |
|                       | For example, we'll    | .00 USD Medium $5.00 |
|                       | find the longest      |  USD Large $10.00 US |
|                       | palindromes in        | D X-Large $20.00 USD |
|                       | English and search    |  XX-Large $50.00 USD |
|                       | for words whose       |   -----------         |
|                       | letters appear in     | --------------------- |
|                       | alphabetical order.   | --------------------- |
|                       | And I will present    | --------------------- |
|                       | another program       | --------------------- |
|                       | development plan:     |                       |
|                       | reduction to a        | ![](                  |
|                       | previously solved     | https://www.paypalobj |
|                       | problem.              | ects.com/en_US/i/scr/ |
|                       |                       | pixel.gif){border=&quot;0&quot; |
|                       | ##                    | width=&quot;1&quot; height=&quot;1&quot;} |
|                       | 9.1  Reading word lis |                       |
|                       | ts {#sec106 .section} | ####                  |
|                       |                       | Are you using one of  |
|                       | []{#wordlist}         | our books in a class? |
|                       |                       |                       |
|                       | For the exercises in  | We'd like to know    |
|                       | this chapter we need  | about it. Please      |
|                       | a list of English     | consider filling out  |
|                       | words. There are lots | [this short           |
|                       | of word lists         | survey](http://s      |
|                       | available on the Web, | preadsheets.google.co |
|                       | but the one most      | m/viewform?formkey=dC |
|                       | suitable for our      | 0tNUZkMjBEdXVoRGljNm9 |
|                       | purpose is one of the | FRmlTMHc6MA){onclick= |
|                       | word lists collected  | &quot;javascript: pageTrac |
|                       | and contributed to    | ker._trackPageview('/ |
|                       | the public domain by  | outbound/survey');&quot;}. |
|                       | Grady Ward as part of |                       |
|                       | the Moby lexicon      | \                     |
|                       | project (see          |                       |
|                       | [[http:               | [Think                |
|                       | //wikipedia.org/wiki/ | DSP](http             |
|                       | Moby_Project]{.c004}] | ://www.amazon.com/gp/ |
|                       | (http://wikipedia.org | product/1491938455/re |
|                       | /wiki/Moby_Project)). | f=as_li_tl?ie=UTF8&amp;ca |
|                       | It is a list of       | mp=1789&amp;creative=9325 |
|                       | 113,809 official      | &amp;creativeASIN=1491938 |
|                       | crosswords; that is,  | 455&amp;linkCode=as2&amp;tag= |
|                       | words that are        | greenteapre01-20&amp;link |
|                       | considered valid in   | Id=2JJH4SWCAVVYSQHO){ |
|                       | crossword puzzles and | rel=&quot;nofollow&quot;}![](ht |
|                       | other word games. In  | tp://ir-na.amazon-ads |
|                       | the Moby collection,  | ystem.com/e/ir?t=gree |
|                       | the filename is       | nteapre01-20&amp;l=as2&amp;o= |
|                       | [                     | 1&amp;a=1491938455){.c003 |
|                       | 113809of.fic]{.c004}; | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | you can download a    | border=&quot;0&quot;}           |
|                       | copy, with the        |                       |
|                       | simpler name          | [                     |
|                       | [words.txt]{.c004},   | ![](http://ws-na.amaz |
|                       | from                  | on-adsystem.com/widge |
|                       | [[http                | ts/q?_encoding=UTF8&amp;A |
|                       | s://thinkpython.com/c | SIN=1491938455&amp;Format |
|                       | ode/words.txt]{.c004} | =<em>SL160</em>&amp;ID=AsinImage |
|                       | ](https://thinkpython | &amp;MarketPlace=US&amp;Servi |
|                       | .com/code/words.txt). | ceVersion=20070822&amp;WS |
|                       | []{#hevea_default646} | =1&amp;tag=greenteapre01- |
|                       | []{#hevea_default647} | 20){border=&quot;0&quot;}](http |
|                       |                       | ://www.amazon.com/gp/ |
|                       | This file is in plain | product/1491938455/re |
|                       | text, so you can open | f=as_li_tl?ie=UTF8&amp;ca |
|                       | it with a text        | mp=1789&amp;creative=9325 |
|                       | editor, but you can   | &amp;creativeASIN=1491938 |
|                       | also read it from     | 455&amp;linkCode=as2&amp;tag= |
|                       | Python. The built-in  | greenteapre01-20&amp;link |
|                       | function              | Id=CTV7PDT7E5EGGJUM){ |
|                       | [open]{.c004} takes   | rel=&quot;nofollow&quot;}![](ht |
|                       | the name of the file  | tp://ir-na.amazon-ads |
|                       | as a parameter and    | ystem.com/e/ir?t=gree |
|                       | returns a [file       | nteapre01-20&amp;l=as2&amp;o= |
|                       | object]{.c010} you    | 1&amp;a=1491938455){.c003 |
|                       | can use to read the   | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | file.                 | border=&quot;0&quot;}           |
|                       | []{#hevea_default648} |                       |
|                       | []{#hevea_default649} | [Think                |
|                       | []{#hevea_default650} | Java](http            |
|                       | []{#hevea_default651} | ://www.amazon.com/gp/ |
|                       | []{#hevea_default652} | product/1491929561/re |
|                       | []{#hevea_default653} | f=as_li_tl?ie=UTF8&amp;ca |
|                       |                       | mp=1789&amp;creative=9325 |
|                       | <code>verbatim          | &amp;creativeASIN=1491929 | |                       | &gt;&gt;&gt; fi                | 561&amp;linkCode=as2&amp;tag= | |                       | n = open('words.txt') | greenteapre01-20&amp;link | |                       |</code>                   | Id=ZY6MAYM33ZTNSCNZ){ |
|                       |                       | rel=&quot;nofollow&quot;}![](ht |
|                       | [fin]{.c004} is a     | tp://ir-na.amazon-ads |
|                       | common name for a     | ystem.com/e/ir?t=gree |
|                       | file object used for  | nteapre01-20&amp;l=as2&amp;o= |
|                       | input. The file       | 1&amp;a=1491929561){.c003 |
|                       | object provides       | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | several methods for   | border=&quot;0&quot;}           |
|                       | reading, including    |                       |
|                       | [readline]{.c004},    | [                     |
|                       | which reads           | ![](http://ws-na.amaz |
|                       | characters from the   | on-adsystem.com/widge |
|                       | file until it gets to | ts/q?_encoding=UTF8&amp;A |
|                       | a newline and returns | SIN=1491929561&amp;Format |
|                       | the result as a       | =<em>SL160</em>&amp;ID=AsinImage |
|                       | string:               | &amp;MarketPlace=US&amp;Servi |
|                       | []{#hevea_default654} | ceVersion=20070822&amp;WS |
|                       | []{#hevea_default655} | =1&amp;tag=greenteapre01- |
|                       |                       | 20){border=&quot;0&quot;}](http |
|                       | <code>verbatim          | ://www.amazon.com/gp/ | |                       | &gt;&gt;&gt; fin.readline()    | product/1491929561/re | |                       | 'aa\n'                | f=as_li_tl?ie=UTF8&amp;ca | |                       |</code>                   | mp=1789&amp;creative=9325 |
|                       |                       | &amp;creativeASIN=1491929 |
|                       | The first word in     | 561&amp;linkCode=as2&amp;tag= |
|                       | this particular list  | greenteapre01-20&amp;link |
|                       | is &quot;aa&quot;, which is a   | Id=PT77ANWARUNNU3UK){ |
|                       | kind of lava. The     | rel=&quot;nofollow&quot;}![](ht |
|                       | sequence <code>\n</code>         | tp://ir-na.amazon-ads |
|                       | represents the        | ystem.com/e/ir?t=gree |
|                       | newline character     | nteapre01-20&amp;l=as2&amp;o= |
|                       | that separates this   | 1&amp;a=1491929561){.c003 |
|                       | word from the next.   | width=&quot;1&quot; height=&quot;1&quot;  |
|                       |                       | border=&quot;0&quot;}           |
|                       | The file object keeps |                       |
|                       | track of where it is  | [Think                |
|                       | in the file, so if    | Bay                   |
|                       | you call              | es](http://www.amazon |
|                       | [readline]{.c004}     | .com/gp/product/14493 |
|                       | again, you get the    | 70780/ref=as_li_qf_sp |
|                       | next word:            | _asin_tl?ie=UTF8&amp;camp |
|                       |                       | =1789&amp;creative=9325&amp;c |
|                       | <code>verbatim          | reativeASIN=144937078 | |                       | &gt;&gt;&gt; fin.readline()    | 0&amp;linkCode=as2&amp;tag=gr | |                       | 'aah\n'               | eenteapre01-20)![](ht | |                       |</code>                   | tp://ir-na.amazon-ads |
|                       |                       | ystem.com/e/ir?t=gree |
|                       | The next word is      | nteapre01-20&amp;l=as2&amp;o= |
|                       | &quot;aah&quot;, which is a     | 1&amp;a=1449370780){.c003 |
|                       | perfectly legitimate  | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | word, so stop looking | border=&quot;0&quot;}           |
|                       | at me like that. Or,  |                       |
|                       | if it's the newline   | [![](http://ws        |
|                       | character that's      | -na.amazon-adsystem.c |
|                       | bothering you, we can | om/widgets/q?<em>encodin |
|                       | get rid of it with    | g=UTF8&amp;ASIN=144937078 |
|                       | the string method     | 0&amp;Format=<em>SL160</em>&amp;ID=A |
|                       | [strip]{.c004}:       | sinImage&amp;MarketPlace= |
|                       | []{#hevea_default656} | US&amp;ServiceVersion=200 |
|                       | []{#hevea_default657} | 70822&amp;WS=1&amp;tag=greent |
|                       |                       | eapre01-20){border=&quot;0 |
|                       | <code>verbatim          | &quot;}](http://www.amazon | |                       | &gt;&gt;&gt;                   | .com/gp/product/14493 | |                       | line = fin.readline() | 70780/ref=as_li_qf_sp | |                       | &gt;&gt;                    | _asin_il?ie=UTF8&amp;camp | |                       | &gt; word = line.strip() | =1789&amp;creative=9325&amp;c | |                       | &gt;&gt;&gt; word              | reativeASIN=144937078 | |                       | 'aahed'               | 0&amp;linkCode=as2&amp;tag=gr | |                       |</code>                   | eenteapre01-20)![](ht |
|                       |                       | tp://ir-na.amazon-ads |
|                       | You can also use a    | ystem.com/e/ir?t=gree |
|                       | file object as part   | nteapre01-20&amp;l=as2&amp;o= |
|                       | of a [for]{.c004}     | 1&amp;a=1449370780){.c003 |
|                       | loop. This program    | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | reads                 | border=&quot;0&quot;}           |
|                       | [words.txt]{.c004}    |                       |
|                       | and prints each word, | [Think Python         |
|                       | one per line:         | 2e](http              |
|                       | []{#hevea_default658} | ://www.amazon.com/gp/ |
|                       | []{#hevea_default659} | product/1491939362/re |
|                       |                       | f=as_li_tl?ie=UTF8&amp;ca |
|                       | <code>verbatim          | mp=1789&amp;creative=9325 | |                       | fi                    | &amp;creativeASIN=1491939 | |                       | n = open('words.txt') | 362&amp;linkCode=as2&amp;tag= | |                       | for line in fin:      | greenteapre01-20&amp;link | |                       |                       | Id=FJKSQ3IHEMY2F2VA){ | |                       |   word = line.strip() | rel=&quot;nofollow&quot;}![](ht | |                       |     print(word)       | tp://ir-na.amazon-ads | |                       |</code>                   | ystem.com/e/ir?t=gree |
|                       |                       | nteapre01-20&amp;l=as2&amp;o= |
|                       | ## 9.2  Exercis       | 1&amp;a=1491939362){.c003 |
|                       | es {#sec107 .section} | width=&quot;1&quot; height=&quot;1&quot;  |
|                       |                       | border=&quot;0&quot;}           |
|                       | There are solutions   |                       |
|                       | to these exercises in | [                     |
|                       | the next section. You | ![](http://ws-na.amaz |
|                       | should at least       | on-adsystem.com/widge |
|                       | attempt each one      | ts/q?<em>encoding=UTF8&amp;A |
|                       | before you read the   | SIN=1491939362&amp;Format |
|                       | solutions.            | =<em>SL160</em>&amp;ID=AsinImage |
|                       |                       | &amp;MarketPlace=US&amp;Servi |
|                       | ::: theorem           | ceVersion=20070822&amp;WS |
|                       | [Exercise 1]{.c010}   | =1&amp;tag=greenteapre01- |
|                       | <em>Write a program that | 20){border=&quot;0&quot;}](http |
|                       | reads                 | ://www.amazon.com/gp/ |
|                       | [words.txt]{.c004}    | product/1491939362/re |
|                       | and prints only the   | f=as_li_tl?ie=UTF8&amp;ca |
|                       | words with more than  | mp=1789&amp;creative=9325 |
|                       | 20 characters (not    | &amp;creativeASIN=1491939 |
|                       | counting              | 362&amp;linkCode=as2&amp;tag= |
|                       | whitespace).</em>         | greenteapre01-20&amp;link |
|                       | []{#hevea_default660} | Id=ZZ454DLQ3IXDHNHX){ |
|                       | :::                   | rel=&quot;nofollow&quot;}![](ht |
|                       |                       | tp://ir-na.amazon-ads |
|                       | ::: theorem           | ystem.com/e/ir?t=gree |
|                       | [Exercise 2]{.c010}   | nteapre01-20&amp;l=as2&amp;o= |
|                       |                       | 1&amp;a=1491939362){.c003 |
|                       | <em>In 1939 Ernest       | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | Vincent Wright        | border=&quot;0&quot;}           |
|                       | published a 50,000    |                       |
|                       | word novel called</em>    | [Think Stats          |
|                       | Gadsby *that does not | 2e](http://ww         |
|                       | contain the letter    | w.amazon.com/gp/produ |
|                       | &quot;e&quot;. Since &quot;e&quot; is the | ct/1491907339/ref=as</em> |
|                       | most common letter in | li_tl?ie=UTF8&amp;camp=17 |
|                       | English, that's not   | 89&amp;creative=9325&amp;crea |
|                       | easy to do.*          | tiveASIN=1491907339&amp;l |
|                       |                       | inkCode=as2&amp;tag=green |
|                       | <em>In fact, it is       | teapre01-20&amp;linkId=O7 |
|                       | difficult to          | WYM6H6YBYUFNWU)![](ht |
|                       | construct a solitary  | tp://ir-na.amazon-ads |
|                       | thought without using | ystem.com/e/ir?t=gree |
|                       | that most common      | nteapre01-20&amp;l=as2&amp;o= |
|                       | symbol. It is slow    | 1&amp;a=1491907339){.c003 |
|                       | going at first, but   | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | with caution and      | border=&quot;0&quot;}           |
|                       | hours of training you |                       |
|                       | can gradually gain    | [![](h                |
|                       | facility.</em>            | ttp://ws-na.amazon-ad |
|                       |                       | system.com/widgets/q? |
|                       | <em>All right, I'll stop | _encoding=UTF8&amp;ASIN=1 |
|                       | now.</em>                 | 491907339&amp;Format=<em>SL1 |
|                       |                       | 60</em>&amp;ID=AsinImage&amp;Mark |
|                       | *Write a function     | etPlace=US&amp;ServiceVer |
|                       | called <code>has_no_e</code>     | sion=20070822&amp;WS=1&amp;ta |
|                       | that returns          | g=greenteapre01-20){b |
|                       | [True]{.c004} if the  | order=&quot;0&quot;}](http://ww |
|                       | given word doesn't    | w.amazon.com/gp/produ |
|                       | have the letter &quot;e&quot;   | ct/1491907339/ref=as</em> |
|                       | in it.*               | li_tl?ie=UTF8&amp;camp=17 |
|                       |                       | 89&amp;creative=9325&amp;crea |
|                       | <em>Write a program that | tiveASIN=1491907339&amp;l |
|                       | reads                 | inkCode=as2&amp;tag=green |
|                       | [words.txt]{.c004}    | teapre01-20&amp;linkId=JV |
|                       | and prints only the   | SYKQHYSUIEYRHL)![](ht |
|                       | words that have no    | tp://ir-na.amazon-ads |
|                       | &quot;e&quot;. Compute the      | ystem.com/e/ir?t=gree |
|                       | percentage of words   | nteapre01-20&amp;l=as2&amp;o= |
|                       | in the list that have | 1&amp;a=1491907339){.c003 |
|                       | no &quot;e&quot;.</em>              | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | []{#hevea_default661} | border=&quot;0&quot;}           |
|                       | :::                   |                       |
|                       |                       | [Think                |
|                       | ::: theorem           | Complexity](http      |
|                       | [Exercise 3]{.c010}   | ://www.amazon.com/gp/ |
|                       |                       | product/1449314635/re |
|                       | <em>Write a function     | f=as_li_tf_tl?ie=UTF8 |
|                       | named [avoids]{.c004} | &amp;tag=greenteapre01-20 |
|                       | that takes a word and | &amp;linkCode=as2&amp;camp=17 |
|                       | a string of forbidden | 89&amp;creative=9325&amp;crea |
|                       | letters, and that     | tiveASIN=1449314635)! |
|                       | returns [True]{.c004} | [](http://www.assoc-a |
|                       | if the word doesn't   | mazon.com/e/ir?t=gree |
|                       | use any of the        | nteapre01-20&amp;l=as2&amp;o= |
|                       | forbidden letters.</em>   | 1&amp;a=1449314635){.c003 |
|                       |                       | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | <em>Write a program that | border=&quot;0&quot;}           |
|                       | prompts the user to   |                       |
|                       | enter a string of     | [                     |
|                       | forbidden letters and | ![](http://ws-na.amaz |
|                       | then prints the       | on-adsystem.com/widge |
|                       | number of words that  | ts/q?_encoding=UTF8&amp;A |
|                       | don't contain any of  | SIN=1449314635&amp;Format |
|                       | them. Can you find a  | =<em>SL160</em>&amp;ID=AsinImage |
|                       | combination of 5      | &amp;MarketPlace=US&amp;Servi |
|                       | forbidden letters     | ceVersion=20070822&amp;WS |
|                       | that excludes the     | =1&amp;tag=greenteapre01- |
|                       | smallest number of    | 20){border=&quot;0&quot;}](http |
|                       | words?</em>               | ://www.amazon.com/gp/ |
|                       | :::                   | product/1449314635/re |
|                       |                       | f=as_li_tf_il?ie=UTF8 |
|                       | ::: theorem           | &amp;camp=1789&amp;creative=9 |
|                       | [Exercise 4]{.c010}   | 325&amp;creativeASIN=1449 |
|                       |                       | 314635&amp;linkCode=as2&amp;t |
|                       | <em>Write a function     | ag=greenteapre01-20)! |
|                       | named <code>uses_only</code>     | [](http://www.assoc-a |
|                       | that takes a word and | mazon.com/e/ir?t=gree |
|                       | a string of letters,  | nteapre01-20&amp;l=as2&amp;o= |
|                       | and that returns      | 1&amp;a=1449314635){.c003 |
|                       | [True]{.c004} if the  | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | word contains only    | border=&quot;0&quot;}           |
|                       | letters in the list.  |                       |
|                       | Can you make a        |                       |
|                       | sentence using only   |                       |
|                       | the letters           |                       |
|                       | [acefhlo]{.c004}?     |                       |
|                       | Other than &quot;Hoe       |                       |
|                       | alfalfa&quot;?</em>            |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 5]{.c010}   |                       |
|                       |                       |                       |
|                       | <em>Write a function     |                       |
|                       | named <code>uses_all</code> that |                       |
|                       | takes a word and a    |                       |
|                       | string of required    |                       |
|                       | letters, and that     |                       |
|                       | returns [True]{.c004} |                       |
|                       | if the word uses all  |                       |
|                       | the required letters  |                       |
|                       | at least once. How    |                       |
|                       | many words are there  |                       |
|                       | that use all the      |                       |
|                       | vowels                |                       |
|                       | [aeiou]{.c004}? How   |                       |
|                       | about                 |                       |
|                       | [aeiouy]{.c004}?</em>     |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 6]{.c010}   |                       |
|                       |                       |                       |
|                       | <em>Write a function     |                       |
|                       | called                |                       |
|                       | <code>is_abecedarian</code> that |                       |
|                       | returns [True]{.c004} |                       |
|                       | if the letters in a   |                       |
|                       | word appear in        |                       |
|                       | alphabetical order    |                       |
|                       | (double letters are   |                       |
|                       | ok). How many         |                       |
|                       | abecedarian words are |                       |
|                       | there?</em>               |                       |
|                       |                       |                       |
|                       | []{#hevea_default662} |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ## 9.3  Sear          |                       |
|                       | ch {#sec108 .section} |                       |
|                       |                       |                       |
|                       | []{#search}           |                       |
|                       | []{#hevea_default663} |                       |
|                       | []{#hevea_default664} |                       |
|                       |                       |                       |
|                       | All of the exercises  |                       |
|                       | in the previous       |                       |
|                       | section have          |                       |
|                       | something in common;  |                       |
|                       | they can be solved    |                       |
|                       | with the search       |                       |
|                       | pattern we saw in     |                       |
|                       | Section [8.6](thinkp  |                       |
|                       | ython2009.html#find). |                       |
|                       | The simplest example  |                       |
|                       | is:                   |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def has_no_e(word):   |                       | |                       |                       |                       | |                       |   for letter in word: |                       | |                       |                       |                       | |                       |     if letter == 'e': |                       | |                       |                       |                       | |                       |          return False |                       | |                       |     return True       |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | The [for]{.c004} loop |                       |
|                       | traverses the         |                       |
|                       | characters in         |                       |
|                       | [word]{.c004}. If we  |                       |
|                       | find the letter &quot;e&quot;,  |                       |
|                       | we can immediately    |                       |
|                       | return                |                       |
|                       | [False]{.c004};       |                       |
|                       | otherwise we have to  |                       |
|                       | go to the next        |                       |
|                       | letter. If we exit    |                       |
|                       | the loop normally,    |                       |
|                       | that means we didn't  |                       |
|                       | find an &quot;e&quot;, so we    |                       |
|                       | return [True]{.c004}. |                       |
|                       | []{#hevea_default665} |                       |
|                       |                       |                       |
|                       | []{#hevea_default666} |                       |
|                       | []{#hevea_default667} |                       |
|                       | You could write this  |                       |
|                       | function more         |                       |
|                       | concisely using the   |                       |
|                       | [in]{.c004} operator, |                       |
|                       | but I started with    |                       |
|                       | this version because  |                       |
|                       | it demonstrates the   |                       |
|                       | logic of the search   |                       |
|                       | pattern.              |                       |
|                       |                       |                       |
|                       | []{#hevea_default668} |                       |
|                       | [avoids]{.c004} is a  |                       |
|                       | more general version  |                       |
|                       | of <code>has_no_e</code> but it  |                       |
|                       | has the same          |                       |
|                       | structure:            |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def avo               |                       | |                       | ids(word, forbidden): |                       | |                       |                       |                       | |                       |   for letter in word: |                       | |                       |         if            |                       | |                       |  letter in forbidden: |                       | |                       |                       |                       | |                       |          return False |                       | |                       |     return True       |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | We can return         |                       |
|                       | [False]{.c004} as     |                       |
|                       | soon as we find a     |                       |
|                       | forbidden letter; if  |                       |
|                       | we get to the end of  |                       |
|                       | the loop, we return   |                       |
|                       | [True]{.c004}.        |                       |
|                       |                       |                       |
|                       | <code>uses_only</code> is        |                       |
|                       | similar except that   |                       |
|                       | the sense of the      |                       |
|                       | condition is          |                       |
|                       | reversed:             |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def uses_o            |                       | |                       | nly(word, available): |                       | |                       |                       |                       | |                       |  for letter in word:  |                       | |                       |         if let        |                       | |                       | ter not in available: |                       | |                       |                       |                       | |                       |          return False |                       | |                       |     return True       |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | Instead of a list of  |                       |
|                       | forbidden letters, we |                       |
|                       | have a list of        |                       |
|                       | available letters. If |                       |
|                       | we find a letter in   |                       |
|                       | [word]{.c004} that is |                       |
|                       | not in                |                       |
|                       | [available]{.c004},   |                       |
|                       | we can return         |                       |
|                       | [False]{.c004}.       |                       |
|                       |                       |                       |
|                       | <code>uses_all</code> is similar |                       |
|                       | except that we        |                       |
|                       | reverse the role of   |                       |
|                       | the word and the      |                       |
|                       | string of letters:    |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def uses              |                       | |                       | _all(word, required): |                       | |                       |     for               |                       | |                       |  letter in required:  |                       | |                       |         i             |                       | |                       | f letter not in word: |                       | |                       |                       |                       | |                       |          return False |                       | |                       |     return True       |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | Instead of traversing |                       |
|                       | the letters in        |                       |
|                       | [word]{.c004}, the    |                       |
|                       | loop traverses the    |                       |
|                       | required letters. If  |                       |
|                       | any of the required   |                       |
|                       | letters do not appear |                       |
|                       | in the word, we can   |                       |
|                       | return                |                       |
|                       | [False]{.c004}.       |                       |
|                       | []{#hevea_default669} |                       |
|                       |                       |                       |
|                       | If you were really    |                       |
|                       | thinking like a       |                       |
|                       | computer scientist,   |                       |
|                       | you would have        |                       |
|                       | recognized that       |                       |
|                       | <code>uses_all</code> was an     |                       |
|                       | instance of a         |                       |
|                       | previously solved     |                       |
|                       | problem, and you      |                       |
|                       | would have written:   |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def uses              |                       | |                       | _all(word, required): |                       | |                       |     return uses       |                       | |                       | _only(required, word) |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | This is an example of |                       |
|                       | a program development |                       |
|                       | plan called           |                       |
|                       | [reduction to a       |                       |
|                       | previously solved     |                       |
|                       | problem]{.c010},      |                       |
|                       | which means that you  |                       |
|                       | recognize the problem |                       |
|                       | you are working on as |                       |
|                       | an instance of a      |                       |
|                       | solved problem and    |                       |
|                       | apply an existing     |                       |
|                       | solution.             |                       |
|                       | []{#hevea_default670} |                       |
|                       | []{#hevea_default671} |                       |
|                       |                       |                       |
|                       | ## 9.                 |                       |
|                       | 4  Looping with indic |                       |
|                       | es {#sec109 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default672} |                       |
|                       | []{#hevea_default673} |                       |
|                       |                       |                       |
|                       | I wrote the functions |                       |
|                       | in the previous       |                       |
|                       | section with          |                       |
|                       | [for]{.c004} loops    |                       |
|                       | because I only needed |                       |
|                       | the characters in the |                       |
|                       | strings; I didn't     |                       |
|                       | have to do anything   |                       |
|                       | with the indices.     |                       |
|                       |                       |                       |
|                       | For <code>is_abecedarian</code>  |                       |
|                       | we have to compare    |                       |
|                       | adjacent letters,     |                       |
|                       | which is a little     |                       |
|                       | tricky with a         |                       |
|                       | [for]{.c004} loop:    |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def                   |                       | |                       | is_abecedarian(word): |                       | |                       |                       |                       | |                       |    previous = word[0] |                       | |                       |     for c in word:    |                       | |                       |                       |                       | |                       |      if c &lt; previous: |                       | |                       |                       |                       | |                       |          return False |                       | |                       |         previous = c  |                       | |                       |     return True       |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | An alternative is to  |                       |
|                       | use recursion:        |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def                   |                       | |                       | is_abecedarian(word): |                       | |                       |                       |                       | |                       |    if len(word) &lt;= 1: |                       | |                       |         return True   |                       | |                       |                       |                       | |                       | if word[0] &gt; word[1]: |                       | |                       |         return False  |                       | |                       |     return is_        |                       | |                       | abecedarian(word[1:]) |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | Another option is to  |                       |
|                       | use a [while]{.c004}  |                       |
|                       | loop:                 |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def                   |                       | |                       | is_abecedarian(word): |                       | |                       |     i = 0             |                       | |                       |     w                 |                       | |                       | hile i &lt; len(word)-1: |                       | |                       |         if            |                       | |                       |  word[i+1] &lt; word[i]: |                       | |                       |                       |                       | |                       |          return False |                       | |                       |         i = i+1       |                       | |                       |     return True       |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | The loop starts at    |                       |
|                       | [i=0]{.c004} and ends |                       |
|                       | when                  |                       |
|                       | [i                    |                       |
|                       | =len(word)-1]{.c004}. |                       |
|                       | Each time through the |                       |
|                       | loop, it compares the |                       |
|                       | [i]{.c009}th          |                       |
|                       | character (which you  |                       |
|                       | can think of as the   |                       |
|                       | current character) to |                       |
|                       | the [i]{.c009}+1th    |                       |
|                       | character (which you  |                       |
|                       | can think of as the   |                       |
|                       | next).                |                       |
|                       |                       |                       |
|                       | If the next character |                       |
|                       | is less than          |                       |
|                       | (alphabetically       |                       |
|                       | before) the current   |                       |
|                       | one, then we have     |                       |
|                       | discovered a break in |                       |
|                       | the abecedarian       |                       |
|                       | trend, and we return  |                       |
|                       | [False]{.c004}.       |                       |
|                       |                       |                       |
|                       | If we get to the end  |                       |
|                       | of the loop without   |                       |
|                       | finding a fault, then |                       |
|                       | the word passes the   |                       |
|                       | test. To convince     |                       |
|                       | yourself that the     |                       |
|                       | loop ends correctly,  |                       |
|                       | consider an example   |                       |
|                       | like <code>'flossy'</code>. The  |                       |
|                       | length of the word is |                       |
|                       | 6, so the last time   |                       |
|                       | the loop runs is when |                       |
|                       | [i]{.c004} is 4,      |                       |
|                       | which is the index of |                       |
|                       | the second-to-last    |                       |
|                       | character. On the     |                       |
|                       | last iteration, it    |                       |
|                       | compares the          |                       |
|                       | second-to-last        |                       |
|                       | character to the      |                       |
|                       | last, which is what   |                       |
|                       | we want.              |                       |
|                       | []{#hevea_default674} |                       |
|                       |                       |                       |
|                       | Here is a version of  |                       |
|                       | <code>is_palindrome</code> (see  |                       |
|                       | Exer                  |                       |
|                       | cise [3](thinkpython2 |                       |
|                       | 007.html#palindrome)) |                       |
|                       | that uses two         |                       |
|                       | indices; one starts   |                       |
|                       | at the beginning and  |                       |
|                       | goes up; the other    |                       |
|                       | starts at the end and |                       |
|                       | goes down.            |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def                   |                       | |                       |  is_palindrome(word): |                       | |                       |     i = 0             |                       | |                       |     j = len(word)-1   |                       | |                       |                       |                       | |                       |     while i&lt;j:        |                       | |                       |         i             |                       | |                       | f word[i] != word[j]: |                       | |                       |                       |                       | |                       |          return False |                       | |                       |         i = i+1       |                       | |                       |         j = j-1       |                       | |                       |                       |                       | |                       |     return True       |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | Or we could reduce to |                       |
|                       | a previously solved   |                       |
|                       | problem and write:    |                       |
|                       | []{#hevea_default675} |                       |
|                       | []{#hevea_default676} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def                   |                       | |                       |  is_palindrome(word): |                       | |                       |     return i          |                       | |                       | s_reverse(word, word) |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | Using <code>is_reverse</code>    |                       |
|                       | from                  |                       |
|                       | Secti                 |                       |
|                       | on [8.11](thinkpython |                       |
|                       | 2009.html#isreverse). |                       |
|                       |                       |                       |
|                       | ## 9.5  Debuggi       |                       |
|                       | ng {#sec110 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default677} |                       |
|                       | []{#hevea_default678} |                       |
|                       | []{#hevea_default679} |                       |
|                       |                       |                       |
|                       | Testing programs is   |                       |
|                       | hard. The functions   |                       |
|                       | in this chapter are   |                       |
|                       | relatively easy to    |                       |
|                       | test because you can  |                       |
|                       | check the results by  |                       |
|                       | hand. Even so, it is  |                       |
|                       | somewhere between     |                       |
|                       | difficult and         |                       |
|                       | impossible to choose  |                       |
|                       | a set of words that   |                       |
|                       | test for all possible |                       |
|                       | errors.               |                       |
|                       |                       |                       |
|                       | Taking <code>has_no_e</code> as  |                       |
|                       | an example, there are |                       |
|                       | two obvious cases to  |                       |
|                       | check: words that     |                       |
|                       | have an 'e' should    |                       |
|                       | return                |                       |
|                       | [False]{.c004}, and   |                       |
|                       | words that don't      |                       |
|                       | should return         |                       |
|                       | [True]{.c004}. You    |                       |
|                       | should have no        |                       |
|                       | trouble coming up     |                       |
|                       | with one of each.     |                       |
|                       |                       |                       |
|                       | Within each case,     |                       |
|                       | there are some less   |                       |
|                       | obvious subcases.     |                       |
|                       | Among the words that  |                       |
|                       | have an &quot;e&quot;, you      |                       |
|                       | should test words     |                       |
|                       | with an &quot;e&quot; at the    |                       |
|                       | beginning, the end,   |                       |
|                       | and somewhere in the  |                       |
|                       | middle. You should    |                       |
|                       | test long words,      |                       |
|                       | short words, and very |                       |
|                       | short words, like the |                       |
|                       | empty string. The     |                       |
|                       | empty string is an    |                       |
|                       | example of a [special |                       |
|                       | case]{.c010}, which   |                       |
|                       | is one of the         |                       |
|                       | non-obvious cases     |                       |
|                       | where errors often    |                       |
|                       | lurk.                 |                       |
|                       | []{#hevea_default680} |                       |
|                       |                       |                       |
|                       | In addition to the    |                       |
|                       | test cases you        |                       |
|                       | generate, you can     |                       |
|                       | also test your        |                       |
|                       | program with a word   |                       |
|                       | list like             |                       |
|                       | [words.txt]{.c004}.   |                       |
|                       | By scanning the       |                       |
|                       | output, you might be  |                       |
|                       | able to catch errors, |                       |
|                       | but be careful: you   |                       |
|                       | might catch one kind  |                       |
|                       | of error (words that  |                       |
|                       | should not be         |                       |
|                       | included, but are)    |                       |
|                       | and not another       |                       |
|                       | (words that should be |                       |
|                       | included, but         |                       |
|                       | aren't).              |                       |
|                       |                       |                       |
|                       | In general, testing   |                       |
|                       | can help you find     |                       |
|                       | bugs, but it is not   |                       |
|                       | easy to generate a    |                       |
|                       | good set of test      |                       |
|                       | cases, and even if    |                       |
|                       | you do, you can't be  |                       |
|                       | sure your program is  |                       |
|                       | correct. According to |                       |
|                       | a legendary computer  |                       |
|                       | scientist:            |                       |
|                       | []{#hevea_default681} |                       |
|                       |                       |                       |
|                       | &gt; Program testing can |                       |
|                       | &gt; be used to show the |                       |
|                       | &gt; presence of bugs,   |                       |
|                       | &gt; but never to show   |                       |
|                       | &gt; their absence!      |                       |
|                       | &gt;                     |                       |
|                       | &gt; --- Edsger W.       |                       |
|                       | &gt; Dijkstra            |                       |
|                       |                       |                       |
|                       | []{#hevea_default682} |                       |
|                       |                       |                       |
|                       | ## 9.6  Glossa        |                       |
|                       | ry {#sec111 .section} |                       |
|                       |                       |                       |
|                       | [file object:]{.c010} |                       |
|                       | :   A value that      |                       |
|                       |     represents an     |                       |
|                       |     open file.        |                       |
|                       |                       |                       |
|                       | []{#hevea_default683} |                       |
|                       |                       |                       |
|                       | []{#hevea_default684} |                       |
|                       |                       |                       |
|                       | [reducti              |                       |
|                       | on to a previously so |                       |
|                       | lved problem:]{.c010} |                       |
|                       | :   A way of solving  |                       |
|                       |     a problem by      |                       |
|                       |     expressing it as  |                       |
|                       |     an instance of a  |                       |
|                       |     previously solved |                       |
|                       |     problem.          |                       |
|                       |                       |                       |
|                       | []{#hevea_default685} |                       |
|                       |                       |                       |
|                       | []{#hevea_default686} |                       |
|                       |                       |                       |
|                       | [                     |                       |
|                       | special case:]{.c010} |                       |
|                       | :   A test case that  |                       |
|                       |     is atypical or    |                       |
|                       |     non-obvious (and  |                       |
|                       |     less likely to be |                       |
|                       |     handled           |                       |
|                       |     correctly).       |                       |
|                       |                       |                       |
|                       | []{#hevea_default687} |                       |
|                       |                       |                       |
|                       | ## 9.7  Exercis       |                       |
|                       | es {#sec112 .section} |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 7]{.c010}   |                       |
|                       | []{#hevea_default688} |                       |
|                       | []{#hevea_default689} |                       |
|                       | []{#hevea_default690} |                       |
|                       |                       |                       |
|                       | <em>This question is     |                       |
|                       | based on a Puzzler    |                       |
|                       | that was broadcast on |                       |
|                       | the radio program</em>    |                       |
|                       | Car Talk              |                       |
|                       | <em>(</em>[<em>[http://www      |                       |
|                       | .cartalk.com/content/ |                       |
|                       | puzzlers]{.c004}</em>](ht |                       |
|                       | tp://www.cartalk.com/ |                       |
|                       | content/puzzlers)<em>):</em> |                       |
|                       |                       |                       |
|                       | &gt; <em>Give me a word     |                       |
|                       | &gt; with three          |                       |
|                       | &gt; consecutive double  |                       |
|                       | &gt; letters. I'll give  |                       |
|                       | &gt; you a couple of     |                       |
|                       | &gt; words that almost   |                       |
|                       | &gt; qualify, but don't. |                       |
|                       | &gt; For example, the    |                       |
|                       | &gt; word committee,     |                       |
|                       | &gt; c-o-m-m-i-t-t-e-e.  |                       |
|                       | &gt; It would be great   |                       |
|                       | &gt; except for the 'i'  |                       |
|                       | &gt; that sneaks in      |                       |
|                       | &gt; there. Or           |                       |
|                       | &gt; Mississippi:        |                       |
|                       | &gt; M                   |                       |
|                       | -i-s-s-i-s-s-i-p-p-i. |                       |
|                       | &gt; If you could take   |                       |
|                       | &gt; out those i's it    |                       |
|                       | &gt; would work. But     |                       |
|                       | &gt; there is a word     |                       |
|                       | &gt; that has three      |                       |
|                       | &gt; consecutive pairs   |                       |
|                       | &gt; of letters and to   |                       |
|                       | &gt; the best of my      |                       |
|                       | &gt; knowledge this may  |                       |
|                       | &gt; be the only word.   |                       |
|                       | &gt; Of course there are |                       |
|                       | &gt; probably 500 more   |                       |
|                       | &gt; but I can only      |                       |
|                       | &gt; think of one. What  |                       |
|                       | &gt; is the word?</em>       |                       |
|                       |                       |                       |
|                       | <em>Write a program to   |                       |
|                       | find it. Solution:</em>   |                       |
|                       | [<em>[https://thi        |                       |
|                       | nkpython.com/code/car |                       |
|                       | talk1.py]{.c004}</em>](ht |                       |
|                       | tps://thinkpython.com |                       |
|                       | /code/cartalk1.py)<em>.</em> |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 8]{.c010}   |                       |
|                       | <em>Here's another</em> Car  |                       |
|                       | Talk <em>Puzzler         |                       |
|                       | (</em>[[<em>http://www       |                       |
|                       | .cartalk.com/content/ |                       |
|                       | puzzlers</em>]{.c004}](ht |                       |
|                       | tp://www.cartalk.com/ |                       |
|                       | content/puzzlers)<em>):</em> |                       |
|                       | []{#hevea_default691} |                       |
|                       | []{#hevea_default692} |                       |
|                       | []{#hevea_default693} |                       |
|                       | []{#hevea_default694} |                       |
|                       |                       |                       |
|                       | &gt; <em>&quot;I was driving on  |                       |
|                       | &gt; the highway the     |                       |
|                       | &gt; other day and I     |                       |
|                       | &gt; happened to notice  |                       |
|                       | &gt; my odometer. Like   |                       |
|                       | &gt; most odometers, it  |                       |
|                       | &gt; shows six digits,   |                       |
|                       | &gt; in whole miles      |                       |
|                       | &gt; only. So, if my car |                       |
|                       | &gt; had 300,000 miles,  |                       |
|                       | &gt; for example, I'd    |                       |
|                       | &gt; see 3-0-0-0-0-0.</em>   |                       |
|                       | &gt;                     |                       |
|                       | &gt; <em>&quot;Now, what I saw   |                       |
|                       | &gt; that day was very   |                       |
|                       | &gt; interesting. I      |                       |
|                       | &gt; noticed that the    |                       |
|                       | &gt; last 4 digits were  |                       |
|                       | &gt; palindromic; that   |                       |
|                       | &gt; is, they read the   |                       |
|                       | &gt; same forward as     |                       |
|                       | &gt; backward. For       |                       |
|                       | &gt; example, 5-4-4-5 is |                       |
|                       | &gt; a palindrome, so my |                       |
|                       | &gt; odometer could have |                       |
|                       | &gt; read 3-1-5-4-4-5.</em>  |                       |
|                       | &gt;                     |                       |
|                       | &gt; <em>&quot;One mile later,   |                       |
|                       | &gt; the last 5 numbers  |                       |
|                       | &gt; were palindromic.   |                       |
|                       | &gt; For example, it     |                       |
|                       | &gt; could have read     |                       |
|                       | &gt; 3-6-5-4-5-6. One    |                       |
|                       | &gt; mile after that,    |                       |
|                       | &gt; the middle 4 out of |                       |
|                       | &gt; 6 numbers were      |                       |
|                       | &gt; palindromic. And    |                       |
|                       | &gt; you ready for this? |                       |
|                       | &gt; One mile later, all |                       |
|                       | &gt; 6 were              |                       |
|                       | &gt; palindromic!</em>       |                       |
|                       | &gt;                     |                       |
|                       | &gt; <em>&quot;The question is,  |                       |
|                       | &gt; what was on the     |                       |
|                       | &gt; odometer when I     |                       |
|                       | &gt; first looked?&quot;</em>     |                       |
|                       |                       |                       |
|                       | <em>Write a Python       |                       |
|                       | program that tests    |                       |
|                       | all the six-digit     |                       |
|                       | numbers and prints    |                       |
|                       | any numbers that      |                       |
|                       | satisfy these         |                       |
|                       | requirements.         |                       |
|                       | Solution:</em>            |                       |
|                       | [<em>[https://thi        |                       |
|                       | nkpython.com/code/car |                       |
|                       | talk2.py]{.c004}</em>](ht |                       |
|                       | tps://thinkpython.com |                       |
|                       | /code/cartalk2.py)<em>.</em> |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 9]{.c010}   |                       |
|                       | <em>Here's another</em> Car  |                       |
|                       | Talk <em>Puzzler you can |                       |
|                       | solve with a search   |                       |
|                       | (</em>[[<em>http://www       |                       |
|                       | .cartalk.com/content/ |                       |
|                       | puzzlers</em>]{.c004}](ht |                       |
|                       | tp://www.cartalk.com/ |                       |
|                       | content/puzzlers)<em>):</em> |                       |
|                       | []{#hevea_default695} |                       |
|                       | []{#hevea_default696} |                       |
|                       | []{#hevea_default697} |                       |
|                       |                       |                       |
|                       | &gt; <em>&quot;Recently I had a  |                       |
|                       | &gt; visit with my mom   |                       |
|                       | &gt; and we realized     |                       |
|                       | &gt; that the two digits |                       |
|                       | &gt; that make up my age |                       |
|                       | &gt; when reversed       |                       |
|                       | &gt; resulted in her     |                       |
|                       | &gt; age. For example,   |                       |
|                       | &gt; if she's 73, I'm    |                       |
|                       | &gt; 37. We wondered how |                       |
|                       | &gt; often this has      |                       |
|                       | &gt; happened over the   |                       |
|                       | &gt; years but we got    |                       |
|                       | &gt; sidetracked with    |                       |
|                       | &gt; other topics and we |                       |
|                       | &gt; never came up with  |                       |
|                       | &gt; an answer.</em>         |                       |
|                       | &gt;                     |                       |
|                       | &gt; <em>&quot;When I got home I |                       |
|                       | &gt; figured out that    |                       |
|                       | &gt; the digits of our   |                       |
|                       | &gt; ages have been      |                       |
|                       | &gt; reversible six      |                       |
|                       | &gt; times so far. I     |                       |
|                       | &gt; also figured out    |                       |
|                       | &gt; that if we're lucky |                       |
|                       | &gt; it would happen     |                       |
|                       | &gt; again in a few      |                       |
|                       | &gt; years, and if we're |                       |
|                       | &gt; really lucky it     |                       |
|                       | &gt; would happen one    |                       |
|                       | &gt; more time after     |                       |
|                       | &gt; that. In other      |                       |
|                       | &gt; words, it would     |                       |
|                       | &gt; have happened 8     |                       |
|                       | &gt; times over all. So  |                       |
|                       | &gt; the question is,    |                       |
|                       | &gt; how old am I now?&quot;</em> |                       |
|                       |                       |                       |
|                       | <em>Write a Python       |                       |
|                       | program that searches |                       |
|                       | for solutions to this |                       |
|                       | Puzzler. Hint: you    |                       |
|                       | might find the string |                       |
|                       | method [zfill]{.c004} |                       |
|                       | useful.</em>              |                       |
|                       |                       |                       |
|                       | <em>Solution:</em>           |                       |
|                       | [<em>[https://thi        |                       |
|                       | nkpython.com/code/car |                       |
|                       | talk3.py]{.c004}</em>](ht |                       |
|                       | tps://thinkpython.com |                       |
|                       | /code/cartalk3.py)<em>.</em> |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | [Buy this book at     |                       |
|                       | Amazon.com](ht        |                       |
|                       | tp://amzn.to/1VUYQUU) |                       |
+-----------------------+-----------------------+-----------------------+</p>
<hr />
<h2><a href="thinkpython2009.html"><img src="back.png" alt="Previous" /></a>
<a href="index.html"><img src="up.png" alt="Up" /></a> <a href="thinkpython2011.html"><img src="next.png" alt="Next" /></a></h2>
<h2>generator: hevea 2.32
title: Lists</h2>
<p><a href="thinkpython2010.html"><img src="back.png" alt="Previous" /></a>
<a href="index.html"><img src="up.png" alt="Up" /></a> <a href="thinkpython2012.html"><img src="next.png" alt="Next" /></a></p>
<hr />
<p>+-----------------------+-----------------------+-----------------------+
|                       | [Buy this book at     | #### Contribute       |
|                       | Amazon.com](ht        |                       |
|                       | tp://amzn.to/1VUYQUU) | If you would like to  |
|                       |                       | make a contribution   |
|                       | # Chapter 10  Lis     | to support my books,  |
|                       | ts {#sec113 .chapter} | you can use the       |
|                       |                       | button below and pay  |
|                       | This chapter presents | with PayPal. Thank    |
|                       | one of Python's most  | you!                  |
|                       | useful built-in       |                       |
|                       | types, lists. You     |   -----------         |
|                       | will also learn more  | --------------------- |
|                       | about objects and     | --------------------- |
|                       | what can happen when  | --------------------- |
|                       | you have more than    | --------------------- |
|                       | one name for the same |   Pay what you want:  |
|                       | object.               |   Small $1           |
|                       |                       | .00 USD Medium $5.00 |
|                       | ## 10.                |  USD Large $10.00 US |
|                       | 1  A list is a sequen | D X-Large $20.00 USD |
|                       | ce {#sec114 .section} |  XX-Large $50.00 USD |
|                       |                       |   -----------         |
|                       | []{#sequence}         | --------------------- |
|                       |                       | --------------------- |
|                       | Like a string, a      | --------------------- |
|                       | [list]{.c010} is a    | --------------------- |
|                       | sequence of values.   |                       |
|                       | In a string, the      | ![](                  |
|                       | values are            | https://www.paypalobj |
|                       | characters; in a      | ects.com/en_US/i/scr/ |
|                       | list, they can be any | pixel.gif){border=&quot;0&quot; |
|                       | type. The values in a | width=&quot;1&quot; height=&quot;1&quot;} |
|                       | list are called       |                       |
|                       | [elements]{.c010} or  | ####                  |
|                       | sometimes             | Are you using one of  |
|                       | [items]{.c010}.       | our books in a class? |
|                       | []{#hevea_default698} |                       |
|                       | []{#hevea_default699} | We'd like to know    |
|                       | []{#hevea_default700} | about it. Please      |
|                       | []{#hevea_default701} | consider filling out  |
|                       | []{#hevea_default702} | [this short           |
|                       |                       | survey](http://s      |
|                       | There are several     | preadsheets.google.co |
|                       | ways to create a new  | m/viewform?formkey=dC |
|                       | list; the simplest is | 0tNUZkMjBEdXVoRGljNm9 |
|                       | to enclose the        | FRmlTMHc6MA){onclick= |
|                       | elements in square    | &quot;javascript: pageTrac |
|                       | brackets (<code>[</code> and     | ker._trackPageview('/ |
|                       | <code>]</code>):                 | outbound/survey');&quot;}. |
|                       |                       |                       |
|                       | <code>verbatim          | \                     | |                       | [10, 20, 30, 40]      |                       | |                       | ['c                   | [Think                | |                       | runchy frog', 'ram bl | DSP](http             | |                       | adder', 'lark vomit'] | ://www.amazon.com/gp/ | |                       |</code>                   | product/1491938455/re |
|                       |                       | f=as_li_tl?ie=UTF8&amp;ca |
|                       | The first example is  | mp=1789&amp;creative=9325 |
|                       | a list of four        | &amp;creativeASIN=1491938 |
|                       | integers. The second  | 455&amp;linkCode=as2&amp;tag= |
|                       | is a list of three    | greenteapre01-20&amp;link |
|                       | strings. The elements | Id=2JJH4SWCAVVYSQHO){ |
|                       | of a list don't have  | rel=&quot;nofollow&quot;}![](ht |
|                       | to be the same type.  | tp://ir-na.amazon-ads |
|                       | The following list    | ystem.com/e/ir?t=gree |
|                       | contains a string, a  | nteapre01-20&amp;l=as2&amp;o= |
|                       | float, an integer,    | 1&amp;a=1491938455){.c003 |
|                       | and (lo!) another     | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | list:                 | border=&quot;0&quot;}           |
|                       |                       |                       |
|                       | <code>verbatim          | [                     | |                       | ['spa                 | ![](http://ws-na.amaz | |                       | m', 2.0, 5, [10, 20]] | on-adsystem.com/widge | |                       |</code>                   | ts/q?_encoding=UTF8&amp;A |
|                       |                       | SIN=1491938455&amp;Format |
|                       | A list within another | =<em>SL160</em>&amp;ID=AsinImage |
|                       | list is               | &amp;MarketPlace=US&amp;Servi |
|                       | [nested]{.c010}.      | ceVersion=20070822&amp;WS |
|                       | []{#hevea_default703} | =1&amp;tag=greenteapre01- |
|                       | []{#hevea_default704} | 20){border=&quot;0&quot;}](http |
|                       |                       | ://www.amazon.com/gp/ |
|                       | A list that contains  | product/1491938455/re |
|                       | no elements is called | f=as_li_tl?ie=UTF8&amp;ca |
|                       | an empty list; you    | mp=1789&amp;creative=9325 |
|                       | can create one with   | &amp;creativeASIN=1491938 |
|                       | empty brackets, <code>[]</code>. | 455&amp;linkCode=as2&amp;tag= |
|                       | []{#hevea_default705} | greenteapre01-20&amp;link |
|                       | []{#hevea_default706} | Id=CTV7PDT7E5EGGJUM){ |
|                       |                       | rel=&quot;nofollow&quot;}![](ht |
|                       | As you might expect,  | tp://ir-na.amazon-ads |
|                       | you can assign list   | ystem.com/e/ir?t=gree |
|                       | values to variables:  | nteapre01-20&amp;l=as2&amp;o= |
|                       |                       | 1&amp;a=1491938455){.c003 |
|                       | <code>verbatim          | width=&quot;1&quot; height=&quot;1&quot;  | |                       | &gt;&gt;&gt; cheeses = ['Chedd | border=&quot;0&quot;}           | |                       | ar', 'Edam', 'Gouda'] |                       | |                       | &gt;&gt;                    | [Think                | |                       | &gt; numbers = [42, 123] | Java](http            | |                       | &gt;&gt;&gt; empty = []        | ://www.amazon.com/gp/ | |                       | &gt;&gt;&gt; print(che         | product/1491929561/re | |                       | eses, numbers, empty) | f=as_li_tl?ie=UTF8&amp;ca | |                       | ['Cheddar', 'Edam',   | mp=1789&amp;creative=9325 | |                       | 'Gouda'] [42, 123] [] | &amp;creativeASIN=1491929 | |                       |</code>                   | 561&amp;linkCode=as2&amp;tag= |
|                       |                       | greenteapre01-20&amp;link |
|                       | []{#hevea_default707} | Id=ZY6MAYM33ZTNSCNZ){ |
|                       |                       | rel=&quot;nofollow&quot;}![](ht |
|                       | ##                    | tp://ir-na.amazon-ads |
|                       | 10.2  Lists are mutab | ystem.com/e/ir?t=gree |
|                       | le {#sec115 .section} | nteapre01-20&amp;l=as2&amp;o= |
|                       |                       | 1&amp;a=1491929561){.c003 |
|                       | []{#mutable}          | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | []{#hevea_default708} | border=&quot;0&quot;}           |
|                       | []{#hevea_default709} |                       |
|                       | []{#hevea_default710} | [                     |
|                       | []{#hevea_default711} | ![](http://ws-na.amaz |
|                       | []{#hevea_default712} | on-adsystem.com/widge |
|                       |                       | ts/q?_encoding=UTF8&amp;A |
|                       | The syntax for        | SIN=1491929561&amp;Format |
|                       | accessing the         | =<em>SL160</em>&amp;ID=AsinImage |
|                       | elements of a list is | &amp;MarketPlace=US&amp;Servi |
|                       | the same as for       | ceVersion=20070822&amp;WS |
|                       | accessing the         | =1&amp;tag=greenteapre01- |
|                       | characters of a       | 20){border=&quot;0&quot;}](http |
|                       | string---the bracket  | ://www.amazon.com/gp/ |
|                       | operator. The         | product/1491929561/re |
|                       | expression inside the | f=as_li_tl?ie=UTF8&amp;ca |
|                       | brackets specifies    | mp=1789&amp;creative=9325 |
|                       | the index. Remember   | &amp;creativeASIN=1491929 |
|                       | that the indices      | 561&amp;linkCode=as2&amp;tag= |
|                       | start at 0:           | greenteapre01-20&amp;link |
|                       |                       | Id=PT77ANWARUNNU3UK){ |
|                       | <code>verbatim          | rel=&quot;nofollow&quot;}![](ht | |                       | &gt;&gt;&gt; cheeses[0]        | tp://ir-na.amazon-ads | |                       | 'Cheddar'             | ystem.com/e/ir?t=gree | |                       |</code>                   | nteapre01-20&amp;l=as2&amp;o= |
|                       |                       | 1&amp;a=1491929561){.c003 |
|                       | Unlike strings, lists | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | are mutable. When the | border=&quot;0&quot;}           |
|                       | bracket operator      |                       |
|                       | appears on the left   | [Think                |
|                       | side of an            | Bay                   |
|                       | assignment, it        | es](http://www.amazon |
|                       | identifies the        | .com/gp/product/14493 |
|                       | element of the list   | 70780/ref=as_li_qf_sp |
|                       | that will be          | _asin_tl?ie=UTF8&amp;camp |
|                       | assigned.             | =1789&amp;creative=9325&amp;c |
|                       | []{#hevea_default713} | reativeASIN=144937078 |
|                       |                       | 0&amp;linkCode=as2&amp;tag=gr |
|                       | <code>verbatim          | eenteapre01-20)![](ht | |                       | &gt;&gt;                    | tp://ir-na.amazon-ads | |                       | &gt; numbers = [42, 123] | ystem.com/e/ir?t=gree | |                       | &gt;&gt;&gt; numbers[1] = 5    | nteapre01-20&amp;l=as2&amp;o= | |                       | &gt;&gt;&gt; numbers           | 1&amp;a=1449370780){.c003 | |                       | [42, 5]               | width=&quot;1&quot; height=&quot;1&quot;  | |                       |</code>                   | border=&quot;0&quot;}           |
|                       |                       |                       |
|                       | The one-eth element   | [![](http://ws        |
|                       | of [numbers]{.c004},  | -na.amazon-adsystem.c |
|                       | which used to be 123, | om/widgets/q?_encodin |
|                       | is now 5.             | g=UTF8&amp;ASIN=144937078 |
|                       | []{#hevea_default714} | 0&amp;Format=<em>SL160</em>&amp;ID=A |
|                       | []{#hevea_default715} | sinImage&amp;MarketPlace= |
|                       |                       | US&amp;ServiceVersion=200 |
|                       | Figure <a href="#fig.liststate">              | 70822&amp;WS=1&amp;tag=greent |
|                       | 10.1</a> | eapre01-20){border=&quot;0 |
|                       | shows the state       | &quot;}](http://www.amazon |
|                       | diagram for           | .com/gp/product/14493 |
|                       | [cheeses]{.c004},     | 70780/ref=as_li_qf_sp |
|                       | [numbers]{.c004} and  | _asin_il?ie=UTF8&amp;camp |
|                       | [empty]{.c004}.       | =1789&amp;creative=9325&amp;c |
|                       | []{#hevea_default716} | reativeASIN=144937078 |
|                       | []{#hevea_default717} | 0&amp;linkCode=as2&amp;tag=gr |
|                       |                       | eenteapre01-20)![](ht |
|                       | &gt; ::: center          | tp://ir-na.amazon-ads |
|                       | &gt;                     | ystem.com/e/ir?t=gree |
|                       | &gt; ------------------- | nteapre01-20&amp;l=as2&amp;o= |
|                       | &gt; :::                 | 1&amp;a=1449370780){.c003 |
|                       | &gt;                     | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | &gt; ::: center          | border=&quot;0&quot;}           |
|                       | &gt; ![]                 |                       |
|                       | (thinkpython2011.png) | [Think Python         |
|                       | &gt; :::                 | 2e](http              |
|                       | &gt;                     | ://www.amazon.com/gp/ |
|                       | &gt; ::: caption         | product/1491939362/re |
|                       | &gt;   --------          | f=as_li_tl?ie=UTF8&amp;ca |
|                       | --------------------- | mp=1789&amp;creative=9325 |
|                       | &gt;   Figure            | &amp;creativeASIN=1491939 |
|                       |  10.1: State diagram. | 362&amp;linkCode=as2&amp;tag= |
|                       | &gt;   --------          | greenteapre01-20&amp;link |
|                       | --------------------- | Id=FJKSQ3IHEMY2F2VA){ |
|                       | &gt; :::                 | rel=&quot;nofollow&quot;}![](ht |
|                       | &gt;                     | tp://ir-na.amazon-ads |
|                       | &gt; []{#fig.liststate}  | ystem.com/e/ir?t=gree |
|                       | &gt;                     | nteapre01-20&amp;l=as2&amp;o= |
|                       | &gt; ::: center          | 1&amp;a=1491939362){.c003 |
|                       | &gt;                     | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | &gt; ------------------- | border=&quot;0&quot;}           |
|                       | &gt; :::                 |                       |
|                       |                       | [                     |
|                       | Lists are represented | ![](http://ws-na.amaz |
|                       | by boxes with the     | on-adsystem.com/widge |
|                       | word &quot;list&quot; outside   | ts/q?<em>encoding=UTF8&amp;A |
|                       | and the elements of   | SIN=1491939362&amp;Format |
|                       | the list inside.      | =<em>SL160</em>&amp;ID=AsinImage |
|                       | [cheeses]{.c004}      | &amp;MarketPlace=US&amp;Servi |
|                       | refers to a list with | ceVersion=20070822&amp;WS |
|                       | three elements        | =1&amp;tag=greenteapre01- |
|                       | indexed 0, 1 and 2.   | 20){border=&quot;0&quot;}](http |
|                       | [numbers]{.c004}      | ://www.amazon.com/gp/ |
|                       | contains two          | product/1491939362/re |
|                       | elements; the diagram | f=as_li_tl?ie=UTF8&amp;ca |
|                       | shows that the value  | mp=1789&amp;creative=9325 |
|                       | of the second element | &amp;creativeASIN=1491939 |
|                       | has been reassigned   | 362&amp;linkCode=as2&amp;tag= |
|                       | from 123 to 5.        | greenteapre01-20&amp;link |
|                       | [empty]{.c004} refers | Id=ZZ454DLQ3IXDHNHX){ |
|                       | to a list with no     | rel=&quot;nofollow&quot;}![](ht |
|                       | elements.             | tp://ir-na.amazon-ads |
|                       | []{#hevea_default718} | ystem.com/e/ir?t=gree |
|                       | []{#hevea_default719} | nteapre01-20&amp;l=as2&amp;o= |
|                       | []{#hevea_default720} | 1&amp;a=1491939362){.c003 |
|                       |                       | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | List indices work the | border=&quot;0&quot;}           |
|                       | same way as string    |                       |
|                       | indices:              | [Think Stats          |
|                       |                       | 2e](http://ww         |
|                       | -   Any integer       | w.amazon.com/gp/produ |
|                       |     expression can be | ct/1491907339/ref=as</em> |
|                       |     used as an index. | li_tl?ie=UTF8&amp;camp=17 |
|                       | -   If you try to     | 89&amp;creative=9325&amp;crea |
|                       |     read or write an  | tiveASIN=1491907339&amp;l |
|                       |     element that does | inkCode=as2&amp;tag=green |
|                       |     not exist, you    | teapre01-20&amp;linkId=O7 |
|                       |     get an            | WYM6H6YBYUFNWU)![](ht |
|                       |                       | tp://ir-na.amazon-ads |
|                       |  [IndexError]{.c004}. | ystem.com/e/ir?t=gree |
|                       |                       | nteapre01-20&amp;l=as2&amp;o= |
|                       | []{#hevea_default721} | 1&amp;a=1491907339){.c003 |
|                       |                       | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | []{#hevea_default722} | border=&quot;0&quot;}           |
|                       | -   If an index has a |                       |
|                       |     negative value,   | [![](h                |
|                       |     it counts         | ttp://ws-na.amazon-ad |
|                       |     backward from the | system.com/widgets/q? |
|                       |     end of the list.  | <em>encoding=UTF8&amp;ASIN=1 |
|                       |                       | 491907339&amp;Format=<em>SL1 |
|                       | []{#hevea_default723} | 60</em>&amp;ID=AsinImage&amp;Mark |
|                       |                       | etPlace=US&amp;ServiceVer |
|                       | []{#hevea_default724} | sion=20070822&amp;WS=1&amp;ta |
|                       | []{#hevea_default725} | g=greenteapre01-20){b |
|                       | []{#hevea_default726} | order=&quot;0&quot;}](http://ww |
|                       | []{#hevea_default727} | w.amazon.com/gp/produ |
|                       |                       | ct/1491907339/ref=as</em> |
|                       | The [in]{.c004}       | li_tl?ie=UTF8&amp;camp=17 |
|                       | operator also works   | 89&amp;creative=9325&amp;crea |
|                       | on lists.             | tiveASIN=1491907339&amp;l |
|                       |                       | inkCode=as2&amp;tag=green |
|                       | <code>verbatim          | teapre01-20&amp;linkId=JV | |                       | &gt;&gt;&gt; cheeses = ['Chedd | SYKQHYSUIEYRHL)![](ht | |                       | ar', 'Edam', 'Gouda'] | tp://ir-na.amazon-ads | |                       | &gt;&gt;&gt; 'Edam' in cheeses | ystem.com/e/ir?t=gree | |                       | True                  | nteapre01-20&amp;l=as2&amp;o= | |                       | &gt;&gt;&gt; 'Brie' in cheeses | 1&amp;a=1491907339){.c003 | |                       | False                 | width=&quot;1&quot; height=&quot;1&quot;  | |                       |</code>                   | border=&quot;0&quot;}           |
|                       |                       |                       |
|                       | ##                    | [Think                |
|                       | 10.3  Traversing a li | Complexity](http      |
|                       | st {#sec116 .section} | ://www.amazon.com/gp/ |
|                       |                       | product/1449314635/re |
|                       | []{#hevea_default728} | f=as_li_tf_tl?ie=UTF8 |
|                       | []{#hevea_default729} | &amp;tag=greenteapre01-20 |
|                       | []{#hevea_default730} | &amp;linkCode=as2&amp;camp=17 |
|                       | []{#hevea_default731} | 89&amp;creative=9325&amp;crea |
|                       | []{#hevea_default732} | tiveASIN=1449314635)! |
|                       |                       | [](http://www.assoc-a |
|                       | The most common way   | mazon.com/e/ir?t=gree |
|                       | to traverse the       | nteapre01-20&amp;l=as2&amp;o= |
|                       | elements of a list is | 1&amp;a=1449314635){.c003 |
|                       | with a [for]{.c004}   | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | loop. The syntax is   | border=&quot;0&quot;}           |
|                       | the same as for       |                       |
|                       | strings:              | [                     |
|                       |                       | ![](http://ws-na.amaz |
|                       | <code>verbatim          | on-adsystem.com/widge | |                       | f                     | ts/q?_encoding=UTF8&amp;A | |                       | or cheese in cheeses: | SIN=1449314635&amp;Format | |                       |     print(cheese)     | =_SL160_&amp;ID=AsinImage | |                       |</code>                   | &amp;MarketPlace=US&amp;Servi |
|                       |                       | ceVersion=20070822&amp;WS |
|                       | This works well if    | =1&amp;tag=greenteapre01- |
|                       | you only need to read | 20){border=&quot;0&quot;}](http |
|                       | the elements of the   | ://www.amazon.com/gp/ |
|                       | list. But if you want | product/1449314635/re |
|                       | to write or update    | f=as_li_tf_il?ie=UTF8 |
|                       | the elements, you     | &amp;camp=1789&amp;creative=9 |
|                       | need the indices. A   | 325&amp;creativeASIN=1449 |
|                       | common way to do that | 314635&amp;linkCode=as2&amp;t |
|                       | is to combine the     | ag=greenteapre01-20)! |
|                       | built-in functions    | [](http://www.assoc-a |
|                       | [range]{.c004} and    | mazon.com/e/ir?t=gree |
|                       | [len]{.c004}:         | nteapre01-20&amp;l=as2&amp;o= |
|                       | []{#hevea_default733} | 1&amp;a=1449314635){.c003 |
|                       | []{#hevea_default734} | width=&quot;1&quot; height=&quot;1&quot;  |
|                       |                       | border=&quot;0&quot;}           |
|                       | <code>verbatim          |                       | |                       | for i in              |                       | |                       |  range(len(numbers)): |                       | |                       |     number            |                       | |                       | s[i] = numbers[i] * 2 |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | This loop traverses   |                       |
|                       | the list and updates  |                       |
|                       | each element.         |                       |
|                       | [len]{.c004} returns  |                       |
|                       | the number of         |                       |
|                       | elements in the list. |                       |
|                       | [range]{.c004}        |                       |
|                       | returns a list of     |                       |
|                       | indices from 0 to     |                       |
|                       | [n]{.c009}−1, where   |                       |
|                       | [n]{.c009} is the     |                       |
|                       | length of the list.   |                       |
|                       | Each time through the |                       |
|                       | loop [i]{.c004} gets  |                       |
|                       | the index of the next |                       |
|                       | element. The          |                       |
|                       | assignment statement  |                       |
|                       | in the body uses      |                       |
|                       | [i]{.c004} to read    |                       |
|                       | the old value of the  |                       |
|                       | element and to assign |                       |
|                       | the new value.        |                       |
|                       | []{#hevea_default735} |                       |
|                       | []{#hevea_default736} |                       |
|                       |                       |                       |
|                       | A [for]{.c004} loop   |                       |
|                       | over an empty list    |                       |
|                       | never runs the body:  |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | for x in []:          |                       | |                       |     print('           |                       | |                       | This never happens.') |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | Although a list can   |                       |
|                       | contain another list, |                       |
|                       | the nested list still |                       |
|                       | counts as a single    |                       |
|                       | element. The length   |                       |
|                       | of this list is four: |                       |
|                       | []{#hevea_default737} |                       |
|                       | []{#hevea_default738} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | ['spam', 1, ['Bri     |                       | |                       | e', 'Roquefort', 'Pol |                       | |                       |  le Veq'], [1, 2, 3]] |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | #                     |                       |
|                       | # 10.4  List operatio |                       |
|                       | ns {#sec117 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default739} |                       |
|                       |                       |                       |
|                       | The [+]{.c004}        |                       |
|                       | operator concatenates |                       |
|                       | lists:                |                       |
|                       | []{#hevea_default740} |                       |
|                       | []{#hevea_default741} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; a = [1, 2, 3]     |                       | |                       | &gt;&gt;&gt; b = [4, 5, 6]     |                       | |                       | &gt;&gt;&gt; c = a + b         |                       | |                       | &gt;&gt;&gt; c                 |                       | |                       | [1, 2, 3, 4, 5, 6]    |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | The [*]{.c004}       |                       |
|                       | operator repeats a    |                       |
|                       | list a given number   |                       |
|                       | of times:             |                       |
|                       | []{#hevea_default742} |                       |
|                       | []{#hevea_default743} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; [0] * 4           |                       | |                       | [0, 0, 0, 0]          |                       | |                       | &gt;&gt;&gt; [1, 2, 3] * 3     |                       | |                       | [1, 2,                |                       | |                       |  3, 1, 2, 3, 1, 2, 3] |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | The first example     |                       |
|                       | repeats               |                       |
|                       | [[0]]{.c004} four   |                       |
|                       | times. The second     |                       |
|                       | example repeats the   |                       |
|                       | list [[1, 2,         |                       |
|                       | 3]]{.c004} three     |                       |
|                       | times.                |                       |
|                       |                       |                       |
|                       | ## 10.5  List slic    |                       |
|                       | es {#sec118 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default744} |                       |
|                       | []{#hevea_default745} |                       |
|                       | []{#hevea_default746} |                       |
|                       | []{#hevea_default747} |                       |
|                       | []{#hevea_default748} |                       |
|                       |                       |                       |
|                       | The slice operator    |                       |
|                       | also works on lists:  |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; t = ['a', 'b'     |                       | |                       | , 'c', 'd', 'e', 'f'] |                       | |                       | &gt;&gt;&gt; t[1:3]            |                       | |                       | ['b', 'c']            |                       | |                       | &gt;&gt;&gt; t[:4]             |                       | |                       | ['a', 'b', 'c', 'd']  |                       | |                       | &gt;&gt;&gt; t[3:]             |                       | |                       | ['d', 'e', 'f']       |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | If you omit the first |                       |
|                       | index, the slice      |                       |
|                       | starts at the         |                       |
|                       | beginning. If you     |                       |
|                       | omit the second, the  |                       |
|                       | slice goes to the     |                       |
|                       | end. So if you omit   |                       |
|                       | both, the slice is a  |                       |
|                       | copy of the whole     |                       |
|                       | list.                 |                       |
|                       | []{#hevea_default749} |                       |
|                       | []{#hevea_default750} |                       |
|                       | []{#hevea_default751} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; t[:]              |                       | |                       | ['a', 'b'             |                       | |                       | , 'c', 'd', 'e', 'f'] |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | Since lists are       |                       |
|                       | mutable, it is often  |                       |
|                       | useful to make a copy |                       |
|                       | before performing     |                       |
|                       | operations that       |                       |
|                       | modify lists.         |                       |
|                       | []{#hevea_default752} |                       |
|                       |                       |                       |
|                       | A slice operator on   |                       |
|                       | the left side of an   |                       |
|                       | assignment can update |                       |
|                       | multiple elements:    |                       |
|                       | []{#hevea_default753} |                       |
|                       | []{#hevea_default754} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; t = ['a', 'b'     |                       | |                       | , 'c', 'd', 'e', 'f'] |                       | |                       | &gt;&gt;                    |                       | |                       | &gt; t[1:3] = ['x', 'y'] |                       | |                       | &gt;&gt;&gt; t                 |                       | |                       | ['a', 'x'             |                       | |                       | , 'y', 'd', 'e', 'f'] |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | ## 10.6  List metho   |                       |
|                       | ds {#sec119 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default755} |                       |
|                       | []{#hevea_default756} |                       |
|                       |                       |                       |
|                       | Python provides       |                       |
|                       | methods that operate  |                       |
|                       | on lists. For         |                       |
|                       | example,              |                       |
|                       | [append]{.c004} adds  |                       |
|                       | a new element to the  |                       |
|                       | end of a list:        |                       |
|                       | []{#hevea_default757} |                       |
|                       | []{#hevea_default758} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;                    |                       | |                       | &gt; t = ['a', 'b', 'c'] |                       | |                       | &gt;&gt;&gt; t.append('d')     |                       | |                       | &gt;&gt;&gt; t                 |                       | |                       | ['a', 'b', 'c', 'd']  |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | [extend]{.c004} takes |                       |
|                       | a list as an argument |                       |
|                       | and appends all of    |                       |
|                       | the elements:         |                       |
|                       | []{#hevea_default759} |                       |
|                       | []{#hevea_default760} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt;                   |                       | |                       |  t1 = ['a', 'b', 'c'] |                       | |                       | &gt;&gt;&gt; t2 = ['d', 'e']   |                       | |                       | &gt;&gt;&gt; t1.extend(t2)     |                       | |                       | &gt;&gt;&gt; t1                |                       | |                       | ['a'                  |                       | |                       | , 'b', 'c', 'd', 'e'] |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | This example leaves   |                       |
|                       | [t2]{.c004}           |                       |
|                       | unmodified.           |                       |
|                       |                       |                       |
|                       | [sort]{.c004}         |                       |
|                       | arranges the elements |                       |
|                       | of the list from low  |                       |
|                       | to high:              |                       |
|                       | []{#hevea_default761} |                       |
|                       | []{#hevea_default762} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; t = ['d'          |                       | |                       | , 'c', 'e', 'b', 'a'] |                       | |                       | &gt;&gt;&gt; t.sort()          |                       | |                       | &gt;&gt;&gt; t                 |                       | |                       | ['a'                  |                       | |                       | , 'b', 'c', 'd', 'e'] |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | Most list methods are |                       |
|                       | void; they modify the |                       |
|                       | list and return       |                       |
|                       | [None]{.c004}. If you |                       |
|                       | accidentally write [t |                       |
|                       | = t.sort()]{.c004},   |                       |
|                       | you will be           |                       |
|                       | disappointed with the |                       |
|                       | result.               |                       |
|                       | []{#hevea_default763} |                       |
|                       | []{#hevea_default764} |                       |
|                       | []{#hevea_default765} |                       |
|                       | []{#hevea_default766} |                       |
|                       |                       |                       |
|                       | ## 10.7               |                       |
|                       |  Map, filter and redu |                       |
|                       | ce {#sec120 .section} |                       |
|                       |                       |                       |
|                       | []{#filter}           |                       |
|                       |                       |                       |
|                       | To add up all the     |                       |
|                       | numbers in a list,    |                       |
|                       | you can use a loop    |                       |
|                       | like this:            |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def add_all(t):       |                       | |                       |     total = 0         |                       | |                       |     for x in t:       |                       | |                       |         total += x    |                       | |                       |     return total      |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | [total]{.c004} is     |                       |
|                       | initialized to 0.     |                       |
|                       | Each time through the |                       |
|                       | loop, [x]{.c004} gets |                       |
|                       | one element from the  |                       |
|                       | list. The [+=]{.c004} |                       |
|                       | operator provides a   |                       |
|                       | short way to update a |                       |
|                       | variable. This        |                       |
|                       | [augmented assignment |                       |
|                       | statement]{.c010},    |                       |
|                       | []{#hevea_default767} |                       |
|                       | []{#hevea_default768} |                       |
|                       | []{#hevea_default769} |                       |
|                       | []{#hevea_default770} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       |     total += x        |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | is equivalent to      |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       |     total = total + x |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | As the loop runs,     |                       |
|                       | [total]{.c004}        |                       |
|                       | accumulates the sum   |                       |
|                       | of the elements; a    |                       |
|                       | variable used this    |                       |
|                       | way is sometimes      |                       |
|                       | called an             |                       |
|                       | [accumulator]{.c010}. |                       |
|                       | []{#hevea_default771} |                       |
|                       |                       |                       |
|                       | Adding up the         |                       |
|                       | elements of a list is |                       |
|                       | such a common         |                       |
|                       | operation that Python |                       |
|                       | provides it as a      |                       |
|                       | built-in function,    |                       |
|                       | [sum]{.c004}:         |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; t = [1, 2, 3]     |                       | |                       | &gt;&gt;&gt; sum(t)            |                       | |                       | 6                     |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | An operation like     |                       |
|                       | this that combines a  |                       |
|                       | sequence of elements  |                       |
|                       | into a single value   |                       |
|                       | is sometimes called   |                       |
|                       | [reduce]{.c010}.      |                       |
|                       | []{#hevea_default772} |                       |
|                       | []{#hevea_default773} |                       |
|                       | []{#hevea_default774} |                       |
|                       |                       |                       |
|                       | Sometimes you want to |                       |
|                       | traverse one list     |                       |
|                       | while building        |                       |
|                       | another. For example, |                       |
|                       | the following         |                       |
|                       | function takes a list |                       |
|                       | of strings and        |                       |
|                       | returns a new list    |                       |
|                       | that contains         |                       |
|                       | capitalized strings:  |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | d                     |                       | |                       | ef capitalize_all(t): |                       | |                       |     res = []          |                       | |                       |     for s in t:       |                       | |                       |         res.a         |                       | |                       | ppend(s.capitalize()) |                       | |                       |     return res        |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | [res]{.c004} is       |                       |
|                       | initialized with an   |                       |
|                       | empty list; each time |                       |
|                       | through the loop, we  |                       |
|                       | append the next       |                       |
|                       | element. So           |                       |
|                       | [res]{.c004} is       |                       |
|                       | another kind of       |                       |
|                       | accumulator.          |                       |
|                       | []{#hevea_default775} |                       |
|                       |                       |                       |
|                       | An operation like     |                       |
|                       | <code>capitalize_all</code> is   |                       |
|                       | sometimes called a    |                       |
|                       | [map]{.c010} because  |                       |
|                       | it &quot;maps&quot; a function  |                       |
|                       | (in this case the     |                       |
|                       | method                |                       |
|                       | [capitalize]{.c004})  |                       |
|                       | onto each of the      |                       |
|                       | elements in a         |                       |
|                       | sequence.             |                       |
|                       | []{#hevea_default776} |                       |
|                       | []{#hevea_default777} |                       |
|                       | []{#hevea_default778} |                       |
|                       | []{#hevea_default779} |                       |
|                       |                       |                       |
|                       | Another common        |                       |
|                       | operation is to       |                       |
|                       | select some of the    |                       |
|                       | elements from a list  |                       |
|                       | and return a sublist. |                       |
|                       | For example, the      |                       |
|                       | following function    |                       |
|                       | takes a list of       |                       |
|                       | strings and returns a |                       |
|                       | list that contains    |                       |
|                       | only the uppercase    |                       |
|                       | strings:              |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def only_upper(t):    |                       | |                       |     res = []          |                       | |                       |     for s in t:       |                       | |                       |                       |                       | |                       |       if s.isupper(): |                       | |                       |                       |                       | |                       |         res.append(s) |                       | |                       |     return res        |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | [isupper]{.c004} is a |                       |
|                       | string method that    |                       |
|                       | returns [True]{.c004} |                       |
|                       | if the string         |                       |
|                       | contains only upper   |                       |
|                       | case letters.         |                       |
|                       |                       |                       |
|                       | An operation like     |                       |
|                       | <code>only_upper</code> is       |                       |
|                       | called a              |                       |
|                       | [filter]{.c010}       |                       |
|                       | because it selects    |                       |
|                       | some of the elements  |                       |
|                       | and filters out the   |                       |
|                       | others.               |                       |
|                       |                       |                       |
|                       | Most common list      |                       |
|                       | operations can be     |                       |
|                       | expressed as a        |                       |
|                       | combination of map,   |                       |
|                       | filter and reduce.    |                       |
|                       |                       |                       |
|                       | ##                    |                       |
|                       | 10.8  Deleting elemen |                       |
|                       | ts {#sec121 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default780} |                       |
|                       | []{#hevea_default781} |                       |
|                       |                       |                       |
|                       | There are several     |                       |
|                       | ways to delete        |                       |
|                       | elements from a list. |                       |
|                       | If you know the index |                       |
|                       | of the element you    |                       |
|                       | want, you can use     |                       |
|                       | [pop]{.c004}:         |                       |
|                       | []{#hevea_default782} |                       |
|                       | []{#hevea_default783} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;                    |                       | |                       | &gt; t = ['a', 'b', 'c'] |                       | |                       | &gt;&gt;&gt; x = t.pop(1)      |                       | |                       | &gt;&gt;&gt; t                 |                       | |                       | ['a', 'c']            |                       | |                       | &gt;&gt;&gt; x                 |                       | |                       | 'b'                   |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | [pop]{.c004} modifies |                       |
|                       | the list and returns  |                       |
|                       | the element that was  |                       |
|                       | removed. If you don't |                       |
|                       | provide an index, it  |                       |
|                       | deletes and returns   |                       |
|                       | the last element.     |                       |
|                       |                       |                       |
|                       | If you don't need the |                       |
|                       | removed value, you    |                       |
|                       | can use the           |                       |
|                       | [del]{.c004}          |                       |
|                       | operator:             |                       |
|                       | []{#hevea_default784} |                       |
|                       | []{#hevea_default785} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;                    |                       | |                       | &gt; t = ['a', 'b', 'c'] |                       | |                       | &gt;&gt;&gt; del t[1]          |                       | |                       | &gt;&gt;&gt; t                 |                       | |                       | ['a', 'c']            |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | If you know the       |                       |
|                       | element you want to   |                       |
|                       | remove (but not the   |                       |
|                       | index), you can use   |                       |
|                       | [remove]{.c004}:      |                       |
|                       | []{#hevea_default786} |                       |
|                       | []{#hevea_default787} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;                    |                       | |                       | &gt; t = ['a', 'b', 'c'] |                       | |                       | &gt;&gt;&gt; t.remove('b')     |                       | |                       | &gt;&gt;&gt; t                 |                       | |                       | ['a', 'c']            |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | The return value from |                       |
|                       | [remove]{.c004} is    |                       |
|                       | [None]{.c004}.        |                       |
|                       | []{#hevea_default788} |                       |
|                       | []{#hevea_default789} |                       |
|                       |                       |                       |
|                       | To remove more than   |                       |
|                       | one element, you can  |                       |
|                       | use [del]{.c004} with |                       |
|                       | a slice index:        |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; t = ['a', 'b'     |                       | |                       | , 'c', 'd', 'e', 'f'] |                       | |                       | &gt;&gt;&gt; del t[1:5]        |                       | |                       | &gt;&gt;&gt; t                 |                       | |                       | ['a', 'f']            |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | As usual, the slice   |                       |
|                       | selects all the       |                       |
|                       | elements up to but    |                       |
|                       | not including the     |                       |
|                       | second index.         |                       |
|                       |                       |                       |
|                       | ##                    |                       |
|                       | 10.9  Lists and strin |                       |
|                       | gs {#sec122 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default790} |                       |
|                       | []{#hevea_default791} |                       |
|                       | []{#hevea_default792} |                       |
|                       |                       |                       |
|                       | A string is a         |                       |
|                       | sequence of           |                       |
|                       | characters and a list |                       |
|                       | is a sequence of      |                       |
|                       | values, but a list of |                       |
|                       | characters is not the |                       |
|                       | same as a string. To  |                       |
|                       | convert from a string |                       |
|                       | to a list of          |                       |
|                       | characters, you can   |                       |
|                       | use [list]{.c004}:    |                       |
|                       | []{#hevea_default793} |                       |
|                       | []{#hevea_default794} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; s = 'spam'        |                       | |                       | &gt;&gt;&gt; t = list(s)       |                       | |                       | &gt;&gt;&gt; t                 |                       | |                       | ['s', 'p', 'a', 'm']  |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | Because [list]{.c004} |                       |
|                       | is the name of a      |                       |
|                       | built-in function,    |                       |
|                       | you should avoid      |                       |
|                       | using it as a         |                       |
|                       | variable name. I also |                       |
|                       | avoid [l]{.c004}      |                       |
|                       | because it looks too  |                       |
|                       | much like [1]{.c004}. |                       |
|                       | So that's why I use   |                       |
|                       | [t]{.c004}.           |                       |
|                       |                       |                       |
|                       | The [list]{.c004}     |                       |
|                       | function breaks a     |                       |
|                       | string into           |                       |
|                       | individual letters.   |                       |
|                       | If you want to break  |                       |
|                       | a string into words,  |                       |
|                       | you can use the       |                       |
|                       | [split]{.c004}        |                       |
|                       | method:               |                       |
|                       | []{#hevea_default795} |                       |
|                       | []{#hevea_default796} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; s = 'p            |                       | |                       | ining for the fjords' |                       | |                       | &gt;&gt;&gt; t = s.split()     |                       | |                       | &gt;&gt;&gt; t                 |                       | |                       | ['pining', 'f         |                       | |                       | or', 'the', 'fjords'] |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | An optional argument  |                       |
|                       | called a              |                       |
|                       | [delimiter]{.c010}    |                       |
|                       | specifies which       |                       |
|                       | characters to use as  |                       |
|                       | word boundaries. The  |                       |
|                       | following example     |                       |
|                       | uses a hyphen as a    |                       |
|                       | delimiter:            |                       |
|                       | []{#hevea_default797} |                       |
|                       | []{#hevea_default798} |                       |
|                       | []{#hevea_default799} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt;                   |                       | |                       |  s = 'spam-spam-spam' |                       | |                       | &gt;&gt;&gt; delimiter = '-'   |                       | |                       | &gt;&gt;&gt; t                 |                       | |                       |  = s.split(delimiter) |                       | |                       | &gt;&gt;&gt; t                 |                       | |                       | ['s                   |                       | |                       | pam', 'spam', 'spam'] |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | [join]{.c004} is the  |                       |
|                       | inverse of            |                       |
|                       | [split]{.c004}. It    |                       |
|                       | takes a list of       |                       |
|                       | strings and           |                       |
|                       | concatenates the      |                       |
|                       | elements.             |                       |
|                       | [join]{.c004} is a    |                       |
|                       | string method, so you |                       |
|                       | have to invoke it on  |                       |
|                       | the delimiter and     |                       |
|                       | pass the list as a    |                       |
|                       | parameter:            |                       |
|                       | []{#hevea_default800} |                       |
|                       | []{#hevea_default801} |                       |
|                       | []{#hevea_default802} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; t = ['pining', 'f |                       | |                       | or', 'the', 'fjords'] |                       | |                       | &gt;&gt;&gt; delimiter = ' '   |                       | |                       | &gt;&gt;&gt;                   |                       | |                       | s = delimiter.join(t) |                       | |                       | &gt;&gt;&gt; s                 |                       | |                       | 'p                    |                       | |                       | ining for the fjords' |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | In this case the      |                       |
|                       | delimiter is a space  |                       |
|                       | character, so         |                       |
|                       | [join]{.c004} puts a  |                       |
|                       | space between words.  |                       |
|                       | To concatenate        |                       |
|                       | strings without       |                       |
|                       | spaces, you can use   |                       |
|                       | the empty string,     |                       |
|                       | <code>''</code>, as a delimiter. |                       |
|                       | []{#hevea_default803} |                       |
|                       | []{#hevea_default804} |                       |
|                       |                       |                       |
|                       | ## 10                 |                       |
|                       | .10  Objects and valu |                       |
|                       | es {#sec123 .section} |                       |
|                       |                       |                       |
|                       | []{#equivalence}      |                       |
|                       | []{#hevea_default805} |                       |
|                       | []{#hevea_default806} |                       |
|                       |                       |                       |
|                       | If we run these       |                       |
|                       | assignment            |                       |
|                       | statements:           |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | a = 'banana'          |                       | |                       | b = 'banana'          |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | We know that          |                       |
|                       | [a]{.c004} and        |                       |
|                       | [b]{.c004} both refer |                       |
|                       | to a string, but we   |                       |
|                       | don't know whether    |                       |
|                       | they refer to the     |                       |
|                       | <em>same</em> string. There  |                       |
|                       | are two possible      |                       |
|                       | states, shown in      |                       |
|                       | Figur                 |                       |
|                       | e <a href="#fig.list1">10.2</a>. |                       |
|                       | []{#hevea_default807} |                       |
|                       |                       |                       |
|                       | &gt; ::: center          |                       |
|                       | &gt;                     |                       |
|                       | &gt; ------------------- |                       |
|                       | &gt; :::                 |                       |
|                       | &gt;                     |                       |
|                       | &gt; ::: center          |                       |
|                       | &gt; ![]                 |                       |
|                       | (thinkpython2012.png) |                       |
|                       | &gt; :::                 |                       |
|                       | &gt;                     |                       |
|                       | &gt; ::: caption         |                       |
|                       | &gt;   --------          |                       |
|                       | --------------------- |                       |
|                       | &gt;   Figure            |                       |
|                       |  10.2: State diagram. |                       |
|                       | &gt;   --------          |                       |
|                       | --------------------- |                       |
|                       | &gt; :::                 |                       |
|                       | &gt;                     |                       |
|                       | &gt; []{#fig.list1}      |                       |
|                       | &gt;                     |                       |
|                       | &gt; ::: center          |                       |
|                       | &gt;                     |                       |
|                       | &gt; ------------------- |                       |
|                       | &gt; :::                 |                       |
|                       |                       |                       |
|                       | In one case,          |                       |
|                       | [a]{.c004} and        |                       |
|                       | [b]{.c004} refer to   |                       |
|                       | two different objects |                       |
|                       | that have the same    |                       |
|                       | value. In the second  |                       |
|                       | case, they refer to   |                       |
|                       | the same object.      |                       |
|                       | []{#hevea_default808} |                       |
|                       | []{#hevea_default809} |                       |
|                       |                       |                       |
|                       | To check whether two  |                       |
|                       | variables refer to    |                       |
|                       | the same object, you  |                       |
|                       | can use the           |                       |
|                       | [is]{.c004} operator. |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; a = 'banana'      |                       | |                       | &gt;&gt;&gt; b = 'banana'      |                       | |                       | &gt;&gt;&gt; a is b            |                       | |                       | True                  |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | In this example,      |                       |
|                       | Python only created   |                       |
|                       | one string object,    |                       |
|                       | and both [a]{.c004}   |                       |
|                       | and [b]{.c004} refer  |                       |
|                       | to it. But when you   |                       |
|                       | create two lists, you |                       |
|                       | get two objects:      |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; a = [1, 2, 3]     |                       | |                       | &gt;&gt;&gt; b = [1, 2, 3]     |                       | |                       | &gt;&gt;&gt; a is b            |                       | |                       | False                 |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | So the state diagram  |                       |
|                       | looks like            |                       |
|                       | Figur                 |                       |
|                       | e <a href="#fig.list2">10.3</a>. |                       |
|                       | []{#hevea_default810} |                       |
|                       | []{#hevea_default811} |                       |
|                       |                       |                       |
|                       | &gt; ::: center          |                       |
|                       | &gt;                     |                       |
|                       | &gt; ------------------- |                       |
|                       | &gt; :::                 |                       |
|                       | &gt;                     |                       |
|                       | &gt; ::: center          |                       |
|                       | &gt; ![]                 |                       |
|                       | (thinkpython2013.png) |                       |
|                       | &gt; :::                 |                       |
|                       | &gt;                     |                       |
|                       | &gt; ::: caption         |                       |
|                       | &gt;   --------          |                       |
|                       | --------------------- |                       |
|                       | &gt;   Figure            |                       |
|                       |  10.3: State diagram. |                       |
|                       | &gt;   --------          |                       |
|                       | --------------------- |                       |
|                       | &gt; :::                 |                       |
|                       | &gt;                     |                       |
|                       | &gt; []{#fig.list2}      |                       |
|                       | &gt;                     |                       |
|                       | &gt; ::: center          |                       |
|                       | &gt;                     |                       |
|                       | &gt; ------------------- |                       |
|                       | &gt; :::                 |                       |
|                       |                       |                       |
|                       | In this case we would |                       |
|                       | say that the two      |                       |
|                       | lists are             |                       |
|                       | [equivalent]{.c010},  |                       |
|                       | because they have the |                       |
|                       | same elements, but    |                       |
|                       | not                   |                       |
|                       | [identical]{.c010},   |                       |
|                       | because they are not  |                       |
|                       | the same object. If   |                       |
|                       | two objects are       |                       |
|                       | identical, they are   |                       |
|                       | also equivalent, but  |                       |
|                       | if they are           |                       |
|                       | equivalent, they are  |                       |
|                       | not necessarily       |                       |
|                       | identical.            |                       |
|                       | []{#hevea_default812} |                       |
|                       | []{#hevea_default813} |                       |
|                       |                       |                       |
|                       | Until now, we have    |                       |
|                       | been using &quot;object&quot;   |                       |
|                       | and &quot;value&quot;           |                       |
|                       | interchangeably, but  |                       |
|                       | it is more precise to |                       |
|                       | say that an object    |                       |
|                       | has a value. If you   |                       |
|                       | evaluate [[1, 2,     |                       |
|                       | 3]]{.c004}, you get  |                       |
|                       | a list object whose   |                       |
|                       | value is a sequence   |                       |
|                       | of integers. If       |                       |
|                       | another list has the  |                       |
|                       | same elements, we say |                       |
|                       | it has the same       |                       |
|                       | value, but it is not  |                       |
|                       | the same object.      |                       |
|                       | []{#hevea_default814} |                       |
|                       | []{#hevea_default815} |                       |
|                       |                       |                       |
|                       | ## 10.11  Aliasi      |                       |
|                       | ng {#sec124 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default816} |                       |
|                       | []{#hevea_default817} |                       |
|                       |                       |                       |
|                       | If [a]{.c004} refers  |                       |
|                       | to an object and you  |                       |
|                       | assign [b =           |                       |
|                       | a]{.c004}, then both  |                       |
|                       | variables refer to    |                       |
|                       | the same object:      |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; a = [1, 2, 3]     |                       | |                       | &gt;&gt;&gt; b = a             |                       | |                       | &gt;&gt;&gt; b is a            |                       | |                       | True                  |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | The state diagram     |                       |
|                       | looks like            |                       |
|                       | Figur                 |                       |
|                       | e <a href="#fig.list3">10.4</a>. |                       |
|                       | []{#hevea_default818} |                       |
|                       | []{#hevea_default819} |                       |
|                       |                       |                       |
|                       | &gt; ::: center          |                       |
|                       | &gt;                     |                       |
|                       | &gt; ------------------- |                       |
|                       | &gt; :::                 |                       |
|                       | &gt;                     |                       |
|                       | &gt; ::: center          |                       |
|                       | &gt; ![]                 |                       |
|                       | (thinkpython2014.png) |                       |
|                       | &gt; :::                 |                       |
|                       | &gt;                     |                       |
|                       | &gt; ::: caption         |                       |
|                       | &gt;   --------          |                       |
|                       | --------------------- |                       |
|                       | &gt;   Figure            |                       |
|                       |  10.4: State diagram. |                       |
|                       | &gt;   --------          |                       |
|                       | --------------------- |                       |
|                       | &gt; :::                 |                       |
|                       | &gt;                     |                       |
|                       | &gt; []{#fig.list3}      |                       |
|                       | &gt;                     |                       |
|                       | &gt; ::: center          |                       |
|                       | &gt;                     |                       |
|                       | &gt; ------------------- |                       |
|                       | &gt; :::                 |                       |
|                       |                       |                       |
|                       | The association of a  |                       |
|                       | variable with an      |                       |
|                       | object is called a    |                       |
|                       | [reference]{.c010}.   |                       |
|                       | In this example,      |                       |
|                       | there are two         |                       |
|                       | references to the     |                       |
|                       | same object.          |                       |
|                       | []{#hevea_default820} |                       |
|                       |                       |                       |
|                       | An object with more   |                       |
|                       | than one reference    |                       |
|                       | has more than one     |                       |
|                       | name, so we say that  |                       |
|                       | the object is         |                       |
|                       | [aliased]{.c010}.     |                       |
|                       | []{#hevea_default821} |                       |
|                       |                       |                       |
|                       | If the aliased object |                       |
|                       | is mutable, changes   |                       |
|                       | made with one alias   |                       |
|                       | affect the other:     |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; b[0] = 42         |                       | |                       | &gt;&gt;&gt; a                 |                       | |                       | [42, 2, 3]            |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | Although this         |                       |
|                       | behavior can be       |                       |
|                       | useful, it is         |                       |
|                       | error-prone. In       |                       |
|                       | general, it is safer  |                       |
|                       | to avoid aliasing     |                       |
|                       | when you are working  |                       |
|                       | with mutable objects. |                       |
|                       | []{#hevea_default822} |                       |
|                       |                       |                       |
|                       | For immutable objects |                       |
|                       | like strings,         |                       |
|                       | aliasing is not as    |                       |
|                       | much of a problem. In |                       |
|                       | this example:         |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | a = 'banana'          |                       | |                       | b = 'banana'          |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | It almost never makes |                       |
|                       | a difference whether  |                       |
|                       | [a]{.c004} and        |                       |
|                       | [b]{.c004} refer to   |                       |
|                       | the same string or    |                       |
|                       | not.                  |                       |
|                       |                       |                       |
|                       | #                     |                       |
|                       | # 10.12  List argumen |                       |
|                       | ts {#sec125 .section} |                       |
|                       |                       |                       |
|                       | []{#list.arguments}   |                       |
|                       | []{#hevea_default823} |                       |
|                       | []{#hevea_default824} |                       |
|                       | []{#hevea_default825} |                       |
|                       | []{#hevea_default826} |                       |
|                       | []{#hevea_default827} |                       |
|                       |                       |                       |
|                       | When you pass a list  |                       |
|                       | to a function, the    |                       |
|                       | function gets a       |                       |
|                       | reference to the      |                       |
|                       | list. If the function |                       |
|                       | modifies the list,    |                       |
|                       | the caller sees the   |                       |
|                       | change. For example,  |                       |
|                       | <code>delete_head</code> removes |                       |
|                       | the first element     |                       |
|                       | from a list:          |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def delete_head(t):   |                       | |                       |     del t[0]          |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | Here's how it is      |                       |
|                       | used:                 |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; lett              |                       | |                       | ers = ['a', 'b', 'c'] |                       | |                       | &gt;&gt;&gt;                   |                       | |                       |  delete_head(letters) |                       | |                       | &gt;&gt;&gt; letters           |                       | |                       | ['b', 'c']            |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | The parameter         |                       |
|                       | [t]{.c004} and the    |                       |
|                       | variable              |                       |
|                       | [letters]{.c004} are  |                       |
|                       | aliases for the same  |                       |
|                       | object. The stack     |                       |
|                       | diagram looks like    |                       |
|                       | Figure                |                       |
|                       |  <a href="#fig.stack5">10.5</a>. |                       |
|                       | []{#hevea_default828} |                       |
|                       | []{#hevea_default829} |                       |
|                       |                       |                       |
|                       | &gt; ::: center          |                       |
|                       | &gt;                     |                       |
|                       | &gt; ------------------- |                       |
|                       | &gt; :::                 |                       |
|                       | &gt;                     |                       |
|                       | &gt; ::: center          |                       |
|                       | &gt; ![]                 |                       |
|                       | (thinkpython2015.png) |                       |
|                       | &gt; :::                 |                       |
|                       | &gt;                     |                       |
|                       | &gt; ::: caption         |                       |
|                       | &gt;   --------          |                       |
|                       | --------------------- |                       |
|                       | &gt;   Figure            |                       |
|                       |  10.5: Stack diagram. |                       |
|                       | &gt;   --------          |                       |
|                       | --------------------- |                       |
|                       | &gt; :::                 |                       |
|                       | &gt;                     |                       |
|                       | &gt; []{#fig.stack5}     |                       |
|                       | &gt;                     |                       |
|                       | &gt; ::: center          |                       |
|                       | &gt;                     |                       |
|                       | &gt; ------------------- |                       |
|                       | &gt; :::                 |                       |
|                       |                       |                       |
|                       | Since the list is     |                       |
|                       | shared by two frames, |                       |
|                       | I drew it between     |                       |
|                       | them.                 |                       |
|                       |                       |                       |
|                       | It is important to    |                       |
|                       | distinguish between   |                       |
|                       | operations that       |                       |
|                       | modify lists and      |                       |
|                       | operations that       |                       |
|                       | create new lists. For |                       |
|                       | example, the          |                       |
|                       | [append]{.c004}       |                       |
|                       | method modifies a     |                       |
|                       | list, but the         |                       |
|                       | [+]{.c004} operator   |                       |
|                       | creates a new list.   |                       |
|                       | []{#hevea_default830} |                       |
|                       | []{#hevea_default831} |                       |
|                       | []{#hevea_default832} |                       |
|                       | []{#hevea_default833} |                       |
|                       |                       |                       |
|                       | Here's an example     |                       |
|                       | using                 |                       |
|                       | [append]{.c004}:      |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; t1 = [1, 2]       |                       | |                       | &gt;&gt;&gt; t2 = t1.append(3) |                       | |                       | &gt;&gt;&gt; t1                |                       | |                       | [1, 2, 3]             |                       | |                       | &gt;&gt;&gt; t2                |                       | |                       | None                  |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | The return value from |                       |
|                       | [append]{.c004} is    |                       |
|                       | [None]{.c004}.        |                       |
|                       |                       |                       |
|                       | Here's an example     |                       |
|                       | using the [+]{.c004}  |                       |
|                       | operator:             |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; t3 = t1 + [4]     |                       | |                       | &gt;&gt;&gt; t1                |                       | |                       | [1, 2, 3]             |                       | |                       | &gt;&gt;&gt; t3                |                       | |                       | [1, 2, 3, 4]          |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | The result of the     |                       |
|                       | operator is a new     |                       |
|                       | list, and the         |                       |
|                       | original list is      |                       |
|                       | unchanged.            |                       |
|                       |                       |                       |
|                       | This difference is    |                       |
|                       | important when you    |                       |
|                       | write functions that  |                       |
|                       | are supposed to       |                       |
|                       | modify lists. For     |                       |
|                       | example, this         |                       |
|                       | function <em>does not</em>   |                       |
|                       | delete the head of a  |                       |
|                       | list:                 |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | de                    |                       | |                       | f bad_delete_head(t): |                       | |                       |     t = t[1:]         |                       | |                       |              # WRONG! |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | The slice operator    |                       |
|                       | creates a new list    |                       |
|                       | and the assignment    |                       |
|                       | makes [t]{.c004}      |                       |
|                       | refer to it, but that |                       |
|                       | doesn't affect the    |                       |
|                       | caller.               |                       |
|                       | []{#hevea_default834} |                       |
|                       | []{#hevea_default835} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; t4 = [1, 2, 3]    |                       | |                       | &gt;&gt;                    |                       | |                       | &gt; bad_delete_head(t4) |                       | |                       | &gt;&gt;&gt; t4                |                       | |                       | [1, 2, 3]             |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | At the beginning of   |                       |
|                       | <code>bad_delete_head</code>,    |                       |
|                       | [t]{.c004} and        |                       |
|                       | [t4]{.c004} refer to  |                       |
|                       | the same list. At the |                       |
|                       | end, [t]{.c004}       |                       |
|                       | refers to a new list, |                       |
|                       | but [t4]{.c004} still |                       |
|                       | refers to the         |                       |
|                       | original, unmodified  |                       |
|                       | list.                 |                       |
|                       |                       |                       |
|                       | An alternative is to  |                       |
|                       | write a function that |                       |
|                       | creates and returns a |                       |
|                       | new list. For         |                       |
|                       | example,              |                       |
|                       | [tail]{.c004} returns |                       |
|                       | all but the first     |                       |
|                       | element of a list:    |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def tail(t):          |                       | |                       |     return t[1:]      |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | This function leaves  |                       |
|                       | the original list     |                       |
|                       | unmodified. Here's    |                       |
|                       | how it is used:       |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; lett              |                       | |                       | ers = ['a', 'b', 'c'] |                       | |                       | &gt;&gt;&gt;                   |                       | |                       |  rest = tail(letters) |                       | |                       | &gt;&gt;&gt; rest              |                       | |                       | ['b', 'c']            |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | ## 10.13  Debuggi     |                       |
|                       | ng {#sec126 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default836} |                       |
|                       |                       |                       |
|                       | Careless use of lists |                       |
|                       | (and other mutable    |                       |
|                       | objects) can lead to  |                       |
|                       | long hours of         |                       |
|                       | debugging. Here are   |                       |
|                       | some common pitfalls  |                       |
|                       | and ways to avoid     |                       |
|                       | them:                 |                       |
|                       |                       |                       |
|                       | 1.  Most list methods |                       |
|                       |     modify the        |                       |
|                       |     argument and      |                       |
|                       |     return            |                       |
|                       |     [None]{.c004}.    |                       |
|                       |     This is the       |                       |
|                       |     opposite of the   |                       |
|                       |     string methods,   |                       |
|                       |     which return a    |                       |
|                       |     new string and    |                       |
|                       |     leave the         |                       |
|                       |     original alone.   |                       |
|                       |                       |                       |
|                       |     If you are used   |                       |
|                       |     to writing string |                       |
|                       |     code like this:   |                       |
|                       |                       |                       |
|                       |     <code>verbatim      |                       | |                       |                       |                       | |                       |   word = word.strip() |                       | |                       |    </code>               |                       |
|                       |                       |                       |
|                       |     It is tempting to |                       |
|                       |     write list code   |                       |
|                       |     like this:        |                       |
|                       |                       |                       |
|                       |     <code>verbatim      |                       | |                       |     t = t.sort        |                       | |                       | ()           # WRONG! |                       | |                       |    </code>               |                       |
|                       |                       |                       |
|                       |                       |                       |
|                       | []{#hevea_default837} |                       |
|                       |                       |                       |
|                       | []{#hevea_default838} |                       |
|                       |                       |                       |
|                       |     Because           |                       |
|                       |     [sort]{.c004}     |                       |
|                       |     returns           |                       |
|                       |     [None]{.c004},    |                       |
|                       |     the next          |                       |
|                       |     operation you     |                       |
|                       |     perform with      |                       |
|                       |     [t]{.c004} is     |                       |
|                       |     likely to fail.   |                       |
|                       |                       |                       |
|                       |     Before using list |                       |
|                       |     methods and       |                       |
|                       |     operators, you    |                       |
|                       |     should read the   |                       |
|                       |     documentation     |                       |
|                       |     carefully and     |                       |
|                       |     then test them in |                       |
|                       |     interactive mode. |                       |
|                       |                       |                       |
|                       | 2.  Pick an idiom and |                       |
|                       |     stick with it.    |                       |
|                       |                       |                       |
|                       |     Part of the       |                       |
|                       |     problem with      |                       |
|                       |     lists is that     |                       |
|                       |     there are too     |                       |
|                       |     many ways to do   |                       |
|                       |     things. For       |                       |
|                       |     example, to       |                       |
|                       |     remove an element |                       |
|                       |     from a list, you  |                       |
|                       |     can use           |                       |
|                       |     [pop]{.c004},     |                       |
|                       |     [remove]{.c004},  |                       |
|                       |     [del]{.c004}, or  |                       |
|                       |     even a slice      |                       |
|                       |     assignment.       |                       |
|                       |                       |                       |
|                       |     To add an         |                       |
|                       |     element, you can  |                       |
|                       |     use the           |                       |
|                       |     [append]{.c004}   |                       |
|                       |     method or the     |                       |
|                       |     [+]{.c004}        |                       |
|                       |     operator.         |                       |
|                       |     Assuming that     |                       |
|                       |     [t]{.c004} is a   |                       |
|                       |     list and          |                       |
|                       |     [x]{.c004} is a   |                       |
|                       |     list element,     |                       |
|                       |     these are         |                       |
|                       |     correct:          |                       |
|                       |                       |                       |
|                       |     <code>verbatim      |                       | |                       |     t.append(x)       |                       | |                       |     t = t + [x]       |                       | |                       |     t += [x]          |                       | |                       |    </code>               |                       |
|                       |                       |                       |
|                       |     And these are     |                       |
|                       |     wrong:            |                       |
|                       |                       |                       |
|                       |     <code>verbatim      |                       | |                       |     t.append([        |                       | |                       | x])          # WRONG! |                       | |                       |     t = t.appe        |                       | |                       | nd(x)        # WRONG! |                       | |                       |     t + [x]           |                       | |                       |              # WRONG! |                       | |                       |     t = t + x         |                       | |                       |              # WRONG! |                       | |                       |    </code>               |                       |
|                       |                       |                       |
|                       |     Try out each of   |                       |
|                       |     these examples in |                       |
|                       |     interactive mode  |                       |
|                       |     to make sure you  |                       |
|                       |     understand what   |                       |
|                       |     they do. Notice   |                       |
|                       |     that only the     |                       |
|                       |     last one causes a |                       |
|                       |     runtime error;    |                       |
|                       |     the other three   |                       |
|                       |     are legal, but    |                       |
|                       |     they do the wrong |                       |
|                       |     thing.            |                       |
|                       |                       |                       |
|                       | 3.  Make copies to    |                       |
|                       |     avoid aliasing.   |                       |
|                       |                       |                       |
|                       | []{#hevea_default839} |                       |
|                       |                       |                       |
|                       | []{#hevea_default840} |                       |
|                       |                       |                       |
|                       |     If you want to    |                       |
|                       |     use a method like |                       |
|                       |     [sort]{.c004}     |                       |
|                       |     that modifies the |                       |
|                       |     argument, but you |                       |
|                       |     need to keep the  |                       |
|                       |     original list as  |                       |
|                       |     well, you can     |                       |
|                       |     make a copy.      |                       |
|                       |                       |                       |
|                       |     <code>verbatim      |                       | |                       |     &gt;&gt;&gt; t = [3, 1, 2] |                       | |                       |     &gt;&gt;&gt; t2 = t[:]     |                       | |                       |     &gt;&gt;&gt; t2.sort()     |                       | |                       |     &gt;&gt;&gt; t             |                       | |                       |     [3, 1, 2]         |                       | |                       |     &gt;&gt;&gt; t2            |                       | |                       |     [1, 2, 3]         |                       | |                       |    </code>               |                       |
|                       |                       |                       |
|                       |     In this example   |                       |
|                       |     you could also    |                       |
|                       |     use the built-in  |                       |
|                       |     function          |                       |
|                       |     [sorted]{.c004},  |                       |
|                       |     which returns a   |                       |
|                       |     new, sorted list  |                       |
|                       |     and leaves the    |                       |
|                       |     original alone.   |                       |
|                       |                       |                       |
|                       | []{#hevea_default841} |                       |
|                       |                       |                       |
|                       | []{#hevea_default842} |                       |
|                       |                       |                       |
|                       |     <code>verbatim      |                       | |                       |                       |                       | |                       |    &gt;&gt;&gt; t2 = sorted(t) |                       | |                       |     &gt;&gt;&gt; t             |                       | |                       |     [3, 1, 2]         |                       | |                       |     &gt;&gt;&gt; t2            |                       | |                       |     [1, 2, 3]         |                       | |                       |    </code>               |                       |
|                       |                       |                       |
|                       | ## 10.14  Glossa      |                       |
|                       | ry {#sec127 .section} |                       |
|                       |                       |                       |
|                       | [list:]{.c010}        |                       |
|                       | :   A sequence of     |                       |
|                       |     values.           |                       |
|                       |                       |                       |
|                       | []{#hevea_default843} |                       |
|                       |                       |                       |
|                       | [element:]{.c010}     |                       |
|                       | :   One of the values |                       |
|                       |     in a list (or     |                       |
|                       |     other sequence),  |                       |
|                       |     also called       |                       |
|                       |     items.            |                       |
|                       |                       |                       |
|                       | []{#hevea_default844} |                       |
|                       |                       |                       |
|                       | [nested list:]{.c010} |                       |
|                       | :   A list that is an |                       |
|                       |     element of        |                       |
|                       |     another list.     |                       |
|                       |                       |                       |
|                       | []{#hevea_default845} |                       |
|                       |                       |                       |
|                       | [accumulator:]{.c010} |                       |
|                       | :   A variable used   |                       |
|                       |     in a loop to add  |                       |
|                       |     up or accumulate  |                       |
|                       |     a result.         |                       |
|                       |                       |                       |
|                       | []{#hevea_default846} |                       |
|                       |                       |                       |
|                       | [augmente             |                       |
|                       | d assignment:]{.c010} |                       |
|                       | :   A statement that  |                       |
|                       |     updates the value |                       |
|                       |     of a variable     |                       |
|                       |     using an operator |                       |
|                       |     like <code>+=</code>.        |                       |
|                       |                       |                       |
|                       | []{#hevea_default847} |                       |
|                       |                       |                       |
|                       | []{#hevea_default848} |                       |
|                       |                       |                       |
|                       | []{#hevea_default849} |                       |
|                       |                       |                       |
|                       | [reduce:]{.c010}      |                       |
|                       | :   A processing      |                       |
|                       |     pattern that      |                       |
|                       |     traverses a       |                       |
|                       |     sequence and      |                       |
|                       |     accumulates the   |                       |
|                       |     elements into a   |                       |
|                       |     single result.    |                       |
|                       |                       |                       |
|                       | []{#hevea_default850} |                       |
|                       |                       |                       |
|                       | []{#hevea_default851} |                       |
|                       |                       |                       |
|                       | [map:]{.c010}         |                       |
|                       | :   A processing      |                       |
|                       |     pattern that      |                       |
|                       |     traverses a       |                       |
|                       |     sequence and      |                       |
|                       |     performs an       |                       |
|                       |     operation on each |                       |
|                       |     element.          |                       |
|                       |                       |                       |
|                       | []{#hevea_default852} |                       |
|                       |                       |                       |
|                       | []{#hevea_default853} |                       |
|                       |                       |                       |
|                       | [filter:]{.c010}      |                       |
|                       | :   A processing      |                       |
|                       |     pattern that      |                       |
|                       |     traverses a list  |                       |
|                       |     and selects the   |                       |
|                       |     elements that     |                       |
|                       |     satisfy some      |                       |
|                       |     criterion.        |                       |
|                       |                       |                       |
|                       | []{#hevea_default854} |                       |
|                       |                       |                       |
|                       | []{#hevea_default855} |                       |
|                       |                       |                       |
|                       | [object:]{.c010}      |                       |
|                       | :   Something a       |                       |
|                       |     variable can      |                       |
|                       |     refer to. An      |                       |
|                       |     object has a type |                       |
|                       |     and a value.      |                       |
|                       |                       |                       |
|                       | []{#hevea_default856} |                       |
|                       |                       |                       |
|                       | [equivalent:]{.c010}  |                       |
|                       | :   Having the same   |                       |
|                       |     value.            |                       |
|                       |                       |                       |
|                       | []{#hevea_default857} |                       |
|                       |                       |                       |
|                       | [identical:]{.c010}   |                       |
|                       | :   Being the same    |                       |
|                       |     object (which     |                       |
|                       |     implies           |                       |
|                       |     equivalence).     |                       |
|                       |                       |                       |
|                       | []{#hevea_default858} |                       |
|                       |                       |                       |
|                       | [reference:]{.c010}   |                       |
|                       | :   The association   |                       |
|                       |     between a         |                       |
|                       |     variable and its  |                       |
|                       |     value.            |                       |
|                       |                       |                       |
|                       | []{#hevea_default859} |                       |
|                       |                       |                       |
|                       | [aliasing:]{.c010}    |                       |
|                       | :   A circumstance    |                       |
|                       |     where two or more |                       |
|                       |     variables refer   |                       |
|                       |     to the same       |                       |
|                       |     object.           |                       |
|                       |                       |                       |
|                       | []{#hevea_default860} |                       |
|                       |                       |                       |
|                       | [delimiter:]{.c010}   |                       |
|                       | :   A character or    |                       |
|                       |     string used to    |                       |
|                       |     indicate where a  |                       |
|                       |     string should be  |                       |
|                       |     split.            |                       |
|                       |                       |                       |
|                       | []{#hevea_default861} |                       |
|                       |                       |                       |
|                       | ## 10.15  Exercis     |                       |
|                       | es {#sec128 .section} |                       |
|                       |                       |                       |
|                       | You can download      |                       |
|                       | solutions to these    |                       |
|                       | exercises from        |                       |
|                       | [                     |                       |
|                       | [https://thinkpython. |                       |
|                       | com/code/list_exercis |                       |
|                       | es.py]{.c004}](https: |                       |
|                       | //thinkpython.com/cod |                       |
|                       | e/list_exercises.py). |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 1]{.c010}   |                       |
|                       |                       |                       |
|                       | <em>Write a function     |                       |
|                       | called <code>nested_sum</code>   |                       |
|                       | that takes a list of  |                       |
|                       | lists of integers and |                       |
|                       | adds up the elements  |                       |
|                       | from all of the       |                       |
|                       | nested lists. For     |                       |
|                       | example:</em>             |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; t = [[1           |                       | |                       | , 2], [3], [4, 5, 6]] |                       | |                       | &gt;&gt;&gt; nested_sum(t)     |                       | |                       | 21                    |                       | |                       |</code>                   |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 2]{.c010}   |                       |
|                       | []{#cumulative}       |                       |
|                       | []{#hevea_default862} |                       |
|                       |                       |                       |
|                       | <em>Write a function     |                       |
|                       | called                |                       |
|                       | [cumsum]{.c004} that  |                       |
|                       | takes a list of       |                       |
|                       | numbers and returns   |                       |
|                       | the cumulative sum;   |                       |
|                       | that is, a new list   |                       |
|                       | where the</em>            |                       |
|                       | [i]{.c009}<em>th element |                       |
|                       | is the sum of the     |                       |
|                       | first</em> [i]{.c009}+1   |                       |
|                       | <em>elements from the    |                       |
|                       | original list. For    |                       |
|                       | example:</em>             |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; t = [1, 2, 3]     |                       | |                       | &gt;&gt;&gt; cumsum(t)         |                       | |                       | [1, 3, 6]             |                       | |                       |</code>                   |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 3]{.c010}   |                       |
|                       |                       |                       |
|                       | <em>Write a function     |                       |
|                       | called <code>middle</code> that  |                       |
|                       | takes a list and      |                       |
|                       | returns a new list    |                       |
|                       | that contains all but |                       |
|                       | the first and last    |                       |
|                       | elements. For         |                       |
|                       | example:</em>             |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; t = [1, 2, 3, 4]  |                       | |                       | &gt;&gt;&gt; middle(t)         |                       | |                       | [2, 3]                |                       | |                       |</code>                   |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 4]{.c010}   |                       |
|                       |                       |                       |
|                       | <em>Write a function     |                       |
|                       | called <code>chop</code> that    |                       |
|                       | takes a list,         |                       |
|                       | modifies it by        |                       |
|                       | removing the first    |                       |
|                       | and last elements,    |                       |
|                       | and returns           |                       |
|                       | [None]{.c004}. For    |                       |
|                       | example:</em>             |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; t = [1, 2, 3, 4]  |                       | |                       | &gt;&gt;&gt; chop(t)           |                       | |                       | &gt;&gt;&gt; t                 |                       | |                       | [2, 3]                |                       | |                       |</code>                   |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 5]{.c010}   |                       |
|                       | <em>Write a function     |                       |
|                       | called <code>is_sorted</code>    |                       |
|                       | that takes a list as  |                       |
|                       | a parameter and       |                       |
|                       | returns [True]{.c004} |                       |
|                       | if the list is sorted |                       |
|                       | in ascending order    |                       |
|                       | and [False]{.c004}    |                       |
|                       | otherwise. For        |                       |
|                       | example:</em>             |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt;                   |                       | |                       |  is_sorted([1, 2, 2]) |                       | |                       | True                  |                       | |                       | &gt;&gt;&gt;                   |                       | |                       | is_sorted(['b', 'a']) |                       | |                       | False                 |                       | |                       |</code>                   |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 6]{.c010}   |                       |
|                       | []{#anagram}          |                       |
|                       | []{#hevea_default863} |                       |
|                       |                       |                       |
|                       | <em>Two words are        |                       |
|                       | anagrams if you can   |                       |
|                       | rearrange the letters |                       |
|                       | from one to spell the |                       |
|                       | other. Write a        |                       |
|                       | function called       |                       |
|                       | <code>is_anagram</code> that     |                       |
|                       | takes two strings and |                       |
|                       | returns [True]{.c004} |                       |
|                       | if they are           |                       |
|                       | anagrams.</em>            |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 7]{.c010}   |                       |
|                       | []{#duplicate}        |                       |
|                       | []{#hevea_default864} |                       |
|                       | []{#hevea_default865} |                       |
|                       |                       |                       |
|                       | <em>Write a function     |                       |
|                       | called                |                       |
|                       | <code>has_duplicates</code> that |                       |
|                       | takes a list and      |                       |
|                       | returns [True]{.c004} |                       |
|                       | if there is any       |                       |
|                       | element that appears  |                       |
|                       | more than once. It    |                       |
|                       | should not modify the |                       |
|                       | original list.</em>       |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 8]{.c010}   |                       |
|                       |                       |                       |
|                       | <em>This exercise        |                       |
|                       | pertains to the       |                       |
|                       | so-called Birthday    |                       |
|                       | Paradox, which you    |                       |
|                       | can read about at</em>    |                       |
|                       | [<em>[                   |                       |
|                       | http://en.wikipedia.o |                       |
|                       | rg/wiki/Birthday_para |                       |
|                       | dox]{.c004}</em>](http:// |                       |
|                       | en.wikipedia.org/wiki |                       |
|                       | /Birthday_paradox)<em>.</em> |                       |
|                       | []{#hevea_default866} |                       |
|                       |                       |                       |
|                       | <em>If there are 23      |                       |
|                       | students in your      |                       |
|                       | class, what are the   |                       |
|                       | chances that two of   |                       |
|                       | them have the same    |                       |
|                       | birthday? You can     |                       |
|                       | estimate this         |                       |
|                       | probability by        |                       |
|                       | generating random     |                       |
|                       | samples of 23         |                       |
|                       | birthdays and         |                       |
|                       | checking for matches. |                       |
|                       | Hint: you can         |                       |
|                       | generate random       |                       |
|                       | birthdays with the    |                       |
|                       | [randint]{.c004}      |                       |
|                       | function in the       |                       |
|                       | [random]{.c004}       |                       |
|                       | module.</em>              |                       |
|                       | []{#hevea_default867} |                       |
|                       | []{#hevea_default868} |                       |
|                       | []{#hevea_default869} |                       |
|                       | []{#hevea_default870} |                       |
|                       |                       |                       |
|                       | <em>You can download my  |                       |
|                       | solution from</em>        |                       |
|                       | [<em>[https://thi        |                       |
|                       | nkpython.com/code/bir |                       |
|                       | thday.py]{.c004}</em>](ht |                       |
|                       | tps://thinkpython.com |                       |
|                       | /code/birthday.py)<em>.</em> |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 9]{.c010}   |                       |
|                       | []{#hevea_default871} |                       |
|                       | []{#hevea_default872} |                       |
|                       | []{#hevea_default873} |                       |
|                       | []{#hevea_default874} |                       |
|                       |                       |                       |
|                       | <em>Write a function     |                       |
|                       | that reads the file   |                       |
|                       | [words.txt]{.c004}    |                       |
|                       | and builds a list     |                       |
|                       | with one element per  |                       |
|                       | word. Write two       |                       |
|                       | versions of this      |                       |
|                       | function, one using   |                       |
|                       | the [append]{.c004}   |                       |
|                       | method and the other  |                       |
|                       | using the idiom [t =  |                       |
|                       | t + [x]]{.c004}.    |                       |
|                       | Which one takes       |                       |
|                       | longer to run? Why?</em>  |                       |
|                       |                       |                       |
|                       | <em>Solution:</em>           |                       |
|                       | [[<em>https://thi        |                       |
|                       | nkpython.com/code/wor |                       |
|                       | dlist.py</em>]{.c004}](ht |                       |
|                       | tps://thinkpython.com |                       |
|                       | /code/wordlist.py)<em>.</em> |                       |
|                       | []{#hevea_default875} |                       |
|                       | []{#hevea_default876} |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [                     |                       |
|                       | Exercise 10]{.c010}   |                       |
|                       | []{#wordlist1}        |                       |
|                       | []{#bisection}        |                       |
|                       | []{#hevea_default877} |                       |
|                       | []{#hevea_default878} |                       |
|                       | []{#hevea_default879} |                       |
|                       | []{#hevea_default880} |                       |
|                       | []{#hevea_default881} |                       |
|                       | []{#hevea_default882} |                       |
|                       |                       |                       |
|                       | <em>To check whether a   |                       |
|                       | word is in the word   |                       |
|                       | list, you could use   |                       |
|                       | the [in]{.c004}       |                       |
|                       | operator, but it      |                       |
|                       | would be slow because |                       |
|                       | it searches through   |                       |
|                       | the words in order.</em>  |                       |
|                       |                       |                       |
|                       | <em>Because the words    |                       |
|                       | are in alphabetical   |                       |
|                       | order, we can speed   |                       |
|                       | things up with a      |                       |
|                       | bisection search      |                       |
|                       | (also known as binary |                       |
|                       | search), which is     |                       |
|                       | similar to what you   |                       |
|                       | do when you look a    |                       |
|                       | word up in the        |                       |
|                       | dictionary (the book, |                       |
|                       | not the data          |                       |
|                       | structure). You start |                       |
|                       | in the middle and     |                       |
|                       | check to see whether  |                       |
|                       | the word you are      |                       |
|                       | looking for comes     |                       |
|                       | before the word in    |                       |
|                       | the middle of the     |                       |
|                       | list. If so, you      |                       |
|                       | search the first half |                       |
|                       | of the list the same  |                       |
|                       | way. Otherwise you    |                       |
|                       | search the second     |                       |
|                       | half.</em>                |                       |
|                       |                       |                       |
|                       | <em>Either way, you cut  |                       |
|                       | the remaining search  |                       |
|                       | space in half. If the |                       |
|                       | word list has 113,809 |                       |
|                       | words, it will take   |                       |
|                       | about 17 steps to     |                       |
|                       | find the word or      |                       |
|                       | conclude that it's    |                       |
|                       | not there.</em>           |                       |
|                       |                       |                       |
|                       | <em>Write a function     |                       |
|                       | called <code>in_bisect</code>    |                       |
|                       | that takes a sorted   |                       |
|                       | list and a target     |                       |
|                       | value and returns     |                       |
|                       | [True]{.c004} if the  |                       |
|                       | word is in the list   |                       |
|                       | and [False]{.c004} if |                       |
|                       | it's not.</em>            |                       |
|                       | []{#hevea_default883} |                       |
|                       | []{#hevea_default884} |                       |
|                       |                       |                       |
|                       | <em>Or you could read    |                       |
|                       | the documentation of  |                       |
|                       | the [bisect]{.c004}   |                       |
|                       | module and use that!  |                       |
|                       | Solution:</em>            |                       |
|                       | [[<em>https:/            |                       |
|                       | /thinkpython.com/code |                       |
|                       | /inlist.py</em>]{.c004}]( |                       |
|                       | https://thinkpython.c |                       |
|                       | om/code/inlist.py)<em>.</em> |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [                     |                       |
|                       | Exercise 11]{.c010}   |                       |
|                       | []{#hevea_default885} |                       |
|                       |                       |                       |
|                       | <em>Two words are a      |                       |
|                       | &quot;reverse pair&quot; if     |                       |
|                       | each is the reverse   |                       |
|                       | of the other. Write a |                       |
|                       | program that finds    |                       |
|                       | all the reverse pairs |                       |
|                       | in the word list.     |                       |
|                       | Solution:</em>            |                       |
|                       | [                     |                       |
|                       | <em>[https://thinkpython |                       |
|                       | .com/code/reverse_pai |                       |
|                       | r.py]{.c004}</em>](https: |                       |
|                       | //thinkpython.com/cod |                       |
|                       | e/reverse_pair.py)<em>.</em> |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [                     |                       |
|                       | Exercise 12]{.c010}   |                       |
|                       | []{#hevea_default886} |                       |
|                       |                       |                       |
|                       | <em>Two words            |                       |
|                       | &quot;interlock&quot; if taking |                       |
|                       | alternating letters   |                       |
|                       | from each forms a new |                       |
|                       | word. For example,    |                       |
|                       | &quot;shoe&quot; and &quot;cold&quot;     |                       |
|                       | interlock to form     |                       |
|                       | &quot;schooled&quot;.           |                       |
|                       | Solution:</em>            |                       |
|                       | [<em>[https://thin       |                       |
|                       | kpython.com/code/inte |                       |
|                       | rlock.py]{.c004}</em>](ht |                       |
|                       | tps://thinkpython.com |                       |
|                       | /code/interlock.py)<em>. |                       |
|                       | Credit: This exercise |                       |
|                       | is inspired by an     |                       |
|                       | example at</em>           |                       |
|                       | [<em>[http://puzz        |                       |
|                       | lers.org]{.c004}</em>](ht |                       |
|                       | tp://puzzlers.org)<em>.</em> |                       |
|                       |                       |                       |
|                       | 1.  <em>Write a program  |                       |
|                       |     that finds all    |                       |
|                       |     pairs of words    |                       |
|                       |     that interlock.   |                       |
|                       |     Hint: don't       |                       |
|                       |     enumerate all     |                       |
|                       |     pairs!</em>           |                       |
|                       | 2.  <em>Can you find any |                       |
|                       |     words that are    |                       |
|                       |     three-way         |                       |
|                       |     interlocked; that |                       |
|                       |     is, every third   |                       |
|                       |     letter forms a    |                       |
|                       |     word, starting    |                       |
|                       |     from the first,   |                       |
|                       |     second or third?</em> |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | [Buy this book at     |                       |
|                       | Amazon.com](ht        |                       |
|                       | tp://amzn.to/1VUYQUU) |                       |
+-----------------------+-----------------------+-----------------------+</p>
<hr />
<h2><a href="thinkpython2010.html"><img src="back.png" alt="Previous" /></a>
<a href="index.html"><img src="up.png" alt="Up" /></a> <a href="thinkpython2012.html"><img src="next.png" alt="Next" /></a></h2>
<h2>generator: hevea 2.32
title: Dictionaries</h2>
<p><a href="thinkpython2011.html"><img src="back.png" alt="Previous" /></a>
<a href="index.html"><img src="up.png" alt="Up" /></a> <a href="thinkpython2013.html"><img src="next.png" alt="Next" /></a></p>
<hr />
<p>+-----------------------+-----------------------+-----------------------+
|                       | [Buy this book at     | #### Contribute       |
|                       | Amazon.com](ht        |                       |
|                       | tp://amzn.to/1VUYQUU) | If you would like to  |
|                       |                       | make a contribution   |
|                       | # C                   | to support my books,  |
|                       | hapter 11  Dictionari | you can use the       |
|                       | es {#sec129 .chapter} | button below and pay  |
|                       |                       | with PayPal. Thank    |
|                       | This chapter presents | you!                  |
|                       | another built-in type |                       |
|                       | called a dictionary.  |   -----------         |
|                       | Dictionaries are one  | --------------------- |
|                       | of Python's best      | --------------------- |
|                       | features; they are    | --------------------- |
|                       | the building blocks   | --------------------- |
|                       | of many efficient and |   Pay what you want:  |
|                       | elegant algorithms.   |   Small $1           |
|                       |                       | .00 USD Medium $5.00 |
|                       | ## 11.1  A            |  USD Large $10.00 US |
|                       | dictionary is a mappi | D X-Large $20.00 USD |
|                       | ng {#sec130 .section} |  XX-Large $50.00 USD |
|                       |                       |   -----------         |
|                       | []{#hevea_default887} | --------------------- |
|                       | []{#hevea_default888} | --------------------- |
|                       | []{#hevea_default889} | --------------------- |
|                       | []{#hevea_default890} | --------------------- |
|                       | []{#hevea_default891} |                       |
|                       | []{#hevea_default892} | ![](                  |
|                       | A [dictionary]{.c010} | https://www.paypalobj |
|                       | is like a list, but   | ects.com/en_US/i/scr/ |
|                       | more general. In a    | pixel.gif){border=&quot;0&quot; |
|                       | list, the indices     | width=&quot;1&quot; height=&quot;1&quot;} |
|                       | have to be integers;  |                       |
|                       | in a dictionary they  | ####                  |
|                       | can be (almost) any   | Are you using one of  |
|                       | type.                 | our books in a class? |
|                       |                       |                       |
|                       | A dictionary contains | We'd like to know    |
|                       | a collection of       | about it. Please      |
|                       | indices, which are    | consider filling out  |
|                       | called [keys]{.c010}, | [this short           |
|                       | and a collection of   | survey](http://s      |
|                       | values. Each key is   | preadsheets.google.co |
|                       | associated with a     | m/viewform?formkey=dC |
|                       | single value. The     | 0tNUZkMjBEdXVoRGljNm9 |
|                       | association of a key  | FRmlTMHc6MA){onclick= |
|                       | and a value is called | &quot;javascript: pageTrac |
|                       | a [key-value          | ker._trackPageview('/ |
|                       | pair]{.c010} or       | outbound/survey');&quot;}. |
|                       | sometimes an          |                       |
|                       | [item]{.c010}.        | \                     |
|                       | []{#hevea_default893} |                       |
|                       |                       | [Think                |
|                       | In mathematical       | DSP](http             |
|                       | language, a           | ://www.amazon.com/gp/ |
|                       | dictionary represents | product/1491938455/re |
|                       | a [mapping]{.c010}    | f=as_li_tl?ie=UTF8&amp;ca |
|                       | from keys to values,  | mp=1789&amp;creative=9325 |
|                       | so you can also say   | &amp;creativeASIN=1491938 |
|                       | that each key &quot;maps   | 455&amp;linkCode=as2&amp;tag= |
|                       | to&quot; a value. As an    | greenteapre01-20&amp;link |
|                       | example, we'll build  | Id=2JJH4SWCAVVYSQHO){ |
|                       | a dictionary that     | rel=&quot;nofollow&quot;}![](ht |
|                       | maps from English to  | tp://ir-na.amazon-ads |
|                       | Spanish words, so the | ystem.com/e/ir?t=gree |
|                       | keys and the values   | nteapre01-20&amp;l=as2&amp;o= |
|                       | are all strings.      | 1&amp;a=1491938455){.c003 |
|                       |                       | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | The function          | border=&quot;0&quot;}           |
|                       | [dict]{.c004} creates |                       |
|                       | a new dictionary with | [                     |
|                       | no items. Because     | ![](http://ws-na.amaz |
|                       | [dict]{.c004} is the  | on-adsystem.com/widge |
|                       | name of a built-in    | ts/q?_encoding=UTF8&amp;A |
|                       | function, you should  | SIN=1491938455&amp;Format |
|                       | avoid using it as a   | =<em>SL160</em>&amp;ID=AsinImage |
|                       | variable name.        | &amp;MarketPlace=US&amp;Servi |
|                       | []{#hevea_default894} | ceVersion=20070822&amp;WS |
|                       | []{#hevea_default895} | =1&amp;tag=greenteapre01- |
|                       |                       | 20){border=&quot;0&quot;}](http |
|                       | <code>verbatim          | ://www.amazon.com/gp/ | |                       | &gt;&gt;&gt; eng2sp = dict()   | product/1491938455/re | |                       | &gt;&gt;&gt; eng2sp            | f=as_li_tl?ie=UTF8&amp;ca | |                       | {}                    | mp=1789&amp;creative=9325 | |                       |</code>                   | &amp;creativeASIN=1491938 |
|                       |                       | 455&amp;linkCode=as2&amp;tag= |
|                       | The                   | greenteapre01-20&amp;link |
|                       | squiggly-brackets,    | Id=CTV7PDT7E5EGGJUM){ |
|                       | <code>{}</code>, represent an    | rel=&quot;nofollow&quot;}![](ht |
|                       | empty dictionary. To  | tp://ir-na.amazon-ads |
|                       | add items to the      | ystem.com/e/ir?t=gree |
|                       | dictionary, you can   | nteapre01-20&amp;l=as2&amp;o= |
|                       | use square brackets:  | 1&amp;a=1491938455){.c003 |
|                       | []{#hevea_default896} | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | []{#hevea_default897} | border=&quot;0&quot;}           |
|                       |                       |                       |
|                       | <code>verbatim          | [Think                | |                       | &gt;&gt;&gt;                   | Java](http            | |                       | eng2sp['one'] = 'uno' | ://www.amazon.com/gp/ | |                       |</code>                   | product/1491929561/re |
|                       |                       | f=as_li_tl?ie=UTF8&amp;ca |
|                       | This line creates an  | mp=1789&amp;creative=9325 |
|                       | item that maps from   | &amp;creativeASIN=1491929 |
|                       | the key <code>'one'</code> to    | 561&amp;linkCode=as2&amp;tag= |
|                       | the value <code>'uno'</code>. If | greenteapre01-20&amp;link |
|                       | we print the          | Id=ZY6MAYM33ZTNSCNZ){ |
|                       | dictionary again, we  | rel=&quot;nofollow&quot;}![](ht |
|                       | see a key-value pair  | tp://ir-na.amazon-ads |
|                       | with a colon between  | ystem.com/e/ir?t=gree |
|                       | the key and value:    | nteapre01-20&amp;l=as2&amp;o= |
|                       |                       | 1&amp;a=1491929561){.c003 |
|                       | <code>verbatim          | width=&quot;1&quot; height=&quot;1&quot;  | |                       | &gt;&gt;&gt; eng2sp            | border=&quot;0&quot;}           | |                       | {'one': 'uno'}        |                       | |                       |</code>                   | [                     |
|                       |                       | ![](http://ws-na.amaz |
|                       | This output format is | on-adsystem.com/widge |
|                       | also an input format. | ts/q?_encoding=UTF8&amp;A |
|                       | For example, you can  | SIN=1491929561&amp;Format |
|                       | create a new          | =<em>SL160</em>&amp;ID=AsinImage |
|                       | dictionary with three | &amp;MarketPlace=US&amp;Servi |
|                       | items:                | ceVersion=20070822&amp;WS |
|                       |                       | =1&amp;tag=greenteapre01- |
|                       | <code>verbatim          | 20){border=&quot;0&quot;}](http | |                       | &gt;&gt;&gt; eng2sp = {'o      | ://www.amazon.com/gp/ | |                       | ne': 'uno', 'two': 'd | product/1491929561/re | |                       | os', 'three': 'tres'} | f=as_li_tl?ie=UTF8&amp;ca | |                       |</code>                   | mp=1789&amp;creative=9325 |
|                       |                       | &amp;creativeASIN=1491929 |
|                       | But if you print      | 561&amp;linkCode=as2&amp;tag= |
|                       | [eng2sp]{.c004}, you  | greenteapre01-20&amp;link |
|                       | might be surprised:   | Id=PT77ANWARUNNU3UK){ |
|                       |                       | rel=&quot;nofollow&quot;}![](ht |
|                       | <code>verbatim          | tp://ir-na.amazon-ads | |                       | &gt;&gt;&gt; eng2sp            | ystem.com/e/ir?t=gree | |                       | {'o                   | nteapre01-20&amp;l=as2&amp;o= | |                       | ne': 'uno', 'three':  | 1&amp;a=1491929561){.c003 | |                       | 'tres', 'two': 'dos'} | width=&quot;1&quot; height=&quot;1&quot;  | |                       |</code>                   | border=&quot;0&quot;}           |
|                       |                       |                       |
|                       | The order of the      | [Think                |
|                       | key-value pairs might | Bay                   |
|                       | not be the same. If   | es](http://www.amazon |
|                       | you type the same     | .com/gp/product/14493 |
|                       | example on your       | 70780/ref=as_li_qf_sp |
|                       | computer, you might   | _asin_tl?ie=UTF8&amp;camp |
|                       | get a different       | =1789&amp;creative=9325&amp;c |
|                       | result. In general,   | reativeASIN=144937078 |
|                       | the order of items in | 0&amp;linkCode=as2&amp;tag=gr |
|                       | a dictionary is       | eenteapre01-20)![](ht |
|                       | unpredictable.        | tp://ir-na.amazon-ads |
|                       |                       | ystem.com/e/ir?t=gree |
|                       | But that's not a      | nteapre01-20&amp;l=as2&amp;o= |
|                       | problem because the   | 1&amp;a=1449370780){.c003 |
|                       | elements of a         | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | dictionary are never  | border=&quot;0&quot;}           |
|                       | indexed with integer  |                       |
|                       | indices. Instead, you | [![](http://ws        |
|                       | use the keys to look  | -na.amazon-adsystem.c |
|                       | up the corresponding  | om/widgets/q?_encodin |
|                       | values:               | g=UTF8&amp;ASIN=144937078 |
|                       |                       | 0&amp;Format=<em>SL160</em>&amp;ID=A |
|                       | <code>verbatim          | sinImage&amp;MarketPlace= | |                       | &gt;&gt;&gt; eng2sp['two']     | US&amp;ServiceVersion=200 | |                       | 'dos'                 | 70822&amp;WS=1&amp;tag=greent | |                       |</code>                   | eapre01-20){border=&quot;0 |
|                       |                       | &quot;}](http://www.amazon |
|                       | The key <code>'two'</code>       | .com/gp/product/14493 |
|                       | always maps to the    | 70780/ref=as_li_qf_sp |
|                       | value <code>'dos'</code> so the  | _asin_il?ie=UTF8&amp;camp |
|                       | order of the items    | =1789&amp;creative=9325&amp;c |
|                       | doesn't matter.       | reativeASIN=144937078 |
|                       |                       | 0&amp;linkCode=as2&amp;tag=gr |
|                       | If the key isn't in   | eenteapre01-20)![](ht |
|                       | the dictionary, you   | tp://ir-na.amazon-ads |
|                       | get an exception:     | ystem.com/e/ir?t=gree |
|                       | []{#hevea_default898} | nteapre01-20&amp;l=as2&amp;o= |
|                       | []{#hevea_default899} | 1&amp;a=1449370780){.c003 |
|                       |                       | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | <code>verbatim          | border=&quot;0&quot;}           | |                       | &gt;&gt;&gt; eng2sp['four']    |                       | |                       | KeyError: 'four'      | [Think Python         | |                       |</code>                   | 2e](http              |
|                       |                       | ://www.amazon.com/gp/ |
|                       | The [len]{.c004}      | product/1491939362/re |
|                       | function works on     | f=as_li_tl?ie=UTF8&amp;ca |
|                       | dictionaries; it      | mp=1789&amp;creative=9325 |
|                       | returns the number of | &amp;creativeASIN=1491939 |
|                       | key-value pairs:      | 362&amp;linkCode=as2&amp;tag= |
|                       | []{#hevea_default900} | greenteapre01-20&amp;link |
|                       | []{#hevea_default901} | Id=FJKSQ3IHEMY2F2VA){ |
|                       |                       | rel=&quot;nofollow&quot;}![](ht |
|                       | <code>verbatim          | tp://ir-na.amazon-ads | |                       | &gt;&gt;&gt; len(eng2sp)       | ystem.com/e/ir?t=gree | |                       | 3                     | nteapre01-20&amp;l=as2&amp;o= | |                       |</code>                   | 1&amp;a=1491939362){.c003 |
|                       |                       | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | The [in]{.c004}       | border=&quot;0&quot;}           |
|                       | operator works on     |                       |
|                       | dictionaries, too; it | [                     |
|                       | tells you whether     | ![](http://ws-na.amaz |
|                       | something appears as  | on-adsystem.com/widge |
|                       | a <em>key</em> in the        | ts/q?<em>encoding=UTF8&amp;A |
|                       | dictionary (appearing | SIN=1491939362&amp;Format |
|                       | as a value is not     | =<em>SL160</em>&amp;ID=AsinImage |
|                       | good enough).         | &amp;MarketPlace=US&amp;Servi |
|                       | []{#hevea_default902} | ceVersion=20070822&amp;WS |
|                       | []{#hevea_default903} | =1&amp;tag=greenteapre01- |
|                       | []{#hevea_default904} | 20){border=&quot;0&quot;}](http |
|                       |                       | ://www.amazon.com/gp/ |
|                       | <code>verbatim          | product/1491939362/re | |                       | &gt;&gt;&gt; 'one' in eng2sp   | f=as_li_tl?ie=UTF8&amp;ca | |                       | True                  | mp=1789&amp;creative=9325 | |                       | &gt;&gt;&gt; 'uno' in eng2sp   | &amp;creativeASIN=1491939 | |                       | False                 | 362&amp;linkCode=as2&amp;tag= | |                       |</code>                   | greenteapre01-20&amp;link |
|                       |                       | Id=ZZ454DLQ3IXDHNHX){ |
|                       | To see whether        | rel=&quot;nofollow&quot;}![](ht |
|                       | something appears as  | tp://ir-na.amazon-ads |
|                       | a value in a          | ystem.com/e/ir?t=gree |
|                       | dictionary, you can   | nteapre01-20&amp;l=as2&amp;o= |
|                       | use the method        | 1&amp;a=1491939362){.c003 |
|                       | [values]{.c004},      | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | which returns a       | border=&quot;0&quot;}           |
|                       | collection of values, |                       |
|                       | and then use the      | [Think Stats          |
|                       | [in]{.c004} operator: | 2e](http://ww         |
|                       | []{#hevea_default905} | w.amazon.com/gp/produ |
|                       | []{#hevea_default906} | ct/1491907339/ref=as</em> |
|                       |                       | li_tl?ie=UTF8&amp;camp=17 |
|                       | <code>verbatim          | 89&amp;creative=9325&amp;crea | |                       | &gt;&gt;&gt; v                 | tiveASIN=1491907339&amp;l | |                       | als = eng2sp.values() | inkCode=as2&amp;tag=green | |                       | &gt;&gt;&gt; 'uno' in vals     | teapre01-20&amp;linkId=O7 | |                       | True                  | WYM6H6YBYUFNWU)![](ht | |                       |</code>                   | tp://ir-na.amazon-ads |
|                       |                       | ystem.com/e/ir?t=gree |
|                       | The [in]{.c004}       | nteapre01-20&amp;l=as2&amp;o= |
|                       | operator uses         | 1&amp;a=1491907339){.c003 |
|                       | different algorithms  | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | for lists and         | border=&quot;0&quot;}           |
|                       | dictionaries. For     |                       |
|                       | lists, it searches    | [![](h                |
|                       | the elements of the   | ttp://ws-na.amazon-ad |
|                       | list in order, as in  | system.com/widgets/q? |
|                       | Section [8.6](thinkp  | <em>encoding=UTF8&amp;ASIN=1 |
|                       | ython2009.html#find). | 491907339&amp;Format=<em>SL1 |
|                       | As the list gets      | 60</em>&amp;ID=AsinImage&amp;Mark |
|                       | longer, the search    | etPlace=US&amp;ServiceVer |
|                       | time gets longer in   | sion=20070822&amp;WS=1&amp;ta |
|                       | direct proportion.    | g=greenteapre01-20){b |
|                       |                       | order=&quot;0&quot;}](http://ww |
|                       | Python dictionaries   | w.amazon.com/gp/produ |
|                       | use a data structure  | ct/1491907339/ref=as</em> |
|                       | called a              | li_tl?ie=UTF8&amp;camp=17 |
|                       | [hashtable]{.c010}    | 89&amp;creative=9325&amp;crea |
|                       | that has a remarkable | tiveASIN=1491907339&amp;l |
|                       | property: the         | inkCode=as2&amp;tag=green |
|                       | [in]{.c004} operator  | teapre01-20&amp;linkId=JV |
|                       | takes about the same  | SYKQHYSUIEYRHL)![](ht |
|                       | amount of time no     | tp://ir-na.amazon-ads |
|                       | matter how many items | ystem.com/e/ir?t=gree |
|                       | are in the            | nteapre01-20&amp;l=as2&amp;o= |
|                       | dictionary. I explain | 1&amp;a=1491907339){.c003 |
|                       | how that's possible   | width=&quot;1&quot; height=&quot;1&quot;  |
|                       | in                    | border=&quot;0&quot;}           |
|                       | Sect                  |                       |
|                       | ion [B.4](thinkpython | [Think                |
|                       | 2022.html#hashtable), | Complexity](http      |
|                       | but the explanation   | ://www.amazon.com/gp/ |
|                       | might not make sense  | product/1449314635/re |
|                       | until you've read a   | f=as_li_tf_tl?ie=UTF8 |
|                       | few more chapters.    | &amp;tag=greenteapre01-20 |
|                       |                       | &amp;linkCode=as2&amp;camp=17 |
|                       | ##                    | 89&amp;creative=9325&amp;crea |
|                       | 11.2  Dictionary as a | tiveASIN=1449314635)! |
|                       |  collection of counte | [](http://www.assoc-a |
|                       | rs {#sec131 .section} | mazon.com/e/ir?t=gree |
|                       |                       | nteapre01-20&amp;l=as2&amp;o= |
|                       | []{#histogram}        | 1&amp;a=1449314635){.c003 |
|                       | []{#hevea_default907} | width=&quot;1&quot; height=&quot;1&quot;  |
|                       |                       | border=&quot;0&quot;}           |
|                       | Suppose you are given |                       |
|                       | a string and you want | [                     |
|                       | to count how many     | ![](http://ws-na.amaz |
|                       | times each letter     | on-adsystem.com/widge |
|                       | appears. There are    | ts/q?_encoding=UTF8&amp;A |
|                       | several ways you      | SIN=1449314635&amp;Format |
|                       | could do it:          | =<em>SL160</em>&amp;ID=AsinImage |
|                       |                       | &amp;MarketPlace=US&amp;Servi |
|                       | 1.  You could create  | ceVersion=20070822&amp;WS |
|                       |     26 variables, one | =1&amp;tag=greenteapre01- |
|                       |     for each letter   | 20){border=&quot;0&quot;}](http |
|                       |     of the alphabet.  | ://www.amazon.com/gp/ |
|                       |     Then you could    | product/1449314635/re |
|                       |     traverse the      | f=as_li_tf_il?ie=UTF8 |
|                       |     string and, for   | &amp;camp=1789&amp;creative=9 |
|                       |     each character,   | 325&amp;creativeASIN=1449 |
|                       |     increment the     | 314635&amp;linkCode=as2&amp;t |
|                       |     corresponding     | ag=greenteapre01-20)! |
|                       |     counter, probably | [](http://www.assoc-a |
|                       |     using a chained   | mazon.com/e/ir?t=gree |
|                       |     conditional.      | nteapre01-20&amp;l=as2&amp;o= |
|                       | 2.  You could create  | 1&amp;a=1449314635){.c003 |
|                       |     a list with 26    | width=&quot;1&quot; height=&quot;1&quot;  |
|                       |     elements. Then    | border=&quot;0&quot;}           |
|                       |     you could convert |                       |
|                       |     each character to |                       |
|                       |     a number (using   |                       |
|                       |     the built-in      |                       |
|                       |     function          |                       |
|                       |     [ord]{.c004}),    |                       |
|                       |     use the number as |                       |
|                       |     an index into the |                       |
|                       |     list, and         |                       |
|                       |     increment the     |                       |
|                       |     appropriate       |                       |
|                       |     counter.          |                       |
|                       | 3.  You could create  |                       |
|                       |     a dictionary with |                       |
|                       |     characters as     |                       |
|                       |     keys and counters |                       |
|                       |     as the            |                       |
|                       |     corresponding     |                       |
|                       |     values. The first |                       |
|                       |     time you see a    |                       |
|                       |     character, you    |                       |
|                       |     would add an item |                       |
|                       |     to the            |                       |
|                       |     dictionary. After |                       |
|                       |     that you would    |                       |
|                       |     increment the     |                       |
|                       |     value of an       |                       |
|                       |     existing item.    |                       |
|                       |                       |                       |
|                       | Each of these options |                       |
|                       | performs the same     |                       |
|                       | computation, but each |                       |
|                       | of them implements    |                       |
|                       | that computation in a |                       |
|                       | different way.        |                       |
|                       | []{#hevea_default908} |                       |
|                       |                       |                       |
|                       | An                    |                       |
|                       | [i                    |                       |
|                       | mplementation]{.c010} |                       |
|                       | is a way of           |                       |
|                       | performing a          |                       |
|                       | computation; some     |                       |
|                       | implementations are   |                       |
|                       | better than others.   |                       |
|                       | For example, an       |                       |
|                       | advantage of the      |                       |
|                       | dictionary            |                       |
|                       | implementation is     |                       |
|                       | that we don't have to |                       |
|                       | know ahead of time    |                       |
|                       | which letters appear  |                       |
|                       | in the string and we  |                       |
|                       | only have to make     |                       |
|                       | room for the letters  |                       |
|                       | that do appear.       |                       |
|                       |                       |                       |
|                       | Here is what the code |                       |
|                       | might look like:      |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def histogram(s):     |                       | |                       |     d = dict()        |                       | |                       |     for c in s:       |                       | |                       |                       |                       | |                       |        if c not in d: |                       | |                       |             d[c] = 1  |                       | |                       |         else:         |                       | |                       |             d[c] += 1 |                       | |                       |     return d          |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | The name of the       |                       |
|                       | function is           |                       |
|                       | [histogram]{.c004},   |                       |
|                       | which is a            |                       |
|                       | statistical term for  |                       |
|                       | a collection of       |                       |
|                       | counters (or          |                       |
|                       | frequencies).         |                       |
|                       | []{#hevea_default909} |                       |
|                       | []{#hevea_default910} |                       |
|                       | []{#hevea_default911} |                       |
|                       |                       |                       |
|                       | The first line of the |                       |
|                       | function creates an   |                       |
|                       | empty dictionary. The |                       |
|                       | [for]{.c004} loop     |                       |
|                       | traverses the string. |                       |
|                       | Each time through the |                       |
|                       | loop, if the          |                       |
|                       | character [c]{.c004}  |                       |
|                       | is not in the         |                       |
|                       | dictionary, we create |                       |
|                       | a new item with key   |                       |
|                       | [c]{.c004} and the    |                       |
|                       | initial value 1       |                       |
|                       | (since we have seen   |                       |
|                       | this letter once). If |                       |
|                       | [c]{.c004} is already |                       |
|                       | in the dictionary we  |                       |
|                       | increment             |                       |
|                       | [d[c]]{.c004}.      |                       |
|                       | []{#hevea_default912} |                       |
|                       |                       |                       |
|                       | Here's how it works:  |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; h = hist          |                       | |                       | ogram('brontosaurus') |                       | |                       | &gt;&gt;&gt; h                 |                       | |                       | {                     |                       | |                       | 'a': 1, 'b': 1, 'o':  |                       | |                       | 2, 'n': 1, 's': 2, 'r |                       | |                       | ': 2, 'u': 2, 't': 1} |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | The histogram         |                       |
|                       | indicates that the    |                       |
|                       | letters <code>'a'</code> and     |                       |
|                       | <code>'b'</code> appear once;    |                       |
|                       | <code>'o'</code> appears twice,  |                       |
|                       | and so on.            |                       |
|                       |                       |                       |
|                       | []{#hevea_default913} |                       |
|                       | []{#hevea_default914} |                       |
|                       | Dictionaries have a   |                       |
|                       | method called         |                       |
|                       | [get]{.c004} that     |                       |
|                       | takes a key and a     |                       |
|                       | default value. If the |                       |
|                       | key appears in the    |                       |
|                       | dictionary,           |                       |
|                       | [get]{.c004} returns  |                       |
|                       | the corresponding     |                       |
|                       | value; otherwise it   |                       |
|                       | returns the default   |                       |
|                       | value. For example:   |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;                     |                       | |                       | &gt;&gt; h = histogram('a') |                       | |                       | &gt;&gt;&gt; h                 |                       | |                       | {'a': 1}              |                       | |                       | &gt;&gt;&gt; h.get('a', 0)     |                       | |                       | 1                     |                       | |                       | &gt;&gt;&gt; h.get('c', 0)     |                       | |                       | 0                     |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | As an exercise, use   |                       |
|                       | [get]{.c004} to write |                       |
|                       | [histogram]{.c004}    |                       |
|                       | more concisely. You   |                       |
|                       | should be able to     |                       |
|                       | eliminate the         |                       |
|                       | [if]{.c004}           |                       |
|                       | statement.            |                       |
|                       |                       |                       |
|                       | ## 11.3  L            |                       |
|                       | ooping and dictionari |                       |
|                       | es {#sec132 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default915} |                       |
|                       | []{#hevea_default916} |                       |
|                       | []{#hevea_default917} |                       |
|                       |                       |                       |
|                       | If you use a          |                       |
|                       | dictionary in a       |                       |
|                       | [for]{.c004}          |                       |
|                       | statement, it         |                       |
|                       | traverses the keys of |                       |
|                       | the dictionary. For   |                       |
|                       | example, <code>print_hist</code> |                       |
|                       | prints each key and   |                       |
|                       | the corresponding     |                       |
|                       | value:                |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def print_hist(h):    |                       | |                       |     for c in h:       |                       | |                       |                       |                       | |                       |        print(c, h[c]) |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | Here's what the       |                       |
|                       | output looks like:    |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; h                 |                       | |                       | = histogram('parrot') |                       | |                       | &gt;&gt;&gt; print_hist(h)     |                       | |                       | a 1                   |                       | |                       | p 1                   |                       | |                       | r 2                   |                       | |                       | t 1                   |                       | |                       | o 1                   |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | Again, the keys are   |                       |
|                       | in no particular      |                       |
|                       | order. To traverse    |                       |
|                       | the keys in sorted    |                       |
|                       | order, you can use    |                       |
|                       | the built-in function |                       |
|                       | [sorted]{.c004}:      |                       |
|                       | []{#hevea_default918} |                       |
|                       | []{#hevea_default919} |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt;                   |                       | |                       | for key in sorted(h): |                       | |                       | ...                   |                       | |                       |    print(key, h[key]) |                       | |                       | a 1                   |                       | |                       | o 1                   |                       | |                       | p 1                   |                       | |                       | r 2                   |                       | |                       | t 1                   |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | ## 11.4  Reverse look |                       |
|                       | up {#sec133 .section} |                       |
|                       |                       |                       |
|                       | []{#raise}            |                       |
|                       | []{#hevea_default920} |                       |
|                       | []{#hevea_default921} |                       |
|                       | []{#hevea_default922} |                       |
|                       | []{#hevea_default923} |                       |
|                       |                       |                       |
|                       | Given a dictionary    |                       |
|                       | [d]{.c004} and a key  |                       |
|                       | [k]{.c004}, it is     |                       |
|                       | easy to find the      |                       |
|                       | corresponding value   |                       |
|                       | [v = d[k]]{.c004}.  |                       |
|                       | This operation is     |                       |
|                       | called a              |                       |
|                       | [lookup]{.c010}.      |                       |
|                       |                       |                       |
|                       | But what if you have  |                       |
|                       | [v]{.c004} and you    |                       |
|                       | want to find          |                       |
|                       | [k]{.c004}? You have  |                       |
|                       | two problems: first,  |                       |
|                       | there might be more   |                       |
|                       | than one key that     |                       |
|                       | maps to the value     |                       |
|                       | [v]{.c004}. Depending |                       |
|                       | on the application,   |                       |
|                       | you might be able to  |                       |
|                       | pick one, or you      |                       |
|                       | might have to make a  |                       |
|                       | list that contains    |                       |
|                       | all of them. Second,  |                       |
|                       | there is no simple    |                       |
|                       | syntax to do a        |                       |
|                       | [reverse              |                       |
|                       | lookup]{.c010}; you   |                       |
|                       | have to search.       |                       |
|                       |                       |                       |
|                       | Here is a function    |                       |
|                       | that takes a value    |                       |
|                       | and returns the first |                       |
|                       | key that maps to that |                       |
|                       | value:                |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | def                   |                       | |                       | reverse_lookup(d, v): |                       | |                       |     for k in d:       |                       | |                       |         if d[k] == v: |                       | |                       |             return k  |                       | |                       |                       |                       | |                       |   raise LookupError() |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | This function is yet  |                       |
|                       | another example of    |                       |
|                       | the search pattern,   |                       |
|                       | but it uses a feature |                       |
|                       | we haven't seen       |                       |
|                       | before,               |                       |
|                       | [raise]{.c004}. The   |                       |
|                       | [raise                |                       |
|                       | statement]{.c010}     |                       |
|                       | causes an exception;  |                       |
|                       | in this case it       |                       |
|                       | causes a              |                       |
|                       | [LookupError]{.c004}, |                       |
|                       | which is a built-in   |                       |
|                       | exception used to     |                       |
|                       | indicate that a       |                       |
|                       | lookup operation      |                       |
|                       | failed.               |                       |
|                       | []{#hevea_default924} |                       |
|                       | []{#hevea_default925} |                       |
|                       | []{#hevea_default926} |                       |
|                       | []{#hevea_default927} |                       |
|                       | []{#hevea_default928} |                       |
|                       | []{#hevea_default929} |                       |
|                       |                       |                       |
|                       | If we get to the end  |                       |
|                       | of the loop, that     |                       |
|                       | means [v]{.c004}      |                       |
|                       | doesn't appear in the |                       |
|                       | dictionary as a       |                       |
|                       | value, so we raise an |                       |
|                       | exception.            |                       |
|                       |                       |                       |
|                       | Here is an example of |                       |
|                       | a successful reverse  |                       |
|                       | lookup:               |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; h                 |                       | |                       | = histogram('parrot') |                       | |                       | &gt;&gt;&gt; key =             |                       | |                       |  reverse_lookup(h, 2) |                       | |                       | &gt;&gt;&gt; key               |                       | |                       | 'r'                   |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | And an unsuccessful   |                       |
|                       | one:                  |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;&gt;&gt; key =             |                       | |                       |  reverse_lookup(h, 3) |                       | |                       | Traceback (mo         |                       | |                       | st recent call last): |                       | |                       |   File &quot;&lt;stdin&gt;&quot;      |                       | |                       | , line 1, in &lt;module&gt; |                       | |                       |                       |                       | |                       |  File &quot;&lt;stdin&gt;&quot;, line |                       | |                       |  5, in reverse_lookup |                       | |                       | LookupError           |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | The effect when you   |                       |
|                       | raise an exception is |                       |
|                       | the same as when      |                       |
|                       | Python raises one: it |                       |
|                       | prints a traceback    |                       |
|                       | and an error message. |                       |
|                       | []{#hevea_default930} |                       |
|                       | []{#hevea_default931} |                       |
|                       | []{#hevea_default932} |                       |
|                       |                       |                       |
|                       | When you raise an     |                       |
|                       | exception, you can    |                       |
|                       | provide a detailed    |                       |
|                       | error message as an   |                       |
|                       | optional argument.    |                       |
|                       | For example:          |                       |
|                       |                       |                       |
|                       | <code>verbatim          |                       | |                       | &gt;                     |                       | |                       | &gt;&gt; raise LookupError( |                       | |                       | 'value does not appea |                       | |                       | r in the dictionary') |                       | |                       | Traceback (mo         |                       | |                       | st recent call last): |                       | |                       |   File &quot;&lt;             |                       | |                       | stdin&gt;&quot;, line 1, in ? |                       | |                       | LookupErro            |                       | |                       | r: value does not app |                       | |                       | ear in the dictionary |                       | |                       |</code>                   |                       |
|                       |                       |                       |
|                       | A reverse lookup is   |                       |
|                       | much slower than a    |                     </p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../ThinkPython/part_3.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../ThinkPython/part_5.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../ThinkPython/part_3.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../ThinkPython/part_5.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
