| :   An operator,      |                       |
|                       |     denoted with a    |                       |
|                       |     percent sign      |                       |
|                       |     ([%]{.c004}),     |                       |
|                       |     that works on     |                       |
|                       |     integers and      |                       |
|                       |     returns the       |                       |
|                       |     remainder when    |                       |
|                       |     one number is     |                       |
|                       |     divided by        |                       |
|                       |     another.          |                       |
|                       |                       |                       |
|                       | []{#hevea_default399} |                       |
|                       |                       |                       |
|                       | []{#hevea_default400} |                       |
|                       |                       |                       |
|                       | [boolea               |                       |
|                       | n expression:]{.c010} |                       |
|                       | :   An expression     |                       |
|                       |     whose value is    |                       |
|                       |     either            |                       |
|                       |     [True]{.c004} or  |                       |
|                       |     [False]{.c004}.   |                       |
|                       |                       |                       |
|                       | []{#hevea_default401} |                       |
|                       |                       |                       |
|                       | []{#hevea_default402} |                       |
|                       |                       |                       |
|                       | [relatio              |                       |
|                       | nal operator:]{.c010} |                       |
|                       | :   One of the        |                       |
|                       |     operators that    |                       |
|                       |     compares its      |                       |
|                       |     operands:         |                       |
|                       |     [==]{.c004},      |                       |
|                       |     [!=]{.c004},      |                       |
|                       |     [\>]{.c004},      |                       |
|                       |     [\<]{.c004},      |                       |
|                       |     [\>=]{.c004}, and |                       |
|                       |     [\<=]{.c004}.     |                       |
|                       |                       |                       |
|                       | [logi                 |                       |
|                       | cal operator:]{.c010} |                       |
|                       | :   One of the        |                       |
|                       |     operators that    |                       |
|                       |     combines boolean  |                       |
|                       |     expressions:      |                       |
|                       |     [and]{.c004},     |                       |
|                       |     [or]{.c004}, and  |                       |
|                       |     [not]{.c004}.     |                       |
|                       |                       |                       |
|                       | [condition            |                       |
|                       | al statement:]{.c010} |                       |
|                       | :   A statement that  |                       |
|                       |     controls the flow |                       |
|                       |     of execution      |                       |
|                       |     depending on some |                       |
|                       |     condition.        |                       |
|                       |                       |                       |
|                       | []{#hevea_default403} |                       |
|                       |                       |                       |
|                       | []{#hevea_default404} |                       |
|                       |                       |                       |
|                       | [condition:]{.c010}   |                       |
|                       | :   The boolean       |                       |
|                       |     expression in a   |                       |
|                       |     conditional       |                       |
|                       |     statement that    |                       |
|                       |     determines which  |                       |
|                       |     branch runs.      |                       |
|                       |                       |                       |
|                       | []{#hevea_default405} |                       |
|                       |                       |                       |
|                       | [compou               |                       |
|                       | nd statement:]{.c010} |                       |
|                       | :   A statement that  |                       |
|                       |     consists of a     |                       |
|                       |     header and a      |                       |
|                       |     body. The header  |                       |
|                       |     ends with a colon |                       |
|                       |     (:). The body is  |                       |
|                       |     indented relative |                       |
|                       |     to the header.    |                       |
|                       |                       |                       |
|                       | []{#hevea_default406} |                       |
|                       |                       |                       |
|                       | [branch:]{.c010}      |                       |
|                       | :   One of the        |                       |
|                       |     alternative       |                       |
|                       |     sequences of      |                       |
|                       |     statements in a   |                       |
|                       |     conditional       |                       |
|                       |     statement.        |                       |
|                       |                       |                       |
|                       | []{#hevea_default407} |                       |
|                       |                       |                       |
|                       | [chained              |                       |
|                       |  conditional:]{.c010} |                       |
|                       | :   A conditional     |                       |
|                       |     statement with a  |                       |
|                       |     series of         |                       |
|                       |     alternative       |                       |
|                       |     branches.         |                       |
|                       |                       |                       |
|                       | []{#hevea_default408} |                       |
|                       |                       |                       |
|                       | []{#hevea_default409} |                       |
|                       |                       |                       |
|                       | [nested               |                       |
|                       |  conditional:]{.c010} |                       |
|                       | :   A conditional     |                       |
|                       |     statement that    |                       |
|                       |     appears in one of |                       |
|                       |     the branches of   |                       |
|                       |     another           |                       |
|                       |     conditional       |                       |
|                       |     statement.        |                       |
|                       |                       |                       |
|                       | []{#hevea_default410} |                       |
|                       |                       |                       |
|                       | []{#hevea_default411} |                       |
|                       |                       |                       |
|                       | [retu                 |                       |
|                       | rn statement:]{.c010} |                       |
|                       | :   A statement that  |                       |
|                       |     causes a function |                       |
|                       |     to end            |                       |
|                       |     immediately and   |                       |
|                       |     return to the     |                       |
|                       |     caller.           |                       |
|                       |                       |                       |
|                       | [recursion:]{.c010}   |                       |
|                       | :   The process of    |                       |
|                       |     calling the       |                       |
|                       |     function that is  |                       |
|                       |     currently         |                       |
|                       |     executing.        |                       |
|                       |                       |                       |
|                       | []{#hevea_default412} |                       |
|                       |                       |                       |
|                       | [base case:]{.c010}   |                       |
|                       | :   A conditional     |                       |
|                       |     branch in a       |                       |
|                       |     recursive         |                       |
|                       |     function that     |                       |
|                       |     does not make a   |                       |
|                       |     recursive call.   |                       |
|                       |                       |                       |
|                       | []{#hevea_default413} |                       |
|                       |                       |                       |
|                       | [infini               |                       |
|                       | te recursion:]{.c010} |                       |
|                       | :   A recursion that  |                       |
|                       |     doesn't have a    |                       |
|                       |     base case, or     |                       |
|                       |     never reaches it. |                       |
|                       |     Eventually, an    |                       |
|                       |     infinite          |                       |
|                       |     recursion causes  |                       |
|                       |     a runtime error.  |                       |
|                       |                       |                       |
|                       | []{#hevea_default414} |                       |
|                       |                       |                       |
|                       | ## 5.14  Exerci       |                       |
|                       | ses {#sec68 .section} |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 1]{.c010}   |                       |
|                       |                       |                       |
|                       | *The [time]{.c004}    |                       |
|                       | module provides a     |                       |
|                       | function, also named  |                       |
|                       | [time]{.c004}, that   |                       |
|                       | returns the current   |                       |
|                       | Greenwich Mean Time   |                       |
|                       | in "the epoch", which |                       |
|                       | is an arbitrary time  |                       |
|                       | used as a reference   |                       |
|                       | point. On UNIX        |                       |
|                       | systems, the epoch is |                       |
|                       | 1 January 1970.*      |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> import time       |                       |
|                       | >>> time.time()       |                       |
|                       | 1437746094.5735958    |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | *Write a script that  |                       |
|                       | reads the current     |                       |
|                       | time and converts it  |                       |
|                       | to a time of day in   |                       |
|                       | hours, minutes, and   |                       |
|                       | seconds, plus the     |                       |
|                       | number of days since  |                       |
|                       | the epoch.*           |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 2]{.c010}   |                       |
|                       | []{#hevea_default415} |                       |
|                       |                       |                       |
|                       | *Fermat's Last        |                       |
|                       | Theorem says that     |                       |
|                       | there are no positive |                       |
|                       | integers*             |                       |
|                       | [a]{.c009}*,*         |                       |
|                       | [b]{.c009}*, and*     |                       |
|                       | [c]{.c009} *such      |                       |
|                       | that*                 |                       |
|                       |                       |                       |
|                       |   ------------        |                       |
|                       | --------------------- |                       |
|                       | --------------------- |                       |
|                       | --------------------- |                       |
|                       |   [a]{.c009}          |                       |
|                       | ^[n]{.c009}^ + [b]{.c |                       |
|                       | 009}^[n]{.c009}^ = [c |                       |
|                       | ]{.c009}^[n]{.c009}^  |                       |
|                       |   ------------        |                       |
|                       | --------------------- |                       |
|                       | --------------------- |                       |
|                       | --------------------- |                       |
|                       |                       |                       |
|                       | *for any values of*   |                       |
|                       | [n]{.c009} *greater   |                       |
|                       | than 2.*              |                       |
|                       |                       |                       |
|                       | 1.  *Write a function |                       |
|                       |     named             |                       |
|                       |     `check_fermat`    |                       |
|                       |     that takes four   |                       |
|                       |     par               |                       |
|                       | ameters---[a]{.c004}, |                       |
|                       |     [b]{.c004},       |                       |
|                       |     [c]{.c004} and    |                       |
|                       |     [n]{.c004}---and  |                       |
|                       |     checks to see if  |                       |
|                       |     Fermat's theorem  |                       |
|                       |     holds. If*        |                       |
|                       |     [n]{.c009} *is    |                       |
|                       |     greater than 2    |                       |
|                       |     and*              |                       |
|                       |                       |                       |
|                       |       -----           |                       |
|                       | --------------------- |                       |
|                       | --------------------- |                       |
|                       | --------------------- |                       |
|                       | --------------------- |                       |
|                       |       [*a             |                       |
|                       | *]{.c009}^[*n*]{.c009 |                       |
|                       | }^* + [b]{.c009}*^[*n |                       |
|                       | *]{.c009}^* = [c]{.c0 |                       |
|                       | 09}*^[*n*]{.c009}^* * |                       |
|                       |       -----           |                       |
|                       | --------------------- |                       |
|                       | --------------------- |                       |
|                       | --------------------- |                       |
|                       | --------------------- |                       |
|                       |                       |                       |
|                       |     *the program      |                       |
|                       |     should print,     |                       |
|                       |     "Holy smokes,     |                       |
|                       |     Fermat was        |                       |
|                       |     wrong!" Otherwise |                       |
|                       |     the program       |                       |
|                       |     should print,     |                       |
|                       |     "No, that doesn't |                       |
|                       |     work."*           |                       |
|                       |                       |                       |
|                       | 2.  *Write a function |                       |
|                       |     that prompts the  |                       |
|                       |     user to input     |                       |
|                       |     values for        |                       |
|                       |     [a]{.c004},       |                       |
|                       |     [b]{.c004},       |                       |
|                       |     [c]{.c004} and    |                       |
|                       |     [n]{.c004},       |                       |
|                       |     converts them to  |                       |
|                       |     integers, and     |                       |
|                       |     uses              |                       |
|                       |     `check_fermat` to |                       |
|                       |     check whether     |                       |
|                       |     they violate      |                       |
|                       |     Fermat's          |                       |
|                       |     theorem.*         |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 3]{.c010}   |                       |
|                       | []{#hevea_default416} |                       |
|                       |                       |                       |
|                       | *If you are given     |                       |
|                       | three sticks, you may |                       |
|                       | or may not be able to |                       |
|                       | arrange them in a     |                       |
|                       | triangle. For         |                       |
|                       | example, if one of    |                       |
|                       | the sticks is 12      |                       |
|                       | inches long and the   |                       |
|                       | other two are one     |                       |
|                       | inch long, you will   |                       |
|                       | not be able to get    |                       |
|                       | the short sticks to   |                       |
|                       | meet in the middle.   |                       |
|                       | For any three         |                       |
|                       | lengths, there is a   |                       |
|                       | simple test to see if |                       |
|                       | it is possible to     |                       |
|                       | form a triangle:*     |                       |
|                       |                       |                       |
|                       | > *If any of the      |                       |
|                       | > three lengths is    |                       |
|                       | > greater than the    |                       |
|                       | > sum of the other    |                       |
|                       | > two, then you       |                       |
|                       | > cannot form a       |                       |
|                       | > triangle.           |                       |
|                       | > Otherwise, you can. |                       |
|                       | > (If the sum of two  |                       |
|                       | > lengths equals the  |                       |
|                       | > third, they form    |                       |
|                       | > what is called a    |                       |
|                       | > "degenerate"        |                       |
|                       | > triangle.)*         |                       |
|                       |                       |                       |
|                       | 1.  *Write a function |                       |
|                       |     named             |                       |
|                       |     `is_triangle`     |                       |
|                       |     that takes three  |                       |
|                       |     integers as       |                       |
|                       |     arguments, and    |                       |
|                       |     that prints       |                       |
|                       |     either "Yes" or   |                       |
|                       |     "No", depending   |                       |
|                       |     on whether you    |                       |
|                       |     can or cannot     |                       |
|                       |     form a triangle   |                       |
|                       |     from sticks with  |                       |
|                       |     the given         |                       |
|                       |     lengths.*         |                       |
|                       | 2.  *Write a function |                       |
|                       |     that prompts the  |                       |
|                       |     user to input     |                       |
|                       |     three stick       |                       |
|                       |     lengths, converts |                       |
|                       |     them to integers, |                       |
|                       |     and uses          |                       |
|                       |     `is_triangle` to  |                       |
|                       |     check whether     |                       |
|                       |     sticks with the   |                       |
|                       |     given lengths can |                       |
|                       |     form a triangle.* |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 4]{.c010}   |                       |
|                       | *What is the output   |                       |
|                       | of the following      |                       |
|                       | program? Draw a stack |                       |
|                       | diagram that shows    |                       |
|                       | the state of the      |                       |
|                       | program when it       |                       |
|                       | prints the result.*   |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def recurse(n, s):    |                       |
|                       |     if n == 0:        |                       |
|                       |         print(s)      |                       |
|                       |     else:             |                       |
|                       |                       |                       |
|                       |     recurse(n-1, n+s) |                       |
|                       |                       |                       |
|                       | recurse(3, 0)         |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | 1.  *What would       |                       |
|                       |     happen if you     |                       |
|                       |     called this       |                       |
|                       |     function like     |                       |
|                       |     this:             |                       |
|                       |     [recurse(-1,      |                       |
|                       |     0)]{.c004}?*      |                       |
|                       | 2.  *Write a          |                       |
|                       |     docstring that    |                       |
|                       |     explains          |                       |
|                       |     everything        |                       |
|                       |     someone would     |                       |
|                       |     need to know in   |                       |
|                       |     order to use this |                       |
|                       |     function (and     |                       |
|                       |     nothing else).*   |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | The following         |                       |
|                       | exercises use the     |                       |
|                       | [turtle]{.c004}       |                       |
|                       | module, described in  |                       |
|                       | Cha                   |                       |
|                       | pter [4](thinkpython2 |                       |
|                       | 005.html#turtlechap): |                       |
|                       | []{#hevea_default417} |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 5]{.c010}   |                       |
|                       |                       |                       |
|                       | *Read the following   |                       |
|                       | function and see if   |                       |
|                       | you can figure out    |                       |
|                       | what it does (see the |                       |
|                       | examples in           |                       |
|                       | Chapter               |                       |
|                       | *[*4*](thinkpython200 |                       |
|                       | 5.html#turtlechap)*). |                       |
|                       | Then run it and see   |                       |
|                       | if you got it right.* |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | de                    |                       |
|                       | f draw(t, length, n): |                       |
|                       |     if n == 0:        |                       |
|                       |         return        |                       |
|                       |     angle = 50        |                       |
|                       |     t.fd(length*n)    |                       |
|                       |     t.lt(angle)       |                       |
|                       |                       |                       |
|                       |  draw(t, length, n-1) |                       |
|                       |     t.rt(2*angle)     |                       |
|                       |                       |                       |
|                       |  draw(t, length, n-1) |                       |
|                       |     t.lt(angle)       |                       |
|                       |     t.bk(length*n)    |                       |
|                       | ```                   |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | > ::: center          |                       |
|                       | >                     |                       |
|                       | > ------------------- |                       |
|                       | > :::                 |                       |
|                       | >                     |                       |
|                       | > ::: center          |                       |
|                       | > ![]                 |                       |
|                       | (thinkpython2006.png) |                       |
|                       | > :::                 |                       |
|                       | >                     |                       |
|                       | > ::: caption         |                       |
|                       | >   ------            |                       |
|                       | --------------------- |                       |
|                       | >   Figu              |                       |
|                       | re 5.2: A Koch curve. |                       |
|                       | >   ------            |                       |
|                       | --------------------- |                       |
|                       | > :::                 |                       |
|                       | >                     |                       |
|                       | > []{#fig.koch}       |                       |
|                       | >                     |                       |
|                       | > ::: center          |                       |
|                       | >                     |                       |
|                       | > ------------------- |                       |
|                       | > :::                 |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 6]{.c010}   |                       |
|                       | []{#hevea_default418} |                       |
|                       |                       |                       |
|                       | *The Koch curve is a  |                       |
|                       | fractal that looks    |                       |
|                       | something like        |                       |
|                       | Figure                |                       |
|                       | *[*5.2*](#fig.koch)*. |                       |
|                       | To draw a Koch curve  |                       |
|                       | with length*          |                       |
|                       | [x]{.c009}*, all you  |                       |
|                       | have to do is*        |                       |
|                       |                       |                       |
|                       | 1.  *Draw a Koch      |                       |
|                       |     curve with        |                       |
|                       |     length*           |                       |
|                       |     [x]{.c009}/3*.*   |                       |
|                       | 2.  *Turn left 60     |                       |
|                       |     degrees.*         |                       |
|                       | 3.  *Draw a Koch      |                       |
|                       |     curve with        |                       |
|                       |     length*           |                       |
|                       |     [x]{.c009}/3*.*   |                       |
|                       | 4.  *Turn right 120   |                       |
|                       |     degrees.*         |                       |
|                       | 5.  *Draw a Koch      |                       |
|                       |     curve with        |                       |
|                       |     length*           |                       |
|                       |     [x]{.c009}/3*.*   |                       |
|                       | 6.  *Turn left 60     |                       |
|                       |     degrees.*         |                       |
|                       | 7.  *Draw a Koch      |                       |
|                       |     curve with        |                       |
|                       |     length*           |                       |
|                       |     [x]{.c009}/3*.*   |                       |
|                       |                       |                       |
|                       | *The exception is if* |                       |
|                       | [x]{.c009} *is less   |                       |
|                       | than 3: in that case, |                       |
|                       | you can just draw a   |                       |
|                       | straight line with    |                       |
|                       | length* [x]{.c009}*.* |                       |
|                       |                       |                       |
|                       | 1.  *Write a function |                       |
|                       |     called            |                       |
|                       |     [koch]{.c004}     |                       |
|                       |     that takes a      |                       |
|                       |     turtle and a      |                       |
|                       |     length as         |                       |
|                       |     parameters, and   |                       |
|                       |     that uses the     |                       |
|                       |     turtle to draw a  |                       |
|                       |     Koch curve with   |                       |
|                       |     the given         |                       |
|                       |     length.*          |                       |
|                       |                       |                       |
|                       | 2.  *Write a function |                       |
|                       |     called            |                       |
|                       |                       |                       |
|                       |    [snowflake]{.c004} |                       |
|                       |     that draws three  |                       |
|                       |     Koch curves to    |                       |
|                       |     make the outline  |                       |
|                       |     of a snowflake.*  |                       |
|                       |                       |                       |
|                       |     *Solution:*       |                       |
|                       |     [*[htt            |                       |
|                       | ps://thinkpython.com/ |                       |
|                       | code/koch.py]{.c004}* |                       |
|                       | ](https://thinkpython |                       |
|                       | .com/code/koch.py)*.* |                       |
|                       |                       |                       |
|                       | 3.  *The Koch curve   |                       |
|                       |     can be            |                       |
|                       |     generalized in    |                       |
|                       |     several ways.     |                       |
|                       |     See*              |                       |
|                       |     [*[http://en.wiki |                       |
|                       | pedia.org/wiki/Koch_s |                       |
|                       | nowflake]{.c004}*](ht |                       |
|                       | tp://en.wikipedia.org |                       |
|                       | /wiki/Koch_snowflake) |                       |
|                       |     *for examples and |                       |
|                       |     implement your    |                       |
|                       |     favorite.*        |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | [Buy this book at     |                       |
|                       | Amazon.com](ht        |                       |
|                       | tp://amzn.to/1VUYQUU) |                       |
+-----------------------+-----------------------+-----------------------+

------------------------------------------------------------------------

[![Previous](back.png)](thinkpython2005.html)
[![Up](up.png)](index.html) [![Next](next.png)](thinkpython2007.html)
---
generator: hevea 2.32
title: Fruitful functions
---

[![Previous](back.png)](thinkpython2006.html)
[![Up](up.png)](index.html) [![Next](next.png)](thinkpython2008.html)

------------------------------------------------------------------------

+-----------------------+-----------------------+-----------------------+
|                       | [Buy this book at     | #### Contribute       |
|                       | Amazon.com](ht        |                       |
|                       | tp://amzn.to/1VUYQUU) | If you would like to  |
|                       |                       | make a contribution   |
|                       | # Chapt               | to support my books,  |
|                       | er 6  Fruitful functi | you can use the       |
|                       | ons {#sec69 .chapter} | button below and pay  |
|                       |                       | with PayPal. Thank    |
|                       | []{#fruitchap}        | you!                  |
|                       |                       |                       |
|                       | Many of the Python    |   -----------         |
|                       | functions we have     | --------------------- |
|                       | used, such as the     | --------------------- |
|                       | math functions,       | --------------------- |
|                       | produce return        | --------------------- |
|                       | values. But the       |   Pay what you want:  |
|                       | functions we've       |   Small \$1           |
|                       | written are all void: | .00 USD Medium \$5.00 |
|                       | they have an effect,  |  USD Large \$10.00 US |
|                       | like printing a value | D X-Large \$20.00 USD |
|                       | or moving a turtle,   |  XX-Large \$50.00 USD |
|                       | but they don't have a |   -----------         |
|                       | return value. In this | --------------------- |
|                       | chapter you will      | --------------------- |
|                       | learn to write        | --------------------- |
|                       | fruitful functions.   | --------------------- |
|                       |                       |                       |
|                       | ## 6.1  Return val    | ![](                  |
|                       | ues {#sec70 .section} | https://www.paypalobj |
|                       |                       | ects.com/en_US/i/scr/ |
|                       | []{#hevea_default419} | pixel.gif){border="0" |
|                       |                       | width="1" height="1"} |
|                       | Calling the function  |                       |
|                       | generates a return    | ####                  |
|                       | value, which we       | Are you using one of  |
|                       | usually assign to a   | our books in a class? |
|                       | variable or use as    |                       |
|                       | part of an            | We\'d like to know    |
|                       | expression.           | about it. Please      |
|                       |                       | consider filling out  |
|                       | ``` verbatim          | [this short           |
|                       | e = math.exp(1.0)     | survey](http://s      |
|                       | height = radiu        | preadsheets.google.co |
|                       | s * math.sin(radians) | m/viewform?formkey=dC |
|                       | ```                   | 0tNUZkMjBEdXVoRGljNm9 |
|                       |                       | FRmlTMHc6MA){onclick= |
|                       | The functions we have | "javascript: pageTrac |
|                       | written so far are    | ker._trackPageview('/ |
|                       | void. Speaking        | outbound/survey');"}. |
|                       | casually, they have   |                       |
|                       | no return value; more | \                     |
|                       | precisely, their      |                       |
|                       | return value is       | [Think                |
|                       | [None]{.c004}.        | DSP](http             |
|                       |                       | ://www.amazon.com/gp/ |
|                       | In this chapter, we   | product/1491938455/re |
|                       | are (finally) going   | f=as_li_tl?ie=UTF8&ca |
|                       | to write fruitful     | mp=1789&creative=9325 |
|                       | functions. The first  | &creativeASIN=1491938 |
|                       | example is            | 455&linkCode=as2&tag= |
|                       | [area]{.c004}, which  | greenteapre01-20&link |
|                       | returns the area of a | Id=2JJH4SWCAVVYSQHO){ |
|                       | circle with the given | rel="nofollow"}![](ht |
|                       | radius:               | tp://ir-na.amazon-ads |
|                       |                       | ystem.com/e/ir?t=gree |
|                       | ``` verbatim          | nteapre01-20&l=as2&o= |
|                       | def area(radius):     | 1&a=1491938455){.c003 |
|                       |     a                 | width="1" height="1"  |
|                       | = math.pi * radius**2 | border="0"}           |
|                       |     return a          |                       |
|                       | ```                   | [                     |
|                       |                       | ![](http://ws-na.amaz |
|                       | We have seen the      | on-adsystem.com/widge |
|                       | [return]{.c004}       | ts/q?_encoding=UTF8&A |
|                       | statement before, but | SIN=1491938455&Format |
|                       | in a fruitful         | =_SL160_&ID=AsinImage |
|                       | function the          | &MarketPlace=US&Servi |
|                       | [return]{.c004}       | ceVersion=20070822&WS |
|                       | statement includes an | =1&tag=greenteapre01- |
|                       | expression. This      | 20){border="0"}](http |
|                       | statement means:      | ://www.amazon.com/gp/ |
|                       | "Return immediately   | product/1491938455/re |
|                       | from this function    | f=as_li_tl?ie=UTF8&ca |
|                       | and use the following | mp=1789&creative=9325 |
|                       | expression as a       | &creativeASIN=1491938 |
|                       | return value." The    | 455&linkCode=as2&tag= |
|                       | expression can be     | greenteapre01-20&link |
|                       | arbitrarily           | Id=CTV7PDT7E5EGGJUM){ |
|                       | complicated, so we    | rel="nofollow"}![](ht |
|                       | could have written    | tp://ir-na.amazon-ads |
|                       | this function more    | ystem.com/e/ir?t=gree |
|                       | concisely:            | nteapre01-20&l=as2&o= |
|                       | []{#hevea_default420} | 1&a=1491938455){.c003 |
|                       | []{#hevea_default421} | width="1" height="1"  |
|                       |                       | border="0"}           |
|                       | ``` verbatim          |                       |
|                       | def area(radius):     | [Think                |
|                       |     retur             | Java](http            |
|                       | n math.pi * radius**2 | ://www.amazon.com/gp/ |
|                       | ```                   | product/1491929561/re |
|                       |                       | f=as_li_tl?ie=UTF8&ca |
|                       | On the other hand,    | mp=1789&creative=9325 |
|                       | [temporary            | &creativeASIN=1491929 |
|                       | variables]{.c010}     | 561&linkCode=as2&tag= |
|                       | like [a]{.c004} can   | greenteapre01-20&link |
|                       | make debugging        | Id=ZY6MAYM33ZTNSCNZ){ |
|                       | easier.               | rel="nofollow"}![](ht |
|                       | []{#hevea_default422} | tp://ir-na.amazon-ads |
|                       | []{#hevea_default423} | ystem.com/e/ir?t=gree |
|                       |                       | nteapre01-20&l=as2&o= |
|                       | Sometimes it is       | 1&a=1491929561){.c003 |
|                       | useful to have        | width="1" height="1"  |
|                       | multiple return       | border="0"}           |
|                       | statements, one in    |                       |
|                       | each branch of a      | [                     |
|                       | conditional:          | ![](http://ws-na.amaz |
|                       |                       | on-adsystem.com/widge |
|                       | ``` verbatim          | ts/q?_encoding=UTF8&A |
|                       | d                     | SIN=1491929561&Format |
|                       | ef absolute_value(x): | =_SL160_&ID=AsinImage |
|                       |     if x < 0:         | &MarketPlace=US&Servi |
|                       |         return -x     | ceVersion=20070822&WS |
|                       |     else:             | =1&tag=greenteapre01- |
|                       |         return x      | 20){border="0"}](http |
|                       | ```                   | ://www.amazon.com/gp/ |
|                       |                       | product/1491929561/re |
|                       | Since these           | f=as_li_tl?ie=UTF8&ca |
|                       | [return]{.c004}       | mp=1789&creative=9325 |
|                       | statements are in an  | &creativeASIN=1491929 |
|                       | alternative           | 561&linkCode=as2&tag= |
|                       | conditional, only one | greenteapre01-20&link |
|                       | runs.                 | Id=PT77ANWARUNNU3UK){ |
|                       |                       | rel="nofollow"}![](ht |
|                       | As soon as a return   | tp://ir-na.amazon-ads |
|                       | statement runs, the   | ystem.com/e/ir?t=gree |
|                       | function terminates   | nteapre01-20&l=as2&o= |
|                       | without executing any | 1&a=1491929561){.c003 |
|                       | subsequent            | width="1" height="1"  |
|                       | statements. Code that | border="0"}           |
|                       | appears after a       |                       |
|                       | [return]{.c004}       | [Think                |
|                       | statement, or any     | Bay                   |
|                       | other place the flow  | es](http://www.amazon |
|                       | of execution can      | .com/gp/product/14493 |
|                       | never reach, is       | 70780/ref=as_li_qf_sp |
|                       | called [dead          | _asin_tl?ie=UTF8&camp |
|                       | code]{.c010}.         | =1789&creative=9325&c |
|                       | []{#hevea_default424} | reativeASIN=144937078 |
|                       |                       | 0&linkCode=as2&tag=gr |
|                       | In a fruitful         | eenteapre01-20)![](ht |
|                       | function, it is a     | tp://ir-na.amazon-ads |
|                       | good idea to ensure   | ystem.com/e/ir?t=gree |
|                       | that every possible   | nteapre01-20&l=as2&o= |
|                       | path through the      | 1&a=1449370780){.c003 |
|                       | program hits a        | width="1" height="1"  |
|                       | [return]{.c004}       | border="0"}           |
|                       | statement. For        |                       |
|                       | example:              | [![](http://ws        |
|                       |                       | -na.amazon-adsystem.c |
|                       | ``` verbatim          | om/widgets/q?_encodin |
|                       | d                     | g=UTF8&ASIN=144937078 |
|                       | ef absolute_value(x): | 0&Format=_SL160_&ID=A |
|                       |     if x < 0:         | sinImage&MarketPlace= |
|                       |         return -x     | US&ServiceVersion=200 |
|                       |     if x > 0:         | 70822&WS=1&tag=greent |
|                       |         return x      | eapre01-20){border="0 |
|                       | ```                   | "}](http://www.amazon |
|                       |                       | .com/gp/product/14493 |
|                       | This function is      | 70780/ref=as_li_qf_sp |
|                       | incorrect because if  | _asin_il?ie=UTF8&camp |
|                       | [x]{.c004} happens to | =1789&creative=9325&c |
|                       | be 0, neither         | reativeASIN=144937078 |
|                       | condition is true,    | 0&linkCode=as2&tag=gr |
|                       | and the function ends | eenteapre01-20)![](ht |
|                       | without hitting a     | tp://ir-na.amazon-ads |
|                       | [return]{.c004}       | ystem.com/e/ir?t=gree |
|                       | statement. If the     | nteapre01-20&l=as2&o= |
|                       | flow of execution     | 1&a=1449370780){.c003 |
|                       | gets to the end of a  | width="1" height="1"  |
|                       | function, the return  | border="0"}           |
|                       | value is              |                       |
|                       | [None]{.c004}, which  | [Think Python         |
|                       | is not the absolute   | 2e](http              |
|                       | value of 0.           | ://www.amazon.com/gp/ |
|                       | []{#hevea_default425} | product/1491939362/re |
|                       | []{#hevea_default426} | f=as_li_tl?ie=UTF8&ca |
|                       |                       | mp=1789&creative=9325 |
|                       | ``` verbatim          | &creativeASIN=1491939 |
|                       | >>> pri               | 362&linkCode=as2&tag= |
|                       | nt(absolute_value(0)) | greenteapre01-20&link |
|                       | None                  | Id=FJKSQ3IHEMY2F2VA){ |
|                       | ```                   | rel="nofollow"}![](ht |
|                       |                       | tp://ir-na.amazon-ads |
|                       | By the way, Python    | ystem.com/e/ir?t=gree |
|                       | provides a built-in   | nteapre01-20&l=as2&o= |
|                       | function called       | 1&a=1491939362){.c003 |
|                       | [abs]{.c004} that     | width="1" height="1"  |
|                       | computes absolute     | border="0"}           |
|                       | values.               |                       |
|                       | []{#hevea_default427} | [                     |
|                       | []{#hevea_default428} | ![](http://ws-na.amaz |
|                       |                       | on-adsystem.com/widge |
|                       | As an exercise, write | ts/q?_encoding=UTF8&A |
|                       | a [compare]{.c004}    | SIN=1491939362&Format |
|                       | function that takes   | =_SL160_&ID=AsinImage |
|                       | two values,           | &MarketPlace=US&Servi |
|                       | [x]{.c004} and        | ceVersion=20070822&WS |
|                       | [y]{.c004}, and       | =1&tag=greenteapre01- |
|                       | returns [1]{.c004} if | 20){border="0"}](http |
|                       | [x \> y]{.c004},      | ://www.amazon.com/gp/ |
|                       | [0]{.c004} if [x ==   | product/1491939362/re |
|                       | y]{.c004}, and        | f=as_li_tl?ie=UTF8&ca |
|                       | [-1]{.c004} if [x \<  | mp=1789&creative=9325 |
|                       | y]{.c004}.            | &creativeASIN=1491939 |
|                       | []{#hevea_default429} | 362&linkCode=as2&tag= |
|                       | []{#hevea_default430} | greenteapre01-20&link |
|                       |                       | Id=ZZ454DLQ3IXDHNHX){ |
|                       | ## 6.2                | rel="nofollow"}![](ht |
|                       |  Incremental developm | tp://ir-na.amazon-ads |
|                       | ent {#sec71 .section} | ystem.com/e/ir?t=gree |
|                       |                       | nteapre01-20&l=as2&o= |
|                       | []{#inc               | 1&a=1491939362){.c003 |
|                       | remental.development} | width="1" height="1"  |
|                       | []{#hevea_default431} | border="0"}           |
|                       |                       |                       |
|                       | As you write larger   | [Think Stats          |
|                       | functions, you might  | 2e](http://ww         |
|                       | find yourself         | w.amazon.com/gp/produ |
|                       | spending more time    | ct/1491907339/ref=as_ |
|                       | debugging.            | li_tl?ie=UTF8&camp=17 |
|                       |                       | 89&creative=9325&crea |
|                       | To deal with          | tiveASIN=1491907339&l |
|                       | increasingly complex  | inkCode=as2&tag=green |
|                       | programs, you might   | teapre01-20&linkId=O7 |
|                       | want to try a process | WYM6H6YBYUFNWU)![](ht |
|                       | called [incremental   | tp://ir-na.amazon-ads |
|                       | development]{.c010}.  | ystem.com/e/ir?t=gree |
|                       | The goal of           | nteapre01-20&l=as2&o= |
|                       | incremental           | 1&a=1491907339){.c003 |
|                       | development is to     | width="1" height="1"  |
|                       | avoid long debugging  | border="0"}           |
|                       | sessions by adding    |                       |
|                       | and testing only a    | [![](h                |
|                       | small amount of code  | ttp://ws-na.amazon-ad |
|                       | at a time.            | system.com/widgets/q? |
|                       | []{#hevea_default432} | _encoding=UTF8&ASIN=1 |
|                       | []{#hevea_default433} | 491907339&Format=_SL1 |
|                       |                       | 60_&ID=AsinImage&Mark |
|                       | As an example,        | etPlace=US&ServiceVer |
|                       | suppose you want to   | sion=20070822&WS=1&ta |
|                       | find the distance     | g=greenteapre01-20){b |
|                       | between two points,   | order="0"}](http://ww |
|                       | given by the          | w.amazon.com/gp/produ |
|                       | coordinates           | ct/1491907339/ref=as_ |
|                       | ([x]{.c009}~1~,       | li_tl?ie=UTF8&camp=17 |
|                       | [y]{.c009}~1~) and    | 89&creative=9325&crea |
|                       | ([x]{.c009}~2~,       | tiveASIN=1491907339&l |
|                       | [y]{.c009}~2~). By    | inkCode=as2&tag=green |
|                       | the Pythagorean       | teapre01-20&linkId=JV |
|                       | theorem, the distance | SYKQHYSUIEYRHL)![](ht |
|                       | is:                   | tp://ir-na.amazon-ads |
|                       |                       | ystem.com/e/ir?t=gree |
|                       | <table                | nteapre01-20&l=as2&o= |
|                       | cla                   | 1&a=1491907339){.c003 |
|                       | ss="display dcenter"> | width="1" height="1"  |
|                       | <colgroup>            | border="0"}           |
|                       | <col                  |                       |
|                       | style="width: 33%" /> | [Think                |
|                       | <col                  | Complexity](http      |
|                       | style="width: 33%" /> | ://www.amazon.com/gp/ |
|                       | <col                  | product/1449314635/re |
|                       | style="width: 33%" /> | f=as_li_tf_tl?ie=UTF8 |
|                       | </colgroup>           | &tag=greenteapre01-20 |
|                       | <tbody>               | &linkCode=as2&camp=17 |
|                       | <tr                   | 89&creative=9325&crea |
|                       | class="odd c017">     | tiveASIN=1449314635)! |
|                       | <td                   | [](http://www.assoc-a |
|                       | class="dcell"><span   | mazon.com/e/ir?t=gree |
|                       | class="c009">di       | nteapre01-20&l=as2&o= |
|                       | stance</span> = </td> | 1&a=1449314635){.c003 |
|                       | <td                   | width="1" height="1"  |
|                       | class="dcell"><span   | border="0"}           |
|                       | class                 |                       |
|                       | ="c008">√</span></td> | [                     |
|                       | <td                   | ![](http://ws-na.amaz |
|                       | class="dcell"><table  | on-adsystem.com/widge |
|                       | class                 | ts/q?_encoding=UTF8&A |
|                       | ="c002 cellpadding0"> | SIN=1449314635&Format |
|                       | <tbody>               | =_SL160_&ID=AsinImage |
|                       | <tr class="odd">      | &MarketPlace=US&Servi |
|                       | <td                   | ceVersion=20070822&WS |
|                       | class="hbar"></td>    | =1&tag=greenteapre01- |
|                       | </tr>                 | 20){border="0"}](http |
|                       | <tr class="even">     | ://www.amazon.com/gp/ |
|                       | <td                   | product/1449314635/re |
|                       | class="c012">(<span   | f=as_li_tf_il?ie=UTF8 |
|                       | class="c009">x</span  | &camp=1789&creative=9 |
|                       | ><sub>2</sub> − <span | 325&creativeASIN=1449 |
|                       | class="c009">         | 314635&linkCode=as2&t |
|                       | x</span><sub>1</sub>) | ag=greenteapre01-20)! |
|                       | <sup>2</sup> + (<span | [](http://www.assoc-a |
|                       | class="c009">y</span  | mazon.com/e/ir?t=gree |
|                       | ><sub>2</sub> − <span | nteapre01-20&l=as2&o= |
|                       | class="c0             | 1&a=1449314635){.c003 |
|                       | 09">y</span><sub>1</s | width="1" height="1"  |
|                       | ub>)<sup>2</sup></td> | border="0"}           |
|                       | </tr>                 |                       |
|                       | </tbody>              |                       |
|                       | </table></td>         |                       |
|                       | </tr>                 |                       |
|                       | </tbody>              |                       |
|                       | </table>              |                       |
|                       |                       |                       |
|                       | The first step is to  |                       |
|                       | consider what a       |                       |
|                       | [distance]{.c004}     |                       |
|                       | function should look  |                       |
|                       | like in Python. In    |                       |
|                       | other words, what are |                       |
|                       | the inputs            |                       |
|                       | (parameters) and what |                       |
|                       | is the output (return |                       |
|                       | value)?               |                       |
|                       |                       |                       |
|                       | In this case, the     |                       |
|                       | inputs are two        |                       |
|                       | points, which you can |                       |
|                       | represent using four  |                       |
|                       | numbers. The return   |                       |
|                       | value is the distance |                       |
|                       | represented by a      |                       |
|                       | floating-point value. |                       |
|                       |                       |                       |
|                       | Immediately you can   |                       |
|                       | write an outline of   |                       |
|                       | the function:         |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def dist              |                       |
|                       | ance(x1, y1, x2, y2): |                       |
|                       |     return 0.0        |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | Obviously, this       |                       |
|                       | version doesn't       |                       |
|                       | compute distances; it |                       |
|                       | always returns zero.  |                       |
|                       | But it is             |                       |
|                       | syntactically         |                       |
|                       | correct, and it runs, |                       |
|                       | which means that you  |                       |
|                       | can test it before    |                       |
|                       | you make it more      |                       |
|                       | complicated.          |                       |
|                       |                       |                       |
|                       | To test the new       |                       |
|                       | function, call it     |                       |
|                       | with sample           |                       |
|                       | arguments:            |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>>                   |                       |
|                       |  distance(1, 2, 4, 6) |                       |
|                       | 0.0                   |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | I chose these values  |                       |
|                       | so that the           |                       |
|                       | horizontal distance   |                       |
|                       | is 3 and the vertical |                       |
|                       | distance is 4; that   |                       |
|                       | way, the result is 5, |                       |
|                       | the hypotenuse of a   |                       |
|                       | 3-4-5 right triangle. |                       |
|                       | When testing a        |                       |
|                       | function, it is       |                       |
|                       | useful to know the    |                       |
|                       | right answer.         |                       |
|                       | []{#hevea_default434} |                       |
|                       |                       |                       |
|                       | At this point we have |                       |
|                       | confirmed that the    |                       |
|                       | function is           |                       |
|                       | syntactically         |                       |
|                       | correct, and we can   |                       |
|                       | start adding code to  |                       |
|                       | the body. A           |                       |
|                       | reasonable next step  |                       |
|                       | is to find the        |                       |
|                       | differences           |                       |
|                       | [x]{.c009}~2~ −       |                       |
|                       | [x]{.c009}~1~ and     |                       |
|                       | [y]{.c009}~2~ −       |                       |
|                       | [y]{.c009}~1~. The    |                       |
|                       | next version stores   |                       |
|                       | those values in       |                       |
|                       | temporary variables   |                       |
|                       | and prints them.      |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def dist              |                       |
|                       | ance(x1, y1, x2, y2): |                       |
|                       |     dx = x2 - x1      |                       |
|                       |     dy = y2 - y1      |                       |
|                       |                       |                       |
|                       |    print('dx is', dx) |                       |
|                       |                       |                       |
|                       |    print('dy is', dy) |                       |
|                       |     return 0.0        |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | If the function is    |                       |
|                       | working, it should    |                       |
|                       | display `dx is 3` and |                       |
|                       | `dy is 4`. If so, we  |                       |
|                       | know that the         |                       |
|                       | function is getting   |                       |
|                       | the right arguments   |                       |
|                       | and performing the    |                       |
|                       | first computation     |                       |
|                       | correctly. If not,    |                       |
|                       | there are only a few  |                       |
|                       | lines to check.       |                       |
|                       |                       |                       |
|                       | Next we compute the   |                       |
|                       | sum of squares of     |                       |
|                       | [dx]{.c004} and       |                       |
|                       | [dy]{.c004}:          |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def dist              |                       |
|                       | ance(x1, y1, x2, y2): |                       |
|                       |     dx = x2 - x1      |                       |
|                       |     dy = y2 - y1      |                       |
|                       |     dsq               |                       |
|                       | uared = dx**2 + dy**2 |                       |
|                       |     print('dsqu       |                       |
|                       | ared is: ', dsquared) |                       |
|                       |     return 0.0        |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | Again, you would run  |                       |
|                       | the program at this   |                       |
|                       | stage and check the   |                       |
|                       | output (which should  |                       |
|                       | be 25). Finally, you  |                       |
|                       | can use               |                       |
|                       | [math.sqrt]{.c004} to |                       |
|                       | compute and return    |                       |
|                       | the result:           |                       |
|                       | []{#hevea_default435} |                       |
|                       | []{#hevea_default436} |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def dist              |                       |
|                       | ance(x1, y1, x2, y2): |                       |
|                       |     dx = x2 - x1      |                       |
|                       |     dy = y2 - y1      |                       |
|                       |     dsq               |                       |
|                       | uared = dx**2 + dy**2 |                       |
|                       |     result            |                       |
|                       | = math.sqrt(dsquared) |                       |
|                       |     return result     |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | If that works         |                       |
|                       | correctly, you are    |                       |
|                       | done. Otherwise, you  |                       |
|                       | might want to print   |                       |
|                       | the value of          |                       |
|                       | [result]{.c004}       |                       |
|                       | before the return     |                       |
|                       | statement.            |                       |
|                       |                       |                       |
|                       | The final version of  |                       |
|                       | the function doesn't  |                       |
|                       | display anything when |                       |
|                       | it runs; it only      |                       |
|                       | returns a value. The  |                       |
|                       | [print]{.c004}        |                       |
|                       | statements we wrote   |                       |
|                       | are useful for        |                       |
|                       | debugging, but once   |                       |
|                       | you get the function  |                       |
|                       | working, you should   |                       |
|                       | remove them. Code     |                       |
|                       | like that is called   |                       |
|                       | [scaffolding]{.c010}  |                       |
|                       | because it is helpful |                       |
|                       | for building the      |                       |
|                       | program but is not    |                       |
|                       | part of the final     |                       |
|                       | product.              |                       |
|                       | []{#hevea_default437} |                       |
|                       |                       |                       |
|                       | When you start out,   |                       |
|                       | you should add only a |                       |
|                       | line or two of code   |                       |
|                       | at a time. As you     |                       |
|                       | gain more experience, |                       |
|                       | you might find        |                       |
|                       | yourself writing and  |                       |
|                       | debugging bigger      |                       |
|                       | chunks. Either way,   |                       |
|                       | incremental           |                       |
|                       | development can save  |                       |
|                       | you a lot of          |                       |
|                       | debugging time.       |                       |
|                       |                       |                       |
|                       | The key aspects of    |                       |
|                       | the process are:      |                       |
|                       |                       |                       |
|                       | 1.  Start with a      |                       |
|                       |     working program   |                       |
|                       |     and make small    |                       |
|                       |     incremental       |                       |
|                       |     changes. At any   |                       |
|                       |     point, if there   |                       |
|                       |     is an error, you  |                       |
|                       |     should have a     |                       |
|                       |     good idea where   |                       |
|                       |     it is.            |                       |
|                       | 2.  Use variables to  |                       |
|                       |     hold intermediate |                       |
|                       |     values so you can |                       |
|                       |     display and check |                       |
|                       |     them.             |                       |
|                       | 3.  Once the program  |                       |
|                       |     is working, you   |                       |
|                       |     might want to     |                       |
|                       |     remove some of    |                       |
|                       |     the scaffolding   |                       |
|                       |     or consolidate    |                       |
|                       |     multiple          |                       |
|                       |     statements into   |                       |
|                       |     compound          |                       |
|                       |     expressions, but  |                       |
|                       |     only if it does   |                       |
|                       |     not make the      |                       |
|                       |     program difficult |                       |
|                       |     to read.          |                       |
|                       |                       |                       |
|                       | As an exercise, use   |                       |
|                       | incremental           |                       |
|                       | development to write  |                       |
|                       | a function called     |                       |
|                       | [hypotenuse]{.c004}   |                       |
|                       | that returns the      |                       |
|                       | length of the         |                       |
|                       | hypotenuse of a right |                       |
|                       | triangle given the    |                       |
|                       | lengths of the other  |                       |
|                       | two legs as           |                       |
|                       | arguments. Record     |                       |
|                       | each stage of the     |                       |
|                       | development process   |                       |
|                       | as you go.            |                       |
|                       | []{#hevea_default438} |                       |
|                       |                       |                       |
|                       | ## 6.3  Composit      |                       |
|                       | ion {#sec72 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default439} |                       |
|                       | []{#hevea_default440} |                       |
|                       |                       |                       |
|                       | As you should expect  |                       |
|                       | by now, you can call  |                       |
|                       | one function from     |                       |
|                       | within another. As an |                       |
|                       | example, we'll write  |                       |
|                       | a function that takes |                       |
|                       | two points, the       |                       |
|                       | center of the circle  |                       |
|                       | and a point on the    |                       |
|                       | perimeter, and        |                       |
|                       | computes the area of  |                       |
|                       | the circle.           |                       |
|                       |                       |                       |
|                       | Assume that the       |                       |
|                       | center point is       |                       |
|                       | stored in the         |                       |
|                       | variables [xc]{.c004} |                       |
|                       | and [yc]{.c004}, and  |                       |
|                       | the perimeter point   |                       |
|                       | is in [xp]{.c004} and |                       |
|                       | [yp]{.c004}. The      |                       |
|                       | first step is to find |                       |
|                       | the radius of the     |                       |
|                       | circle, which is the  |                       |
|                       | distance between the  |                       |
|                       | two points. We just   |                       |
|                       | wrote a function,     |                       |
|                       | [distance]{.c004},    |                       |
|                       | that does that:       |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | radius = dis          |                       |
|                       | tance(xc, yc, xp, yp) |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | The next step is to   |                       |
|                       | find the area of a    |                       |
|                       | circle with that      |                       |
|                       | radius; we just wrote |                       |
|                       | that, too:            |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | result = area(radius) |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | Encapsulating these   |                       |
|                       | steps in a function,  |                       |
|                       | we get:               |                       |
|                       | []{#hevea_default441} |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def circle_           |                       |
|                       | area(xc, yc, xp, yp): |                       |
|                       |     radius = dis      |                       |
|                       | tance(xc, yc, xp, yp) |                       |
|                       |                       |                       |
|                       | result = area(radius) |                       |
|                       |     return result     |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | The temporary         |                       |
|                       | variables             |                       |
|                       | [radius]{.c004} and   |                       |
|                       | [result]{.c004} are   |                       |
|                       | useful for            |                       |
|                       | development and       |                       |
|                       | debugging, but once   |                       |
|                       | the program is        |                       |
|                       | working, we can make  |                       |
|                       | it more concise by    |                       |
|                       | composing the         |                       |
|                       | function calls:       |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def circle_           |                       |
|                       | area(xc, yc, xp, yp): |                       |
|                       |     return area(dist  |                       |
|                       | ance(xc, yc, xp, yp)) |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | #                     |                       |
|                       | # 6.4  Boolean functi |                       |
|                       | ons {#sec73 .section} |                       |
|                       |                       |                       |
|                       | []{#boolean}          |                       |
|                       |                       |                       |
|                       | Functions can return  |                       |
|                       | booleans, which is    |                       |
|                       | often convenient for  |                       |
|                       | hiding complicated    |                       |
|                       | tests inside          |                       |
|                       | functions.            |                       |
|                       | []{#hevea_default442} |                       |
|                       | For example:          |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | de                    |                       |
|                       | f is_divisible(x, y): |                       |
|                       |     if x % y == 0:    |                       |
|                       |         return True   |                       |
|                       |     else:             |                       |
|                       |         return False  |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | It is common to give  |                       |
|                       | boolean functions     |                       |
|                       | names that sound like |                       |
|                       | yes/no questions;     |                       |
|                       | `is_divisible`        |                       |
|                       | returns either        |                       |
|                       | [True]{.c004} or      |                       |
|                       | [False]{.c004} to     |                       |
|                       | indicate whether      |                       |
|                       | [x]{.c004} is         |                       |
|                       | divisible by          |                       |
|                       | [y]{.c004}.           |                       |
|                       |                       |                       |
|                       | Here is an example:   |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >                     |                       |
|                       | >> is_divisible(6, 4) |                       |
|                       | False                 |                       |
|                       | >                     |                       |
|                       | >> is_divisible(6, 3) |                       |
|                       | True                  |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | The result of the     |                       |
|                       | [==]{.c004} operator  |                       |
|                       | is a boolean, so we   |                       |
|                       | can write the         |                       |
|                       | function more         |                       |
|                       | concisely by          |                       |
|                       | returning it          |                       |
|                       | directly:             |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | de                    |                       |
|                       | f is_divisible(x, y): |                       |
|                       |     return x % y == 0 |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | Boolean functions are |                       |
|                       | often used in         |                       |
|                       | conditional           |                       |
|                       | statements:           |                       |
|                       | []{#hevea_default443} |                       |
|                       | []{#hevea_default444} |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | i                     |                       |
|                       | f is_divisible(x, y): |                       |
|                       |     print('           |                       |
|                       | x is divisible by y') |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | It might be tempting  |                       |
|                       | to write something    |                       |
|                       | like:                 |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | if is_div             |                       |
|                       | isible(x, y) == True: |                       |
|                       |     print('           |                       |
|                       | x is divisible by y') |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | But the extra         |                       |
|                       | comparison is         |                       |
|                       | unnecessary.          |                       |
|                       |                       |                       |
|                       | As an exercise, write |                       |
|                       | a function            |                       |
|                       | `is_between(x, y, z)` |                       |
|                       | that returns          |                       |
|                       | [True]{.c004} if      |                       |
|                       | [x]{.c009} ≤          |                       |
|                       | [y]{.c009} ≤          |                       |
|                       | [z]{.c009} or         |                       |
|                       | [False]{.c004}        |                       |
|                       | otherwise.            |                       |
|                       |                       |                       |
|                       | ## 6.5  More recurs   |                       |
|                       | ion {#sec74 .section} |                       |
|                       |                       |                       |
|                       | []{#more.recursion}   |                       |
|                       | []{#hevea_default445} |                       |
|                       | []{#hevea_default446} |                       |
|                       | []{#hevea_default447} |                       |
|                       | []{#hevea_default448} |                       |
|                       | []{#hevea_default449} |                       |
|                       |                       |                       |
|                       | We have only covered  |                       |
|                       | a small subset of     |                       |
|                       | Python, but you might |                       |
|                       | be interested to know |                       |
|                       | that this subset is a |                       |
|                       | *complete*            |                       |
|                       | programming language, |                       |
|                       | which means that      |                       |
|                       | anything that can be  |                       |
|                       | computed can be       |                       |
|                       | expressed in this     |                       |
|                       | language. Any program |                       |
|                       | ever written could be |                       |
|                       | rewritten using only  |                       |
|                       | the language features |                       |
|                       | you have learned so   |                       |
|                       | far (actually, you    |                       |
|                       | would need a few      |                       |
|                       | commands to control   |                       |
|                       | devices like the      |                       |
|                       | mouse, disks, etc.,   |                       |
|                       | but that's all).      |                       |
|                       |                       |                       |
|                       | Proving that claim is |                       |
|                       | a nontrivial exercise |                       |
|                       | first accomplished by |                       |
|                       | Alan Turing, one of   |                       |
|                       | the first computer    |                       |
|                       | scientists (some      |                       |
|                       | would argue that he   |                       |
|                       | was a mathematician,  |                       |
|                       | but a lot of early    |                       |
|                       | computer scientists   |                       |
|                       | started as            |                       |
|                       | mathematicians).      |                       |
|                       | Accordingly, it is    |                       |
|                       | known as the Turing   |                       |
|                       | Thesis. For a more    |                       |
|                       | complete (and         |                       |
|                       | accurate) discussion  |                       |
|                       | of the Turing Thesis, |                       |
|                       | I recommend Michael   |                       |
|                       | Sipser's book         |                       |
|                       | *Introduction to the  |                       |
|                       | Theory of             |                       |
|                       | Computation*.         |                       |
|                       |                       |                       |
|                       | To give you an idea   |                       |
|                       | of what you can do    |                       |
|                       | with the tools you    |                       |
|                       | have learned so far,  |                       |
|                       | we'll evaluate a few  |                       |
|                       | recursively defined   |                       |
|                       | mathematical          |                       |
|                       | functions. A          |                       |
|                       | recursive definition  |                       |
|                       | is similar to a       |                       |
|                       | circular definition,  |                       |
|                       | in the sense that the |                       |
|                       | definition contains a |                       |
|                       | reference to the      |                       |
|                       | thing being defined.  |                       |
|                       | A truly circular      |                       |
|                       | definition is not     |                       |
|                       | very useful:          |                       |
|                       |                       |                       |
|                       | [vorpal:]{.c010}      |                       |
|                       | :   An adjective used |                       |
|                       |     to describe       |                       |
|                       |     something that is |                       |
|                       |     vorpal.           |                       |
|                       |                       |                       |
|                       | []{#hevea_default450} |                       |
|                       |                       |                       |
|                       | []{#hevea_default451} |                       |
|                       |                       |                       |
|                       | []{#hevea_default452} |                       |
|                       |                       |                       |
|                       | If you saw that       |                       |
|                       | definition in the     |                       |
|                       | dictionary, you might |                       |
|                       | be annoyed. On the    |                       |
|                       | other hand, if you    |                       |
|                       | looked up the         |                       |
|                       | definition of the     |                       |
|                       | factorial function,   |                       |
|                       | denoted with the      |                       |
|                       | symbol !, you might   |                       |
|                       | get something like    |                       |
|                       | this:                 |                       |
|                       |                       |                       |
|                       | +------------------+  |                       |
|                       | |   --             |  |                       |
|                       | | - --- ---------- |  |                       |
|                       | | ---------------- |  |                       |
|                       | | ---------------- |  |                       |
|                       | |                  |  |                       |
|                       | |          0! = 1  |  |                       |
|                       | |                  |  |                       |
|                       | |         [n]{.c00 |  |                       |
|                       | | 9}! = [n]{.c009} |  |                       |
|                       | |  ([n]{.c009}−1)! |  |                       |
|                       | |   --             |  |                       |
|                       | | - --- ---------- |  |                       |
|                       | | ---------------- |  |                       |
|                       | | ---------------- |  |                       |
|                       | +------------------+  |                       |
|                       |                       |                       |
|                       | This definition says  |                       |
|                       | that the factorial of |                       |
|                       | 0 is 1, and the       |                       |
|                       | factorial of any      |                       |
|                       | other value,          |                       |
|                       | [n]{.c009}, is        |                       |
|                       | [n]{.c009} multiplied |                       |
|                       | by the factorial of   |                       |
|                       | [n]{.c009}−1.         |                       |
|                       |                       |                       |
|                       | So 3! is 3 times 2!,  |                       |
|                       | which is 2 times 1!,  |                       |
|                       | which is 1 times 0!.  |                       |
|                       | Putting it all        |                       |
|                       | together, 3! equals 3 |                       |
|                       | times 2 times 1 times |                       |
|                       | 1, which is 6.        |                       |
|                       | []{#hevea_default453} |                       |
|                       | []{#hevea_default454} |                       |
|                       | []{#hevea_default455} |                       |
|                       |                       |                       |
|                       | If you can write a    |                       |
|                       | recursive definition  |                       |
|                       | of something, you can |                       |
|                       | write a Python        |                       |
|                       | program to evaluate   |                       |
|                       | it. The first step is |                       |
|                       | to decide what the    |                       |
|                       | parameters should be. |                       |
|                       | In this case it       |                       |
|                       | should be clear that  |                       |
|                       | [factorial]{.c004}    |                       |
|                       | takes an integer:     |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def factorial(n):     |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | If the argument       |                       |
|                       | happens to be 0, all  |                       |
|                       | we have to do is      |                       |
|                       | return 1:             |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def factorial(n):     |                       |
|                       |     if n == 0:        |                       |
|                       |         return 1      |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | Otherwise, and this   |                       |
|                       | is the interesting    |                       |
|                       | part, we have to make |                       |
|                       | a recursive call to   |                       |
|                       | find the factorial of |                       |
|                       | [n]{.c009}−1 and then |                       |
|                       | multiply it by        |                       |
|                       | [n]{.c009}:           |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def factorial(n):     |                       |
|                       |     if n == 0:        |                       |
|                       |         return 1      |                       |
|                       |     else:             |                       |
|                       |         rec           |                       |
|                       | urse = factorial(n-1) |                       |
|                       |                       |                       |
|                       |  result = n * recurse |                       |
|                       |         return result |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | The flow of execution |                       |
|                       | for this program is   |                       |
|                       | similar to the flow   |                       |
|                       | of [countdown]{.c004} |                       |
|                       | in                    |                       |
|                       | Sect                  |                       |
|                       | ion [5.8](thinkpython |                       |
|                       | 2006.html#recursion). |                       |
|                       | If we call            |                       |
|                       | [factorial]{.c004}    |                       |
|                       | with the value 3:     |                       |
|                       |                       |                       |
|                       | Since 3 is not 0, we  |                       |
|                       | take the second       |                       |
|                       | branch and calculate  |                       |
|                       | the factorial of      |                       |
|                       | [n-1]{.c004}\...      |                       |
|                       |                       |                       |
|                       | > Since 2 is not 0,   |                       |
|                       | > we take the second  |                       |
|                       | > branch and          |                       |
|                       | > calculate the       |                       |
|                       | > factorial of        |                       |
|                       | > [n-1]{.c004}\...    |                       |
|                       | >                     |                       |
|                       | > > Since 1 is not 0, |                       |
|                       | > > we take the       |                       |
|                       | > > second branch and |                       |
|                       | > > calculate the     |                       |
|                       | > > factorial of      |                       |
|                       | > > [n-1]{.c004}\...  |                       |
|                       | > >                   |                       |
|                       | > > > Since 0 equals  |                       |
|                       | > > > 0, we take the  |                       |
|                       | > > > first branch    |                       |
|                       | > > > and return 1    |                       |
|                       | > > > without making  |                       |
|                       | > > > any more        |                       |
|                       | > > > recursive       |                       |
|                       | > > > calls.          |                       |
|                       | > >                   |                       |
|                       | > > The return value, |                       |
|                       | > > 1, is multiplied  |                       |
|                       | > > by [n]{.c009},    |                       |
|                       | > > which is 1, and   |                       |
|                       | > > the result is     |                       |
|                       | > > returned.         |                       |
|                       | >                     |                       |
|                       | > The return value,   |                       |
|                       | > 1, is multiplied by |                       |
|                       | > [n]{.c009}, which   |                       |
|                       | > is 2, and the       |                       |
|                       | > result is returned. |                       |
|                       |                       |                       |
|                       | The return value (2)  |                       |
|                       | is multiplied by      |                       |
|                       | [n]{.c009}, which is  |                       |
|                       | 3, and the result, 6, |                       |
|                       | becomes the return    |                       |
|                       | value of the function |                       |
|                       | call that started the |                       |
|                       | whole process.        |                       |
|                       | []{#hevea_default456} |                       |
|                       |                       |                       |
|                       | Figu                  |                       |
|                       | re [6.1](#fig.stack3) |                       |
|                       | shows what the stack  |                       |
|                       | diagram looks like    |                       |
|                       | for this sequence of  |                       |
|                       | function calls.       |                       |
|                       |                       |                       |
|                       | > ::: center          |                       |
|                       | >                     |                       |
|                       | > ------------------- |                       |
|                       | > :::                 |                       |
|                       | >                     |                       |
|                       | > ::: center          |                       |
|                       | > ![]                 |                       |
|                       | (thinkpython2007.png) |                       |
|                       | > :::                 |                       |
|                       | >                     |                       |
|                       | > ::: caption         |                       |
|                       | >   -------           |                       |
|                       | --------------------- |                       |
|                       | >   Figur             |                       |
|                       | e 6.1: Stack diagram. |                       |
|                       | >   -------           |                       |
|                       | --------------------- |                       |
|                       | > :::                 |                       |
|                       | >                     |                       |
|                       | > []{#fig.stack3}     |                       |
|                       | >                     |                       |
|                       | > ::: center          |                       |
|                       | >                     |                       |
|                       | > ------------------- |                       |
|                       | > :::                 |                       |
|                       |                       |                       |
|                       | The return values are |                       |
|                       | shown being passed    |                       |
|                       | back up the stack. In |                       |
|                       | each frame, the       |                       |
|                       | return value is the   |                       |
|                       | value of              |                       |
|                       | [result]{.c004},      |                       |
|                       | which is the product  |                       |
|                       | of [n]{.c004} and     |                       |
|                       | [recurse]{.c004}.     |                       |
|                       | []{#hevea_default457} |                       |
|                       | []{#hevea_default458} |                       |
|                       |                       |                       |
|                       | In the last frame,    |                       |
|                       | the local variables   |                       |
|                       | [recurse]{.c004} and  |                       |
|                       | [result]{.c004} do    |                       |
|                       | not exist, because    |                       |
|                       | the branch that       |                       |
|                       | creates them does not |                       |
|                       | run.                  |                       |
|                       |                       |                       |
|                       | ## 6.6  Leap of fa    |                       |
|                       | ith {#sec75 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default459} |                       |
|                       | []{#hevea_default460} |                       |
|                       |                       |                       |
|                       | Following the flow of |                       |
|                       | execution is one way  |                       |
|                       | to read programs, but |                       |
|                       | it can quickly become |                       |
|                       | overwhelming. An      |                       |
|                       | alternative is what I |                       |
|                       | call the "leap of     |                       |
|                       | faith". When you come |                       |
|                       | to a function call,   |                       |
|                       | instead of following  |                       |
|                       | the flow of           |                       |
|                       | execution, you        |                       |
|                       | *assume* that the     |                       |
|                       | function works        |                       |
|                       | correctly and returns |                       |
|                       | the right result.     |                       |
|                       |                       |                       |
|                       | In fact, you are      |                       |
|                       | already practicing    |                       |
|                       | this leap of faith    |                       |
|                       | when you use built-in |                       |
|                       | functions. When you   |                       |
|                       | call                  |                       |
|                       | [math.cos]{.c004} or  |                       |
|                       | [math.exp]{.c004},    |                       |
|                       | you don't examine the |                       |
|                       | bodies of those       |                       |
|                       | functions. You just   |                       |
|                       | assume that they work |                       |
|                       | because the people    |                       |
|                       | who wrote the         |                       |
|                       | built-in functions    |                       |
|                       | were good             |                       |
|                       | programmers.          |                       |
|                       |                       |                       |
|                       | The same is true when |                       |
|                       | you call one of your  |                       |
|                       | own functions. For    |                       |
|                       | example, in           |                       |
|                       | Sec                   |                       |
|                       | tion [6.4](#boolean), |                       |
|                       | we wrote a function   |                       |
|                       | called `is_divisible` |                       |
|                       | that determines       |                       |
|                       | whether one number is |                       |
|                       | divisible by another. |                       |
|                       | Once we have          |                       |
|                       | convinced ourselves   |                       |
|                       | that this function is |                       |
|                       | correct---by          |                       |
|                       | examining the code    |                       |
|                       | and testing---we can  |                       |
|                       | use the function      |                       |
|                       | without looking at    |                       |
|                       | the body again.       |                       |
|                       | []{#hevea_default461} |                       |
|                       |                       |                       |
|                       | The same is true of   |                       |
|                       | recursive programs.   |                       |
|                       | When you get to the   |                       |
|                       | recursive call,       |                       |
|                       | instead of following  |                       |
|                       | the flow of           |                       |
|                       | execution, you should |                       |
|                       | assume that the       |                       |
|                       | recursive call works  |                       |
|                       | (returns the correct  |                       |
|                       | result) and then ask  |                       |
|                       | yourself, "Assuming   |                       |
|                       | that I can find the   |                       |
|                       | factorial of          |                       |
|                       | [n]{.c009}−1, can I   |                       |
|                       | compute the factorial |                       |
|                       | of [n]{.c009}?" It is |                       |
|                       | clear that you can,   |                       |
|                       | by multiplying by     |                       |
|                       | [n]{.c009}.           |                       |
|                       |                       |                       |
|                       | Of course, it's a bit |                       |
|                       | strange to assume     |                       |
|                       | that the function     |                       |
|                       | works correctly when  |                       |
|                       | you haven't finished  |                       |
|                       | writing it, but       |                       |
|                       | that's why it's       |                       |
|                       | called a leap of      |                       |
|                       | faith!                |                       |
|                       |                       |                       |
|                       | ## 6.7  One more exam |                       |
|                       | ple {#sec76 .section} |                       |
|                       |                       |                       |
|                       | []{#one.more.example} |                       |
|                       |                       |                       |
|                       | []{#hevea_default462} |                       |
|                       | []{#hevea_default463} |                       |
|                       | After                 |                       |
|                       | [factorial]{.c004},   |                       |
|                       | the most common       |                       |
|                       | example of a          |                       |
|                       | recursively defined   |                       |
|                       | mathematical function |                       |
|                       | is                    |                       |
|                       | [fibonacci]{.c004},   |                       |
|                       | which has the         |                       |
|                       | following definition  |                       |
|                       | (see                  |                       |
|                       | [[http://en.wikipedia |                       |
|                       | .org/wiki/Fibonacci_n |                       |
|                       | umber]{.c004}](http:/ |                       |
|                       | /en.wikipedia.org/wik |                       |
|                       | i/Fibonacci_number)): |                       |
|                       |                       |                       |
|                       | +------------------+  |                       |
|                       | |   --- --- ------ |  |                       |
|                       | | ---------------- |  |                       |
|                       | | ---------------- |  |                       |
|                       | | ---------------- |  |                       |
|                       | | ---------------- |  |                       |
|                       | | ---------------- |  |                       |
|                       | | ---------------- |  |                       |
|                       | |                  |  |                       |
|                       | |       [fibonacci |  |                       |
|                       | | ]{.c009}(0) = 0  |  |                       |
|                       | |                  |  |                       |
|                       | |       [fibonacci |  |                       |
|                       | | ]{.c009}(1) = 1  |  |                       |
|                       | |           [fib   |  |                       |
|                       | | onacci]{.c009}([ |  |                       |
|                       | | n]{.c009}) = [fi |  |                       |
|                       | | bonacci]{.c009}( |  |                       |
|                       | | [n]{.c009}−1) +  |  |                       |
|                       | | [fibonacci]{.c00 |  |                       |
|                       | | 9}([n]{.c009}−2) |  |                       |
|                       | |   --- --- ------ |  |                       |
|                       | | ---------------- |  |                       |
|                       | | ---------------- |  |                       |
|                       | | ---------------- |  |                       |
|                       | | ---------------- |  |                       |
|                       | | ---------------- |  |                       |
|                       | | ---------------- |  |                       |
|                       | +------------------+  |                       |
|                       |                       |                       |
|                       | Translated into       |                       |
|                       | Python, it looks like |                       |
|                       | this:                 |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def fibonacci(n):     |                       |
|                       |     if n == 0:        |                       |
|                       |         return 0      |                       |
|                       |     elif  n == 1:     |                       |
|                       |         return 1      |                       |
|                       |     else:             |                       |
|                       |                       |                       |
|                       |     return fibonacci( |                       |
|                       | n-1) + fibonacci(n-2) |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | If you try to follow  |                       |
|                       | the flow of execution |                       |
|                       | here, even for fairly |                       |
|                       | small values of       |                       |
|                       | [n]{.c009}, your head |                       |
|                       | explodes. But         |                       |
|                       | according to the leap |                       |
|                       | of faith, if you      |                       |
|                       | assume that the two   |                       |
|                       | recursive calls work  |                       |
|                       | correctly, then it is |                       |
|                       | clear that you get    |                       |
|                       | the right result by   |                       |
|                       | adding them together. |                       |
|                       | []{#hevea_default464} |                       |
|                       |                       |                       |
|                       | ## 6.8  Checking ty   |                       |
|                       | pes {#sec77 .section} |                       |
|                       |                       |                       |
|                       | []{#guardian}         |                       |
|                       |                       |                       |
|                       | What happens if we    |                       |
|                       | call                  |                       |
|                       | [factorial]{.c004}    |                       |
|                       | and give it 1.5 as an |                       |
|                       | argument?             |                       |
|                       | []{#hevea_default465} |                       |
|                       | []{#hevea_default466} |                       |
|                       | []{#hevea_default467} |                       |
|                       | []{#hevea_default468} |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> factorial(1.5)    |                       |
|                       | Runt                  |                       |
|                       | imeError: Maximum rec |                       |
|                       | ursion depth exceeded |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | It looks like an      |                       |
|                       | infinite recursion.   |                       |
|                       | How can that be? The  |                       |
|                       | function has a base   |                       |
|                       | case---when [n ==     |                       |
|                       | 0]{.c004}. But if     |                       |
|                       | [n]{.c004} is not an  |                       |
|                       | integer, we can       |                       |
|                       | *miss* the base case  |                       |
|                       | and recurse forever.  |                       |
|                       | []{#hevea_default469} |                       |
|                       | []{#hevea_default470} |                       |
|                       |                       |                       |
|                       | In the first          |                       |
|                       | recursive call, the   |                       |
|                       | value of [n]{.c004}   |                       |
|                       | is 0.5. In the next,  |                       |
|                       | it is -0.5. From      |                       |
|                       | there, it gets        |                       |
|                       | smaller (more         |                       |
|                       | negative), but it     |                       |
|                       | will never be 0.      |                       |
|                       |                       |                       |
|                       | We have two choices.  |                       |
|                       | We can try to         |                       |
|                       | generalize the        |                       |
|                       | [factorial]{.c004}    |                       |
|                       | function to work with |                       |
|                       | floating-point        |                       |
|                       | numbers, or we can    |                       |
|                       | make                  |                       |
|                       | [factorial]{.c004}    |                       |
|                       | check the type of its |                       |
|                       | argument. The first   |                       |
|                       | option is called the  |                       |
|                       | gamma function and    |                       |
|                       | it's a little beyond  |                       |
|                       | the scope of this     |                       |
|                       | book. So we'll go for |                       |
|                       | the second.           |                       |
|                       | []{#hevea_default471} |                       |
|                       |                       |                       |
|                       | We can use the        |                       |
|                       | built-in function     |                       |
|                       | [isinstance]{.c004}   |                       |
|                       | to verify the type of |                       |
|                       | the argument. While   |                       |
|                       | we're at it, we can   |                       |
|                       | also make sure the    |                       |
|                       | argument is positive: |                       |
|                       | []{#hevea_default472} |                       |
|                       | []{#hevea_default473} |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def factorial(n):     |                       |
|                       |     if no             |                       |
|                       | t isinstance(n, int): |                       |
|                       |         print(        |                       |
|                       | 'Factorial is only de |                       |
|                       | fined for integers.') |                       |
|                       |         return None   |                       |
|                       |     elif n < 0:       |                       |
|                       |                       |                       |
|                       |        print('Factori |                       |
|                       | al is not defined for |                       |
|                       |  negative integers.') |                       |
|                       |         return None   |                       |
|                       |     elif n == 0:      |                       |
|                       |         return 1      |                       |
|                       |     else:             |                       |
|                       |         retu          |                       |
|                       | rn n * factorial(n-1) |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | The first base case   |                       |
|                       | handles nonintegers;  |                       |
|                       | the second handles    |                       |
|                       | negative integers. In |                       |
|                       | both cases, the       |                       |
|                       | program prints an     |                       |
|                       | error message and     |                       |
|                       | returns [None]{.c004} |                       |
|                       | to indicate that      |                       |
|                       | something went wrong: |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> pri               |                       |
|                       | nt(factorial('fred')) |                       |
|                       | Factorial is only     |                       |
|                       | defined for integers. |                       |
|                       | None                  |                       |
|                       | >>>                   |                       |
|                       |  print(factorial(-2)) |                       |
|                       | Facto                 |                       |
|                       | rial is not defined f |                       |
|                       | or negative integers. |                       |
|                       | None                  |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | If we get past both   |                       |
|                       | checks, we know that  |                       |
|                       | [n]{.c009} is a       |                       |
|                       | non-negative integer, |                       |
|                       | so we can prove that  |                       |
|                       | the recursion         |                       |
|                       | terminates.           |                       |
|                       | []{#hevea_default474} |                       |
|                       | []{#hevea_default475} |                       |
|                       |                       |                       |
|                       | This program          |                       |
|                       | demonstrates a        |                       |
|                       | pattern sometimes     |                       |
|                       | called a              |                       |
|                       | [guardian]{.c010}.    |                       |
|                       | The first two         |                       |
|                       | conditionals act as   |                       |
|                       | guardians, protecting |                       |
|                       | the code that follows |                       |
|                       | from values that      |                       |
|                       | might cause an error. |                       |
|                       | The guardians make it |                       |
|                       | possible to prove the |                       |
|                       | correctness of the    |                       |
|                       | code.                 |                       |
|                       |                       |                       |
|                       | In                    |                       |
|                       | Section [11.4](thinkp |                       |
|                       | ython2012.html#raise) |                       |
|                       | we will see a more    |                       |
|                       | flexible alternative  |                       |
|                       | to printing an error  |                       |
|                       | message: raising an   |                       |
|                       | exception.            |                       |
|                       |                       |                       |
|                       | ## 6.9  Debugg        |                       |
|                       | ing {#sec78 .section} |                       |
|                       |                       |                       |
|                       | []{#factdebug}        |                       |
|                       |                       |                       |
|                       | Breaking a large      |                       |
|                       | program into smaller  |                       |
|                       | functions creates     |                       |
|                       | natural checkpoints   |                       |
|                       | for debugging. If a   |                       |
|                       | function is not       |                       |
|                       | working, there are    |                       |
|                       | three possibilities   |                       |
|                       | to consider:          |                       |
|                       | []{#hevea_default476} |                       |
|                       |                       |                       |
|                       | -   There is          |                       |
|                       |     something wrong   |                       |
|                       |     with the          |                       |
|                       |     arguments the     |                       |
|                       |     function is       |                       |
|                       |     getting; a        |                       |
|                       |     precondition is   |                       |
|                       |     violated.         |                       |
|                       | -   There is          |                       |
|                       |     something wrong   |                       |
|                       |     with the          |                       |
|                       |     function; a       |                       |
|                       |     postcondition is  |                       |
|                       |     violated.         |                       |
|                       | -   There is          |                       |
|                       |     something wrong   |                       |
|                       |     with the return   |                       |
|                       |     value or the way  |                       |
|                       |     it is being used. |                       |
|                       |                       |                       |
|                       | To rule out the first |                       |
|                       | possibility, you can  |                       |
|                       | add a [print]{.c004}  |                       |
|                       | statement at the      |                       |
|                       | beginning of the      |                       |
|                       | function and display  |                       |
|                       | the values of the     |                       |
|                       | parameters (and maybe |                       |
|                       | their types). Or you  |                       |
|                       | can write code that   |                       |
|                       | checks the            |                       |
|                       | preconditions         |                       |
|                       | explicitly.           |                       |
|                       | []{#hevea_default477} |                       |
|                       | []{#hevea_default478} |                       |
|                       |                       |                       |
|                       | If the parameters     |                       |
|                       | look good, add a      |                       |
|                       | [print]{.c004}        |                       |
|                       | statement before each |                       |
|                       | [return]{.c004}       |                       |
|                       | statement and display |                       |
|                       | the return value. If  |                       |
|                       | possible, check the   |                       |
|                       | result by hand.       |                       |
|                       | Consider calling the  |                       |
|                       | function with values  |                       |
|                       | that make it easy to  |                       |
|                       | check the result (as  |                       |
|                       | in                    |                       |
|                       | Section [6.2](#incre  |                       |
|                       | mental.development)). |                       |
|                       |                       |                       |
|                       | If the function seems |                       |
|                       | to be working, look   |                       |
|                       | at the function call  |                       |
|                       | to make sure the      |                       |
|                       | return value is being |                       |
|                       | used correctly (or    |                       |
|                       | used at all!).        |                       |
|                       | []{#hevea_default479} |                       |
|                       |                       |                       |
|                       | Adding print          |                       |
|                       | statements at the     |                       |
|                       | beginning and end of  |                       |
|                       | a function can help   |                       |
|                       | make the flow of      |                       |
|                       | execution more        |                       |
|                       | visible. For example, |                       |
|                       | here is a version of  |                       |
|                       | [factorial]{.c004}    |                       |
|                       | with print            |                       |
|                       | statements:           |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def factorial(n):     |                       |
|                       |                       |                       |
|                       | space = ' ' * (4 * n) |                       |
|                       |     print(s           |                       |
|                       | pace, 'factorial', n) |                       |
|                       |     if n == 0:        |                       |
|                       |         print(        |                       |
|                       | space, 'returning 1') |                       |
|                       |         return 1      |                       |
|                       |     else:             |                       |
|                       |         rec           |                       |
|                       | urse = factorial(n-1) |                       |
|                       |                       |                       |
|                       |  result = n * recurse |                       |
|                       |         print(space,  |                       |
|                       |  'returning', result) |                       |
|                       |         return result |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | [space]{.c004} is a   |                       |
|                       | string of space       |                       |
|                       | characters that       |                       |
|                       | controls the          |                       |
|                       | indentation of the    |                       |
|                       | output. Here is the   |                       |
|                       | result of             |                       |
|                       | [factorial(4)]{.c004} |                       |
|                       | :                     |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       |                       |                       |
|                       |           factorial 4 |                       |
|                       |                       |                       |
|                       |           factorial 3 |                       |
|                       |          factorial 2  |                       |
|                       |      factorial 1      |                       |
|                       |  factorial 0          |                       |
|                       |  returning 1          |                       |
|                       |      returning 1      |                       |
|                       |          returning 2  |                       |
|                       |                       |                       |
|                       |           returning 6 |                       |
|                       |                       |                       |
|                       |          returning 24 |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | If you are confused   |                       |
|                       | about the flow of     |                       |
|                       | execution, this kind  |                       |
|                       | of output can be      |                       |
|                       | helpful. It takes     |                       |
|                       | some time to develop  |                       |
|                       | effective             |                       |
|                       | scaffolding, but a    |                       |
|                       | little bit of         |                       |
|                       | scaffolding can save  |                       |
|                       | a lot of debugging.   |                       |
|                       |                       |                       |
|                       | ## 6.10  Gloss        |                       |
|                       | ary {#sec79 .section} |                       |
|                       |                       |                       |
|                       | [tempor               |                       |
|                       | ary variable:]{.c010} |                       |
|                       | :   A variable used   |                       |
|                       |     to store an       |                       |
|                       |     intermediate      |                       |
|                       |     value in a        |                       |
|                       |     complex           |                       |
|                       |     calculation.      |                       |
|                       |                       |                       |
|                       | []{#hevea_default480} |                       |
|                       |                       |                       |
|                       | []{#hevea_default481} |                       |
|                       |                       |                       |
|                       | [dead code:]{.c010}   |                       |
|                       | :   Part of a program |                       |
|                       |     that can never    |                       |
|                       |     run, often        |                       |
|                       |     because it        |                       |
|                       |     appears after a   |                       |
|                       |     [return]{.c004}   |                       |
|                       |     statement.        |                       |
|                       |                       |                       |
|                       | []{#hevea_default482} |                       |
|                       |                       |                       |
|                       | [incremental          |                       |
|                       |  development:]{.c010} |                       |
|                       | :   A program         |                       |
|                       |     development plan  |                       |
|                       |     intended to avoid |                       |
|                       |     debugging by      |                       |
|                       |     adding and        |                       |
|                       |     testing only a    |                       |
|                       |     small amount of   |                       |
|                       |     code at a time.   |                       |
|                       |                       |                       |
|                       | []{#hevea_default483} |                       |
|                       |                       |                       |
|                       | [scaffolding:]{.c010} |                       |
|                       | :   Code that is used |                       |
|                       |     during program    |                       |
|                       |     development but   |                       |
|                       |     is not part of    |                       |
|                       |     the final         |                       |
|                       |     version.          |                       |
|                       |                       |                       |
|                       | []{#hevea_default484} |                       |
|                       |                       |                       |
|                       | [guardian:]{.c010}    |                       |
|                       | :   A programming     |                       |
|                       |     pattern that uses |                       |
|                       |     a conditional     |                       |
|                       |     statement to      |                       |
|                       |     check for and     |                       |
|                       |     handle            |                       |
|                       |     circumstances     |                       |
|                       |     that might cause  |                       |
|                       |     an error.         |                       |
|                       |                       |                       |
|                       | []{#hevea_default485} |                       |
|                       |                       |                       |
|                       | []{#hevea_default486} |                       |
|                       |                       |                       |
|                       | ## 6.11  Exerci       |                       |
|                       | ses {#sec80 .section} |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 1]{.c010}   |                       |
|                       |                       |                       |
|                       | *Draw a stack diagram |                       |
|                       | for the following     |                       |
|                       | program. What does    |                       |
|                       | the program print?*   |                       |
|                       | []{#hevea_default487} |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def b(z):             |                       |
|                       |     prod = a(z, z)    |                       |
|                       |     print(z, prod)    |                       |
|                       |     return prod       |                       |
|                       |                       |                       |
|                       | def a(x, y):          |                       |
|                       |     x = x + 1         |                       |
|                       |     return x * y      |                       |
|                       |                       |                       |
|                       | def c(x, y, z):       |                       |
|                       |     total = x + y + z |                       |
|                       |                       |                       |
|                       |  square = b(total)**2 |                       |
|                       |     return square     |                       |
|                       |                       |                       |
|                       | x = 1                 |                       |
|                       | y = x + 1             |                       |
|                       | print(c(x, y+3, x+y)) |                       |
|                       | ```                   |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 2]{.c010}   |                       |
|                       | []{#ackermann}        |                       |
|                       |                       |                       |
|                       | *The Ackermann        |                       |
|                       | function,*            |                       |
|                       | [                     |                       |
|                       | A]{.c009}([m]{.c009}, |                       |
|                       | [n]{.c009})*, is      |                       |
|                       | defined:*             |                       |
|                       |                       |                       |
|                       | +------------------+  |                       |
|                       | | +-------------+  |  |                       |
|                       | | | <table      |  |  |                       |
|                       | | | class       |  |  |                       |
|                       | | | ="display"> |  |  |                       |
|                       | | | <colgroup>  |  |  |                       |
|                       | | | <col        |  |  |                       |
|                       | | | style="wid  |  |  |                       |
|                       | | | th: 50%" /> |  |  |                       |
|                       | | | <col        |  |  |                       |
|                       | | | style="wid  |  |  |                       |
|                       | | | th: 50%" /> |  |  |                       |
|                       | | | </colgroup> |  |  |                       |
|                       | | | <tbody>     |  |  |                       |
|                       | | | <tr         |  |  |                       |
|                       | | | class=      |  |  |                       |
|                       | | | "odd c017"> |  |  |                       |
|                       | | | <td         |  |  |                       |
|                       | | | class="d    |  |  |                       |
|                       | | | cell"><span |  |  |                       |
|                       | | | class       |  |  |                       |
|                       | | | ="c009">A</ |  |  |                       |
|                       | | | span>(<span |  |  |                       |
|                       | | | class=      |  |  |                       |
|                       | | | "c009">m</s |  |  |                       |
|                       | | | pan>, <span |  |  |                       |
|                       | | | class="c    |  |  |                       |
|                       | | | 009">n</spa |  |  |                       |
|                       | | | n>) = </td> |  |  |                       |
|                       | | | <td         |  |  |                       |
|                       | | | class="dc   |  |  |                       |
|                       | | | ell"><table |  |  |                       |
|                       | | | class       |  |  |                       |
|                       | | | ="display"> |  |  |                       |
|                       | | | <colgroup>  |  |  |                       |
|                       | | | <col        |  |  |                       |
|                       | | | style="wid  |  |  |                       |
|                       | | | th: 50%" /> |  |  |                       |
|                       | | | <col        |  |  |                       |
|                       | | | style="wid  |  |  |                       |
|                       | | | th: 50%" /> |  |  |                       |
|                       | | | </colgroup> |  |  |                       |
|                       | | | <tbody>     |  |  |                       |
|                       | | | <tr         |  |  |                       |
|                       | | | class=      |  |  |                       |
|                       | | | "odd c017"> |  |  |                       |
|                       | | | <td         |  |  |                       |
|                       | | | class="dce  |  |  |                       |
|                       | | | ll">⎧<br /> |  |  |                       |
|                       | | | ⎪<br />     |  |  |                       |
|                       | | | ⎨<br />     |  |  |                       |
|                       | | | ⎪<br />     |  |  |                       |
|                       | | | ⎩</td>      |  |  |                       |
|                       | | | <td         |  |  |                       |
|                       | | | class="dc   |  |  |                       |
|                       | | | ell"><table |  |  |                       |
|                       | | | cla         |  |  |                       |
|                       | | | ss="c001 ce |  |  |                       |
|                       | | | llpading0"> |  |  |                       |
|                       | | | <tbody>     |  |  |                       |
|                       | | | <tr         |  |  |                       |
|                       | | | c           |  |  |                       |
|                       | | | lass="odd"> |  |  |                       |
|                       | | | <td         |  |  |                       |
|                       | | | class="c01  |  |  |                       |
|                       | | | 3">         |  |  |                       |
|                       | | |       <span |  |  |                       |
|                       | | | class=      |  |  |                       |
|                       | | | "c009">n</s |  |  |                       |
|                       | | | pan>+1</td> |  |  |                       |
|                       | | | <td         |  |  |                       |
|                       | | | clas        |  |  |                       |
|                       | | | s="c013">if |  |  |                       |
|                       | | |  <span      |  |  |                       |
|                       | | | class="c0   |  |  |                       |
|                       | | | 09">m</span |  |  |                       |
|                       | | | > = 0 </td> |  |  |                       |
|                       | | | </tr>       |  |  |                       |
|                       | | | <tr         |  |  |                       |
|                       | | | cl          |  |  |                       |
|                       | | | ass="even"> |  |  |                       |
|                       | | | <td         |  |  |                       |
|                       | | | clas        |  |  |                       |
|                       | | | s="c013">   |  |  |                       |
|                       | | |       <span |  |  |                       |
|                       | | | class       |  |  |                       |
|                       | | | ="c009">A</ |  |  |                       |
|                       | | | span>(<span |  |  |                       |
|                       | | | class="c00  |  |  |                       |
|                       | | | 9">m</span> |  |  |                       |
|                       | | | −1, 1)</td> |  |  |                       |
|                       | | | <td         |  |  |                       |
|                       | | | clas        |  |  |                       |
|                       | | | s="c013">if |  |  |                       |
|                       | | |  <span      |  |  |                       |
|                       | | | class="     |  |  |                       |
|                       | | | c009">m</sp |  |  |                       |
|                       | | | an> &gt; 0  |  |  |                       |
|                       | | | and         |  |  |                       |
|                       | | |  <span      |  |  |                       |
|                       | | | class="c0   |  |  |                       |
|                       | | | 09">n</span |  |  |                       |
|                       | | | > = 0 </td> |  |  |                       |
|                       | | | </tr>       |  |  |                       |
|                       | | | <tr         |  |  |                       |
|                       | | | c           |  |  |                       |
|                       | | | lass="odd"> |  |  |                       |
|                       | | | <td         |  |  |                       |
|                       | | | class="     |  |  |                       |
|                       | | | c013"><span |  |  |                       |
|                       | | | class       |  |  |                       |
|                       | | | ="c009">A</ |  |  |                       |
|                       | | | span>(<span |  |  |                       |
|                       | | | class="c    |  |  |                       |
|                       | | | 009">m</spa |  |  |                       |
|                       | | | n>−1, <span |  |  |                       |
|                       | | | class       |  |  |                       |
|                       | | | ="c009">A</ |  |  |                       |
|                       | | | span>(<span |  |  |                       |
|                       | | | class=      |  |  |                       |
|                       | | | "c009">m</s |  |  |                       |
|                       | | | pan>, <span |  |  |                       |
|                       | | | class="c    |  |  |                       |
|                       | | | 009">n</spa |  |  |                       |
|                       | | | n>−1))</td> |  |  |                       |
|                       | | | <td         |  |  |                       |
|                       | | | clas        |  |  |                       |
|                       | | | s="c013">if |  |  |                       |
|                       | | |  <span      |  |  |                       |
|                       | | | class="     |  |  |                       |
|                       | | | c009">m</sp |  |  |                       |
|                       | | | an> &gt; 0  |  |  |                       |
|                       | | | and         |  |  |                       |
|                       | | |  <span      |  |  |                       |
|                       | | | c           |  |  |                       |
|                       | | | lass="c009" |  |  |                       |
|                       | | | >n</span> & |  |  |                       |
|                       | | | gt; 0.</td> |  |  |                       |
|                       | | | </tr>       |  |  |                       |
|                       | | | </tbody>    |  |  |                       |
|                       | | | </          |  |  |                       |
|                       | | | table></td> |  |  |                       |
|                       | | | </tr>       |  |  |                       |
|                       | | | </tbody>    |  |  |                       |
|                       | | | </          |  |  |                       |
|                       | | | table></td> |  |  |                       |
|                       | | | </tr>       |  |  |                       |
|                       | | | </tbody>    |  |  |                       |
|                       | | | </table>    |  |  |                       |
|                       | | +-------------+  |  |                       |
|                       | +------------------+  |                       |
|                       |                       |                       |
|                       | *See*                 |                       |
|                       | [[*htt                |                       |
|                       | p://en.wikipedia.org/ |                       |
|                       | wiki/Ackermann_functi |                       |
|                       | on*]{.c004}](http://e |                       |
|                       | n.wikipedia.org/wiki/ |                       |
|                       | Ackermann_function)*. |                       |
|                       | Write a function      |                       |
|                       | named [ack]{.c004}    |                       |
|                       | that evaluates the    |                       |
|                       | Ackermann function.   |                       |
|                       | Use your function to  |                       |
|                       | evaluate [ack(3,      |                       |
|                       | 4)]{.c004}, which     |                       |
|                       | should be 125. What   |                       |
|                       | happens for larger    |                       |
|                       | values of [m]{.c004}  |                       |
|                       | and [n]{.c004}?       |                       |
|                       | Solution:*            |                       |
|                       | [[*https://think      |                       |
|                       | python.com/code/acker |                       |
|                       | mann.py*]{.c004}](htt |                       |
|                       | ps://thinkpython.com/ |                       |
|                       | code/ackermann.py)*.* |                       |
|                       | []{#hevea_default488} |                       |
|                       | []{#hevea_default489} |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 3]{.c010}   |                       |
|                       | []{#palindrome}       |                       |
|                       |                       |                       |
|                       | *A palindrome is a    |                       |
|                       | word that is spelled  |                       |
|                       | the same backward and |                       |
|                       | forward, like "noon"  |                       |
|                       | and "redivider".      |                       |
|                       | Recursively, a word   |                       |
|                       | is a palindrome if    |                       |
|                       | the first and last    |                       |
|                       | letters are the same  |                       |
|                       | and the middle is a   |                       |
|                       | palindrome.*          |                       |
|                       | []{#hevea_default490} |                       |
|                       |                       |                       |
|                       | *The following are    |                       |
|                       | functions that take a |                       |
|                       | string argument and   |                       |
|                       | return the first,     |                       |
|                       | last, and middle      |                       |
|                       | letters:*             |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def first(word):      |                       |
|                       |     return word[0]    |                       |
|                       |                       |                       |
|                       | def last(word):       |                       |
|                       |     return word[-1]   |                       |
|                       |                       |                       |
|                       | def middle(word):     |                       |
|                       |     return word[1:-1] |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | *We'll see how they   |                       |
|                       | work in               |                       |
|                       | Chapt                 |                       |
|                       | er *[*8*](thinkpython |                       |
|                       | 2009.html#strings)*.* |                       |
|                       |                       |                       |
|                       | 1.  *Type these       |                       |
|                       |     functions into a  |                       |
|                       |     file named        |                       |
|                       |     [                 |                       |
|                       | palindrome.py]{.c004} |                       |
|                       |     and test them     |                       |
|                       |     out. What happens |                       |
|                       |     if you call       |                       |
|                       |     [middle]{.c004}   |                       |
|                       |     with a string     |                       |
|                       |     with two letters? |                       |
|                       |     One letter? What  |                       |
|                       |     about the empty   |                       |
|                       |     string, which is  |                       |
|                       |     written `''` and  |                       |
|                       |     contains no       |                       |
|                       |     letters?*         |                       |
|                       | 2.  *Write a function |                       |
|                       |     called            |                       |
|                       |     `is_palindrome`   |                       |
|                       |     that takes a      |                       |
|                       |     string argument   |                       |
|                       |     and returns       |                       |
|                       |     [True]{.c004} if  |                       |
|                       |     it is a           |                       |
|                       |     palindrome and    |                       |
|                       |     [False]{.c004}    |                       |
|                       |     otherwise.        |                       |
|                       |     Remember that you |                       |
|                       |     can use the       |                       |
|                       |     built-in function |                       |
|                       |     [len]{.c004} to   |                       |
|                       |     check the length  |                       |
|                       |     of a string.*     |                       |
|                       |                       |                       |
|                       | *Solution:*           |                       |
|                       | [*[http               |                       |
|                       | s://thinkpython.com/c |                       |
|                       | ode/palindrome_soln.p |                       |
|                       | y]{.c004}*](https://t |                       |
|                       | hinkpython.com/code/p |                       |
|                       | alindrome_soln.py)*.* |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 4]{.c010}   |                       |
|                       |                       |                       |
|                       | *A number,*           |                       |
|                       | [a]{.c009}*, is a     |                       |
|                       | power of* [b]{.c009}  |                       |
|                       | *if it is divisible   |                       |
|                       | by* [b]{.c009} *and*  |                       |
|                       | [a]{.c009}/[b]{.c009} |                       |
|                       | *is a power of*       |                       |
|                       | [b]{.c009}*. Write a  |                       |
|                       | function called       |                       |
|                       | `is_power` that takes |                       |
|                       | parameters [a]{.c004} |                       |
|                       | and [b]{.c004} and    |                       |
|                       | returns [True]{.c004} |                       |
|                       | if [a]{.c004} is a    |                       |
|                       | power of [b]{.c004}.  |                       |
|                       | Note: you will have   |                       |
|                       | to think about the    |                       |
|                       | base case.*           |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 5]{.c010}   |                       |
|                       | []{#hevea_default491} |                       |
|                       | []{#hevea_default492} |                       |
|                       |                       |                       |
|                       | *The greatest common  |                       |
|                       | divisor (GCD) of*     |                       |
|                       | [a]{.c009} *and*      |                       |
|                       | [b]{.c009} *is the    |                       |
|                       | largest number that   |                       |
|                       | divides both of them  |                       |
|                       | with no remainder.*   |                       |
|                       |                       |                       |
|                       | *One way to find the  |                       |
|                       | GCD of two numbers is |                       |
|                       | based on the          |                       |
|                       | observation that if*  |                       |
|                       | [r]{.c009} *is the    |                       |
|                       | remainder when*       |                       |
|                       | [a]{.c009} *is        |                       |
|                       | divided by*           |                       |
|                       | [b]{.c009}*, then*    |                       |
|                       | [gc                   |                       |
|                       | d]{.c009}([a]{.c009}, |                       |
|                       | [b]{.c009}) =         |                       |
|                       | [gc                   |                       |
|                       | d]{.c009}([b]{.c009}, |                       |
|                       | [r]{.c009})*. As a    |                       |
|                       | base case, we can     |                       |
|                       | use*                  |                       |
|                       | [gc                   |                       |
|                       | d]{.c009}([a]{.c009}, |                       |
|                       | 0) = [a]{.c009}*.*    |                       |
|                       |                       |                       |
|                       | *Write a function     |                       |
|                       | called `gcd` that     |                       |
|                       | takes parameters      |                       |
|                       | [a]{.c004} and        |                       |
|                       | [b]{.c004} and        |                       |
|                       | returns their         |                       |
|                       | greatest common       |                       |
|                       | divisor.*             |                       |
|                       |                       |                       |
|                       | *Credit: This         |                       |
|                       | exercise is based on  |                       |
|                       | an example from       |                       |
|                       | Abelson and           |                       |
|                       | Sussman's* Structure  |                       |
|                       | and Interpretation of |                       |
|                       | Computer Programs*.*  |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | [Buy this book at     |                       |
|                       | Amazon.com](ht        |                       |
|                       | tp://amzn.to/1VUYQUU) |                       |
+-----------------------+-----------------------+-----------------------+

------------------------------------------------------------------------

[![Previous](back.png)](thinkpython2006.html)
[![Up](up.png)](index.html) [![Next](next.png)](thinkpython2008.html)
---
generator: hevea 2.32
title: Iteration
---

[![Previous](back.png)](thinkpython2007.html)
[![Up](up.png)](index.html) [![Next](next.png)](thinkpython2009.html)

------------------------------------------------------------------------

+-----------------------+-----------------------+-----------------------+
|                       | [Buy this book at     | #### Contribute       |
|                       | Amazon.com](ht        |                       |
|                       | tp://amzn.to/1VUYQUU) | If you would like to  |
|                       |                       | make a contribution   |
|                       | # Chapter 7  Iterat   | to support my books,  |
|                       | ion {#sec81 .chapter} | you can use the       |
|                       |                       | button below and pay  |
|                       | This chapter is about | with PayPal. Thank    |
|                       | iteration, which is   | you!                  |
|                       | the ability to run a  |                       |
|                       | block of statements   |   -----------         |
|                       | repeatedly. We saw a  | --------------------- |
|                       | kind of iteration,    | --------------------- |
|                       | using recursion, in   | --------------------- |
|                       | Sect                  | --------------------- |
|                       | ion [5.8](thinkpython |   Pay what you want:  |
|                       | 2006.html#recursion). |   Small \$1           |
|                       | We saw another kind,  | .00 USD Medium \$5.00 |
|                       | using a [for]{.c004}  |  USD Large \$10.00 US |
|                       | loop, in              | D X-Large \$20.00 USD |
|                       | Secti                 |  XX-Large \$50.00 USD |
|                       | on [4.2](thinkpython2 |   -----------         |
|                       | 005.html#repetition). | --------------------- |
|                       | In this chapter we'll | --------------------- |
|                       | see yet another kind, | --------------------- |
|                       | using a               | --------------------- |
|                       | [while]{.c004}        |                       |
|                       | statement. But first  | ![](                  |
|                       | I want to say a       | https://www.paypalobj |
|                       | little more about     | ects.com/en_US/i/scr/ |
|                       | variable assignment.  | pixel.gif){border="0" |
|                       |                       | width="1" height="1"} |
|                       | ## 7.1  Reassignm     |                       |
|                       | ent {#sec82 .section} | ####                  |
|                       |                       | Are you using one of  |
|                       | []{#hevea_default493} | our books in a class? |
|                       | []{#hevea_default494} |                       |
|                       | []{#hevea_default495} | We\'d like to know    |
|                       |                       | about it. Please      |
|                       | As you may have       | consider filling out  |
|                       | discovered, it is     | [this short           |
|                       | legal to make more    | survey](http://s      |
|                       | than one assignment   | preadsheets.google.co |
|                       | to the same variable. | m/viewform?formkey=dC |
|                       | A new assignment      | 0tNUZkMjBEdXVoRGljNm9 |
|                       | makes an existing     | FRmlTMHc6MA){onclick= |
|                       | variable refer to a   | "javascript: pageTrac |
|                       | new value (and stop   | ker._trackPageview('/ |
|                       | referring to the old  | outbound/survey');"}. |
|                       | value).               |                       |
|                       |                       | \                     |
|                       | ``` verbatim          |                       |
|                       | >>> x = 5             | [Think                |
|                       | >>> x                 | DSP](http             |
|                       | 5                     | ://www.amazon.com/gp/ |
|                       | >>> x = 7             | product/1491938455/re |
|                       | >>> x                 | f=as_li_tl?ie=UTF8&ca |
|                       | 7                     | mp=1789&creative=9325 |
|                       | ```                   | &creativeASIN=1491938 |
|                       |                       | 455&linkCode=as2&tag= |
|                       | The first time we     | greenteapre01-20&link |
|                       | display [x]{.c004},   | Id=2JJH4SWCAVVYSQHO){ |
|                       | its value is 5; the   | rel="nofollow"}![](ht |
|                       | second time, its      | tp://ir-na.amazon-ads |
|                       | value is 7.           | ystem.com/e/ir?t=gree |
|                       |                       | nteapre01-20&l=as2&o= |
|                       | Figur                 | 1&a=1491938455){.c003 |
|                       | e [7.1](#fig.assign2) | width="1" height="1"  |
|                       | shows what            | border="0"}           |
|                       | [reassignment]{.c010} |                       |
|                       | looks like in a state | [                     |
|                       | diagram.              | ![](http://ws-na.amaz |
|                       | []{#hevea_default496} | on-adsystem.com/widge |
|                       | []{#hevea_default497} | ts/q?_encoding=UTF8&A |
|                       |                       | SIN=1491938455&Format |
|                       | At this point I want  | =_SL160_&ID=AsinImage |
|                       | to address a common   | &MarketPlace=US&Servi |
|                       | source of confusion.  | ceVersion=20070822&WS |
|                       | Because Python uses   | =1&tag=greenteapre01- |
|                       | the equal sign        | 20){border="0"}](http |
|                       | ([=]{.c004}) for      | ://www.amazon.com/gp/ |
|                       | assignment, it is     | product/1491938455/re |
|                       | tempting to interpret | f=as_li_tl?ie=UTF8&ca |
|                       | a statement like [a = | mp=1789&creative=9325 |
|                       | b]{.c004} as a        | &creativeASIN=1491938 |
|                       | mathematical          | 455&linkCode=as2&tag= |
|                       | proposition of        | greenteapre01-20&link |
|                       | equality; that is,    | Id=CTV7PDT7E5EGGJUM){ |
|                       | the claim that        | rel="nofollow"}![](ht |
|                       | [a]{.c004} and        | tp://ir-na.amazon-ads |
|                       | [b]{.c004} are equal. | ystem.com/e/ir?t=gree |
|                       | But this              | nteapre01-20&l=as2&o= |
|                       | interpretation is     | 1&a=1491938455){.c003 |
|                       | wrong.                | width="1" height="1"  |
|                       | []{#hevea_default498} | border="0"}           |
|                       |                       |                       |
|                       | First, equality is a  | [Think                |
|                       | symmetric             | Java](http            |
|                       | relationship and      | ://www.amazon.com/gp/ |
|                       | assignment is not.    | product/1491929561/re |
|                       | For example, in       | f=as_li_tl?ie=UTF8&ca |
|                       | mathematics, if       | mp=1789&creative=9325 |
|                       | [a]{.c009}=7 then     | &creativeASIN=1491929 |
|                       | 7=[a]{.c009}. But in  | 561&linkCode=as2&tag= |
|                       | Python, the statement | greenteapre01-20&link |
|                       | [a = 7]{.c004} is     | Id=ZY6MAYM33ZTNSCNZ){ |
|                       | legal and [7 =        | rel="nofollow"}![](ht |
|                       | a]{.c004} is not.     | tp://ir-na.amazon-ads |
|                       |                       | ystem.com/e/ir?t=gree |
|                       | Also, in mathematics, | nteapre01-20&l=as2&o= |
|                       | a proposition of      | 1&a=1491929561){.c003 |
|                       | equality is either    | width="1" height="1"  |
|                       | true or false for all | border="0"}           |
|                       | time. If              |                       |
|                       | [a]{.c009}=[b]{.c009} | [                     |
|                       | now, then [a]{.c009}  | ![](http://ws-na.amaz |
|                       | will always equal     | on-adsystem.com/widge |
|                       | [b]{.c009}. In        | ts/q?_encoding=UTF8&A |
|                       | Python, an assignment | SIN=1491929561&Format |
|                       | statement can make    | =_SL160_&ID=AsinImage |
|                       | two variables equal,  | &MarketPlace=US&Servi |
|                       | but they don't have   | ceVersion=20070822&WS |
|                       | to stay that way:     | =1&tag=greenteapre01- |
|                       |                       | 20){border="0"}](http |
|                       | ``` verbatim          | ://www.amazon.com/gp/ |
|                       | >>> a = 5             | product/1491929561/re |
|                       | >>> b = a    #        | f=as_li_tl?ie=UTF8&ca |
|                       | a and b are now equal | mp=1789&creative=9325 |
|                       | >>> a = 3    # a and  | &creativeASIN=1491929 |
|                       | b are no longer equal | 561&linkCode=as2&tag= |
|                       | >>> b                 | greenteapre01-20&link |
|                       | 5                     | Id=PT77ANWARUNNU3UK){ |
|                       | ```                   | rel="nofollow"}![](ht |
|                       |                       | tp://ir-na.amazon-ads |
|                       | The third line        | ystem.com/e/ir?t=gree |
|                       | changes the value of  | nteapre01-20&l=as2&o= |
|                       | [a]{.c004} but does   | 1&a=1491929561){.c003 |
|                       | not change the value  | width="1" height="1"  |
|                       | of [b]{.c004}, so     | border="0"}           |
|                       | they are no longer    |                       |
|                       | equal.                | [Think                |
|                       |                       | Bay                   |
|                       | Reassigning variables | es](http://www.amazon |
|                       | is often useful, but  | .com/gp/product/14493 |
|                       | you should use it     | 70780/ref=as_li_qf_sp |
|                       | with caution. If the  | _asin_tl?ie=UTF8&camp |
|                       | values of variables   | =1789&creative=9325&c |
|                       | change frequently, it | reativeASIN=144937078 |
|                       | can make the code     | 0&linkCode=as2&tag=gr |
|                       | difficult to read and | eenteapre01-20)![](ht |
|                       | debug.                | tp://ir-na.amazon-ads |
|                       |                       | ystem.com/e/ir?t=gree |
|                       | > ::: center          | nteapre01-20&l=as2&o= |
|                       | >                     | 1&a=1449370780){.c003 |
|                       | > ------------------- | width="1" height="1"  |
|                       | > :::                 | border="0"}           |
|                       | >                     |                       |
|                       | > ::: center          | [![](http://ws        |
|                       | > ![]                 | -na.amazon-adsystem.c |
|                       | (thinkpython2008.png) | om/widgets/q?_encodin |
|                       | > :::                 | g=UTF8&ASIN=144937078 |
|                       | >                     | 0&Format=_SL160_&ID=A |
|                       | > ::: caption         | sinImage&MarketPlace= |
|                       | >   -------           | US&ServiceVersion=200 |
|                       | --------------------- | 70822&WS=1&tag=greent |
|                       | >   Figur             | eapre01-20){border="0 |
|                       | e 7.1: State diagram. | "}](http://www.amazon |
|                       | >   -------           | .com/gp/product/14493 |
|                       | --------------------- | 70780/ref=as_li_qf_sp |
|                       | > :::                 | _asin_il?ie=UTF8&camp |
|                       | >                     | =1789&creative=9325&c |
|                       | > []{#fig.assign2}    | reativeASIN=144937078 |
|                       | >                     | 0&linkCode=as2&tag=gr |
|                       | > ::: center          | eenteapre01-20)![](ht |
|                       | >                     | tp://ir-na.amazon-ads |
|                       | > ------------------- | ystem.com/e/ir?t=gree |
|                       | > :::                 | nteapre01-20&l=as2&o= |
|                       |                       | 1&a=1449370780){.c003 |
|                       | ##                    | width="1" height="1"  |
|                       |  7.2  Updating variab | border="0"}           |
|                       | les {#sec83 .section} |                       |
|                       |                       | [Think Python         |
|                       | []{#update}           | 2e](http              |
|                       |                       | ://www.amazon.com/gp/ |
|                       | []{#hevea_default499} | product/1491939362/re |
|                       | []{#hevea_default500} | f=as_li_tl?ie=UTF8&ca |
|                       |                       | mp=1789&creative=9325 |
|                       | A common kind of      | &creativeASIN=1491939 |
|                       | reassignment is an    | 362&linkCode=as2&tag= |
|                       | [update]{.c010},      | greenteapre01-20&link |
|                       | where the new value   | Id=FJKSQ3IHEMY2F2VA){ |
|                       | of the variable       | rel="nofollow"}![](ht |
|                       | depends on the old.   | tp://ir-na.amazon-ads |
|                       |                       | ystem.com/e/ir?t=gree |
|                       | ``` verbatim          | nteapre01-20&l=as2&o= |
|                       | >>> x = x + 1         | 1&a=1491939362){.c003 |
|                       | ```                   | width="1" height="1"  |
|                       |                       | border="0"}           |
|                       | This means "get the   |                       |
|                       | current value of      | [                     |
|                       | [x]{.c004}, add one,  | ![](http://ws-na.amaz |
|                       | and then update       | on-adsystem.com/widge |
|                       | [x]{.c004} with the   | ts/q?_encoding=UTF8&A |
|                       | new value."           | SIN=1491939362&Format |
|                       |                       | =_SL160_&ID=AsinImage |
|                       | If you try to update  | &MarketPlace=US&Servi |
|                       | a variable that       | ceVersion=20070822&WS |
|                       | doesn't exist, you    | =1&tag=greenteapre01- |
|                       | get an error, because | 20){border="0"}](http |
|                       | Python evaluates the  | ://www.amazon.com/gp/ |
|                       | right side before it  | product/1491939362/re |
|                       | assigns a value to    | f=as_li_tl?ie=UTF8&ca |
|                       | [x]{.c004}:           | mp=1789&creative=9325 |
|                       |                       | &creativeASIN=1491939 |
|                       | ``` verbatim          | 362&linkCode=as2&tag= |
|                       | >>> x = x + 1         | greenteapre01-20&link |
|                       | NameError: na         | Id=ZZ454DLQ3IXDHNHX){ |
|                       | me 'x' is not defined | rel="nofollow"}![](ht |
|                       | ```                   | tp://ir-na.amazon-ads |
|                       |                       | ystem.com/e/ir?t=gree |
|                       | Before you can update | nteapre01-20&l=as2&o= |
|                       | a variable, you have  | 1&a=1491939362){.c003 |
|                       | to                    | width="1" height="1"  |
|                       | [initialize]{.c010}   | border="0"}           |
|                       | it, usually with a    |                       |
|                       | simple assignment:    | [Think Stats          |
|                       | []{#hevea_default501} | 2e](http://ww         |
|                       |                       | w.amazon.com/gp/produ |
|                       | ``` verbatim          | ct/1491907339/ref=as_ |
|                       | >>> x = 0             | li_tl?ie=UTF8&camp=17 |
|                       | >>> x = x + 1         | 89&creative=9325&crea |
|                       | ```                   | tiveASIN=1491907339&l |
|                       |                       | inkCode=as2&tag=green |
|                       | Updating a variable   | teapre01-20&linkId=O7 |
|                       | by adding 1 is called | WYM6H6YBYUFNWU)![](ht |
|                       | an                    | tp://ir-na.amazon-ads |
|                       | [increment]{.c010};   | ystem.com/e/ir?t=gree |
|                       | subtracting 1 is      | nteapre01-20&l=as2&o= |
|                       | called a              | 1&a=1491907339){.c003 |
|                       | [decrement]{.c010}.   | width="1" height="1"  |
|                       | []{#hevea_default502} | border="0"}           |
|                       | []{#hevea_default503} |                       |
|                       |                       | [![](h                |
|                       | ## 7.3  The           | ttp://ws-na.amazon-ad |
|                       | [while]{.c004} statem | system.com/widgets/q? |
|                       | ent {#sec84 .section} | _encoding=UTF8&ASIN=1 |
|                       |                       | 491907339&Format=_SL1 |
|                       | []{#hevea_default504} | 60_&ID=AsinImage&Mark |
|                       | []{#hevea_default505} | etPlace=US&ServiceVer |
|                       | []{#hevea_default506} | sion=20070822&WS=1&ta |
|                       | []{#hevea_default507} | g=greenteapre01-20){b |
|                       |                       | order="0"}](http://ww |
|                       | Computers are often   | w.amazon.com/gp/produ |
|                       | used to automate      | ct/1491907339/ref=as_ |
|                       | repetitive tasks.     | li_tl?ie=UTF8&camp=17 |
|                       | Repeating identical   | 89&creative=9325&crea |
|                       | or similar tasks      | tiveASIN=1491907339&l |
|                       | without making errors | inkCode=as2&tag=green |
|                       | is something that     | teapre01-20&linkId=JV |
|                       | computers do well and | SYKQHYSUIEYRHL)![](ht |
|                       | people do poorly. In  | tp://ir-na.amazon-ads |
|                       | a computer program,   | ystem.com/e/ir?t=gree |
|                       | repetition is also    | nteapre01-20&l=as2&o= |
|                       | called                | 1&a=1491907339){.c003 |
|                       | [iteration]{.c010}.   | width="1" height="1"  |
|                       |                       | border="0"}           |
|                       | We have already seen  |                       |
|                       | two functions,        | [Think                |
|                       | [countdown]{.c004}    | Complexity](http      |
|                       | and `print_n`, that   | ://www.amazon.com/gp/ |
|                       | iterate using         | product/1449314635/re |
|                       | recursion. Because    | f=as_li_tf_tl?ie=UTF8 |
|                       | iteration is so       | &tag=greenteapre01-20 |
|                       | common, Python        | &linkCode=as2&camp=17 |
|                       | provides language     | 89&creative=9325&crea |
|                       | features to make it   | tiveASIN=1449314635)! |
|                       | easier. One is the    | [](http://www.assoc-a |
|                       | [for]{.c004}          | mazon.com/e/ir?t=gree |
|                       | statement we saw in   | nteapre01-20&l=as2&o= |
|                       | Secti                 | 1&a=1449314635){.c003 |
|                       | on [4.2](thinkpython2 | width="1" height="1"  |
|                       | 005.html#repetition). | border="0"}           |
|                       | We'll get back to     |                       |
|                       | that later.           | [                     |
|                       |                       | ![](http://ws-na.amaz |
|                       | Another is the        | on-adsystem.com/widge |
|                       | [while]{.c004}        | ts/q?_encoding=UTF8&A |
|                       | statement. Here is a  | SIN=1449314635&Format |
|                       | version of            | =_SL160_&ID=AsinImage |
|                       | [countdown]{.c004}    | &MarketPlace=US&Servi |
|                       | that uses a           | ceVersion=20070822&WS |
|                       | [while]{.c004}        | =1&tag=greenteapre01- |
|                       | statement:            | 20){border="0"}](http |
|                       |                       | ://www.amazon.com/gp/ |
|                       | ``` verbatim          | product/1449314635/re |
|                       | def countdown(n):     | f=as_li_tf_il?ie=UTF8 |
|                       |     while n > 0:      | &camp=1789&creative=9 |
|                       |         print(n)      | 325&creativeASIN=1449 |
|                       |         n = n - 1     | 314635&linkCode=as2&t |
|                       |                       | ag=greenteapre01-20)! |
|                       |    print('Blastoff!') | [](http://www.assoc-a |
|                       | ```                   | mazon.com/e/ir?t=gree |
|                       |                       | nteapre01-20&l=as2&o= |
|                       | You can almost read   | 1&a=1449314635){.c003 |
|                       | the [while]{.c004}    | width="1" height="1"  |
|                       | statement as if it    | border="0"}           |
|                       | were English. It      |                       |
|                       | means, "While         |                       |
|                       | [n]{.c004} is greater |                       |
|                       | than 0, display the   |                       |
|                       | value of [n]{.c004}   |                       |
|                       | and then decrement    |                       |
|                       | [n]{.c004}. When you  |                       |
|                       | get to 0, display the |                       |
|                       | word                  |                       |
|                       | [Blastoff!]{.c004}"   |                       |
|                       | []{#hevea_default508} |                       |
|                       |                       |                       |
|                       | More formally, here   |                       |
|                       | is the flow of        |                       |
|                       | execution for a       |                       |
|                       | [while]{.c004}        |                       |
|                       | statement:            |                       |
|                       |                       |                       |
|                       | 1.  Determine whether |                       |
|                       |     the condition is  |                       |
|                       |     true or false.    |                       |
|                       | 2.  If false, exit    |                       |
|                       |     the               |                       |
|                       |     [while]{.c004}    |                       |
|                       |     statement and     |                       |
|                       |     continue          |                       |
|                       |     execution at the  |                       |
|                       |     next statement.   |                       |
|                       | 3.  If the condition  |                       |
|                       |     is true, run the  |                       |
|                       |     body and then go  |                       |
|                       |     back to step 1.   |                       |
|                       |                       |                       |
|                       | This type of flow is  |                       |
|                       | called a loop because |                       |
|                       | the third step loops  |                       |
|                       | back around to the    |                       |
|                       | top.                  |                       |
|                       | []{#hevea_default509} |                       |
|                       | []{#hevea_default510} |                       |
|                       | []{#hevea_default511} |                       |
|                       |                       |                       |
|                       | The body of the loop  |                       |
|                       | should change the     |                       |
|                       | value of one or more  |                       |
|                       | variables so that the |                       |
|                       | condition becomes     |                       |
|                       | false eventually and  |                       |
|                       | the loop terminates.  |                       |
|                       | Otherwise the loop    |                       |
|                       | will repeat forever,  |                       |
|                       | which is called an    |                       |
|                       | [infinite             |                       |
|                       | loop]{.c010}. An      |                       |
|                       | endless source of     |                       |
|                       | amusement for         |                       |
|                       | computer scientists   |                       |
|                       | is the observation    |                       |
|                       | that the directions   |                       |
|                       | on shampoo, "Lather,  |                       |
|                       | rinse, repeat", are   |                       |
|                       | an infinite loop.     |                       |
|                       | []{#hevea_default512} |                       |
|                       | []{#hevea_default513} |                       |
|                       |                       |                       |
|                       | In the case of        |                       |
|                       | [countdown]{.c004},   |                       |
|                       | we can prove that the |                       |
|                       | loop terminates: if   |                       |
|                       | [n]{.c004} is zero or |                       |
|                       | negative, the loop    |                       |
|                       | never runs.           |                       |
|                       | Otherwise, [n]{.c004} |                       |
|                       | gets smaller each     |                       |
|                       | time through the      |                       |
|                       | loop, so eventually   |                       |
|                       | we have to get to 0.  |                       |
|                       |                       |                       |
|                       | For some other loops, |                       |
|                       | it is not so easy to  |                       |
|                       | tell. For example:    |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | def sequence(n):      |                       |
|                       |     while n != 1:     |                       |
|                       |         print(n)      |                       |
|                       |         if n % 2 ==   |                       |
|                       | 0:        # n is even |                       |
|                       |             n = n / 2 |                       |
|                       |         else:         |                       |
|                       |            # n is odd |                       |
|                       |                       |                       |
|                       |           n = n*3 + 1 |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | The condition for     |                       |
|                       | this loop is [n !=    |                       |
|                       | 1]{.c004}, so the     |                       |
|                       | loop will continue    |                       |
|                       | until [n]{.c004} is   |                       |
|                       | [1]{.c004}, which     |                       |
|                       | makes the condition   |                       |
|                       | false.                |                       |
|                       |                       |                       |
|                       | Each time through the |                       |
|                       | loop, the program     |                       |
|                       | outputs the value of  |                       |
|                       | [n]{.c004} and then   |                       |
|                       | checks whether it is  |                       |
|                       | even or odd. If it is |                       |
|                       | even, [n]{.c004} is   |                       |
|                       | divided by 2. If it   |                       |
|                       | is odd, the value of  |                       |
|                       | [n]{.c004} is         |                       |
|                       | replaced with [n\*3 + |                       |
|                       | 1]{.c004}. For        |                       |
|                       | example, if the       |                       |
|                       | argument passed to    |                       |
|                       | [sequence]{.c004} is  |                       |
|                       | 3, the resulting      |                       |
|                       | values of [n]{.c004}  |                       |
|                       | are 3, 10, 5, 16, 8,  |                       |
|                       | 4, 2, 1.              |                       |
|                       |                       |                       |
|                       | Since [n]{.c004}      |                       |
|                       | sometimes increases   |                       |
|                       | and sometimes         |                       |
|                       | decreases, there is   |                       |
|                       | no obvious proof that |                       |
|                       | [n]{.c004} will ever  |                       |
|                       | reach 1, or that the  |                       |
|                       | program terminates.   |                       |
|                       | For some particular   |                       |
|                       | values of [n]{.c004}, |                       |
|                       | we can prove          |                       |
|                       | termination. For      |                       |
|                       | example, if the       |                       |
|                       | starting value is a   |                       |
|                       | power of two,         |                       |
|                       | [n]{.c004} will be    |                       |
|                       | even every time       |                       |
|                       | through the loop      |                       |
|                       | until it reaches 1.   |                       |
|                       | The previous example  |                       |
|                       | ends with such a      |                       |
|                       | sequence, starting    |                       |
|                       | with 16.              |                       |
|                       | []{#hevea_default514} |                       |
|                       |                       |                       |
|                       | The hard question is  |                       |
|                       | whether we can prove  |                       |
|                       | that this program     |                       |
|                       | terminates for *all*  |                       |
|                       | positive values of    |                       |
|                       | [n]{.c004}. So far,   |                       |
|                       | no one has been able  |                       |
|                       | to prove it *or*      |                       |
|                       | disprove it! (See     |                       |
|                       | [[ht                  |                       |
|                       | tp://en.wikipedia.org |                       |
|                       | /wiki/Collatz_conject |                       |
|                       | ure]{.c004}](http://e |                       |
|                       | n.wikipedia.org/wiki/ |                       |
|                       | Collatz_conjecture).) |                       |
|                       |                       |                       |
|                       | As an exercise,       |                       |
|                       | rewrite the function  |                       |
|                       | `print_n` from        |                       |
|                       | Sec                   |                       |
|                       | tion [5.8](thinkpytho |                       |
|                       | n2006.html#recursion) |                       |
|                       | using iteration       |                       |
|                       | instead of recursion. |                       |
|                       |                       |                       |
|                       | ## 7.4  [break]{.c0   |                       |
|                       | 04} {#sec85 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default515} |                       |
|                       | []{#hevea_default516} |                       |
|                       |                       |                       |
|                       | Sometimes you don't   |                       |
|                       | know it's time to end |                       |
|                       | a loop until you get  |                       |
|                       | half way through the  |                       |
|                       | body. In that case    |                       |
|                       | you can use the       |                       |
|                       | [break]{.c004}        |                       |
|                       | statement to jump out |                       |
|                       | of the loop.          |                       |
|                       |                       |                       |
|                       | For example, suppose  |                       |
|                       | you want to take      |                       |
|                       | input from the user   |                       |
|                       | until they type       |                       |
|                       | [done]{.c004}. You    |                       |
|                       | could write:          |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | while True:           |                       |
|                       |                       |                       |
|                       |    line = input('> ') |                       |
|                       |                       |                       |
|                       |    if line == 'done': |                       |
|                       |         break         |                       |
|                       |     print(line)       |                       |
|                       |                       |                       |
|                       | print('Done!')        |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | The loop condition is |                       |
|                       | [True]{.c004}, which  |                       |
|                       | is always true, so    |                       |
|                       | the loop runs until   |                       |
|                       | it hits the break     |                       |
|                       | statement.            |                       |
|                       |                       |                       |
|                       | Each time through, it |                       |
|                       | prompts the user with |                       |
|                       | an angle bracket. If  |                       |
|                       | the user types        |                       |
|                       | [done]{.c004}, the    |                       |
|                       | [break]{.c004}        |                       |
|                       | statement exits the   |                       |
|                       | loop. Otherwise the   |                       |
|                       | program echoes        |                       |
|                       | whatever the user     |                       |
|                       | types and goes back   |                       |
|                       | to the top of the     |                       |
|                       | loop. Here's a sample |                       |
|                       | run:                  |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | > not done            |                       |
|                       | not done              |                       |
|                       | > done                |                       |
|                       | Done!                 |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | This way of writing   |                       |
|                       | [while]{.c004} loops  |                       |
|                       | is common because you |                       |
|                       | can check the         |                       |
|                       | condition anywhere in |                       |
|                       | the loop (not just at |                       |
|                       | the top) and you can  |                       |
|                       | express the stop      |                       |
|                       | condition             |                       |
|                       | affirmatively ("stop  |                       |
|                       | when this happens")   |                       |
|                       | rather than           |                       |
|                       | negatively ("keep     |                       |
|                       | going until that      |                       |
|                       | happens").            |                       |
|                       |                       |                       |
|                       | ## 7.5  Square ro     |                       |
|                       | ots {#sec86 .section} |                       |
|                       |                       |                       |
|                       | []{#squareroot}       |                       |
|                       | []{#hevea_default517} |                       |
|                       |                       |                       |
|                       | Loops are often used  |                       |
|                       | in programs that      |                       |
|                       | compute numerical     |                       |
|                       | results by starting   |                       |
|                       | with an approximate   |                       |
|                       | answer and            |                       |
|                       | iteratively improving |                       |
|                       | it.                   |                       |
|                       | []{#hevea_default518} |                       |
|                       |                       |                       |
|                       | For example, one way  |                       |
|                       | of computing square   |                       |
|                       | roots is Newton's     |                       |
|                       | method. Suppose that  |                       |
|                       | you want to know the  |                       |
|                       | square root of        |                       |
|                       | [a]{.c009}. If you    |                       |
|                       | start with almost any |                       |
|                       | estimate, [x]{.c009}, |                       |
|                       | you can compute a     |                       |
|                       | better estimate with  |                       |
|                       | the following         |                       |
|                       | formula:              |                       |
|                       |                       |                       |
|                       | <table                |                       |
|                       | cla                   |                       |
|                       | ss="display dcenter"> |                       |
|                       | <colgroup>            |                       |
|                       | <col                  |                       |
|                       | style="width: 33%" /> |                       |
|                       | <col                  |                       |
|                       | style="width: 33%" /> |                       |
|                       | <col                  |                       |
|                       | style="width: 33%" /> |                       |
|                       | </colgroup>           |                       |
|                       | <tbody>               |                       |
|                       | <tr                   |                       |
|                       | class="odd c017">     |                       |
|                       | <td                   |                       |
|                       | class="dcell"><span   |                       |
|                       | class="c              |                       |
|                       | 009">y</span> = </td> |                       |
|                       | <td                   |                       |
|                       | class="dcell"><table  |                       |
|                       | class="display">      |                       |
|                       | <tbody>               |                       |
|                       | <tr class="odd">      |                       |
|                       | <td                   |                       |
|                       | cla                   |                       |
|                       | ss="dcell c011"><span |                       |
|                       | class="c              |                       |
|                       | 009">x</span> + <span |                       |
|                       | class=                |                       |
|                       | "c009">a</span>/<span |                       |
|                       | class                 |                       |
|                       | ="c009">x</span></td> |                       |
|                       | </tr>                 |                       |
|                       | <tr class="even">     |                       |
|                       | <td                   |                       |
|                       | class="hbar"></td>    |                       |
|                       | </tr>                 |                       |
|                       | <tr class="odd">      |                       |
|                       | <td                   |                       |
|                       | clas                  |                       |
|                       | s="dcell c011">2</td> |                       |
|                       | </tr>                 |                       |
|                       | </tbody>              |                       |
|                       | </table></td>         |                       |
|                       | <td                   |                       |
|                       | class="dcell"> </td>  |                       |
|                       | </tr>                 |                       |
|                       | </tbody>              |                       |
|                       | </table>              |                       |
|                       |                       |                       |
|                       | For example, if       |                       |
|                       | [a]{.c009} is 4 and   |                       |
|                       | [x]{.c009} is 3:      |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> a = 4             |                       |
|                       | >>> x = 3             |                       |
|                       | >>> y = (x + a/x) / 2 |                       |
|                       | >>> y                 |                       |
|                       | 2.16666666667         |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | The result is closer  |                       |
|                       | to the correct answer |                       |
|                       | (√[4]{.c016} = 2). If |                       |
|                       | we repeat the process |                       |
|                       | with the new          |                       |
|                       | estimate, it gets     |                       |
|                       | even closer:          |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> x = y             |                       |
|                       | >>> y = (x + a/x) / 2 |                       |
|                       | >>> y                 |                       |
|                       | 2.00641025641         |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | After a few more      |                       |
|                       | updates, the estimate |                       |
|                       | is almost exact:      |                       |
|                       | []{#hevea_default519} |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> x = y             |                       |
|                       | >>> y = (x + a/x) / 2 |                       |
|                       | >>> y                 |                       |
|                       | 2.00001024003         |                       |
|                       | >>> x = y             |                       |
|                       | >>> y = (x + a/x) / 2 |                       |
|                       | >>> y                 |                       |
|                       | 2.00000000003         |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | In general we don't   |                       |
|                       | know ahead of time    |                       |
|                       | how many steps it     |                       |
|                       | takes to get to the   |                       |
|                       | right answer, but we  |                       |
|                       | know when we get      |                       |
|                       | there because the     |                       |
|                       | estimate stops        |                       |
|                       | changing:             |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> x = y             |                       |
|                       | >>> y = (x + a/x) / 2 |                       |
|                       | >>> y                 |                       |
|                       | 2.0                   |                       |
|                       | >>> x = y             |                       |
|                       | >>> y = (x + a/x) / 2 |                       |
|                       | >>> y                 |                       |
|                       | 2.0                   |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | When [y == x]{.c004}, |                       |
|                       | we can stop. Here is  |                       |
|                       | a loop that starts    |                       |
|                       | with an initial       |                       |
|                       | estimate, [x]{.c004}, |                       |
|                       | and improves it until |                       |
|                       | it stops changing:    |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | while True:           |                       |
|                       |     print(x)          |                       |
|                       |     y = (x + a/x) / 2 |                       |
|                       |     if y == x:        |                       |
|                       |         break         |                       |
|                       |     x = y             |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | For most values of    |                       |
|                       | [a]{.c004} this works |                       |
|                       | fine, but in general  |                       |
|                       | it is dangerous to    |                       |
|                       | test [float]{.c004}   |                       |
|                       | equality.             |                       |
|                       | Floating-point values |                       |
|                       | are only              |                       |
|                       | approximately right:  |                       |
|                       | most rational         |                       |
|                       | numbers, like 1/3,    |                       |
|                       | and irrational        |                       |
|                       | numbers, like         |                       |
|                       | √[2]{.c016}, can't be |                       |
|                       | represented exactly   |                       |
|                       | with a                |                       |
|                       | [float]{.c004}.       |                       |
|                       | []{#hevea_default520} |                       |
|                       | []{#hevea_default521} |                       |
|                       |                       |                       |
|                       | Rather than checking  |                       |
|                       | whether [x]{.c004}    |                       |
|                       | and [y]{.c004} are    |                       |
|                       | exactly equal, it is  |                       |
|                       | safer to use the      |                       |
|                       | built-in function     |                       |
|                       | [abs]{.c004} to       |                       |
|                       | compute the absolute  |                       |
|                       | value, or magnitude,  |                       |
|                       | of the difference     |                       |
|                       | between them:         |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       |     i                 |                       |
|                       | f abs(y-x) < epsilon: |                       |
|                       |         break         |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | Where `epsilon` has a |                       |
|                       | value like            |                       |
|                       | [0.0000001]{.c004}    |                       |
|                       | that determines how   |                       |
|                       | close is close        |                       |
|                       | enough.               |                       |
|                       |                       |                       |
|                       | ## 7.6  Algorit       |                       |
|                       | hms {#sec87 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default522} |                       |
|                       |                       |                       |
|                       | Newton's method is an |                       |
|                       | example of an         |                       |
|                       | [algorithm]{.c010}:   |                       |
|                       | it is a mechanical    |                       |
|                       | process for solving a |                       |
|                       | category of problems  |                       |
|                       | (in this case,        |                       |
|                       | computing square      |                       |
|                       | roots).               |                       |
|                       |                       |                       |
|                       | To understand what an |                       |
|                       | algorithm is, it      |                       |
|                       | might help to start   |                       |
|                       | with something that   |                       |
|                       | is not an algorithm.  |                       |
|                       | When you learned to   |                       |
|                       | multiply single-digit |                       |
|                       | numbers, you probably |                       |
|                       | memorized the         |                       |
|                       | multiplication table. |                       |
|                       | In effect, you        |                       |
|                       | memorized 100         |                       |
|                       | specific solutions.   |                       |
|                       | That kind of          |                       |
|                       | knowledge is not      |                       |
|                       | algorithmic.          |                       |
|                       |                       |                       |
|                       | But if you were       |                       |
|                       | "lazy", you might     |                       |
|                       | have learned a few    |                       |
|                       | tricks. For example,  |                       |
|                       | to find the product   |                       |
|                       | of [n]{.c009} and 9,  |                       |
|                       | you can write         |                       |
|                       | [n]{.c009}−1 as the   |                       |
|                       | first digit and       |                       |
|                       | 10−[n]{.c009} as the  |                       |
|                       | second digit. This    |                       |
|                       | trick is a general    |                       |
|                       | solution for          |                       |
|                       | multiplying any       |                       |
|                       | single-digit number   |                       |
|                       | by 9. That's an       |                       |
|                       | algorithm!            |                       |
|                       | []{#hevea_default523} |                       |
|                       | []{#hevea_default524} |                       |
|                       | []{#hevea_default525} |                       |
|                       | []{#hevea_default526} |                       |
|                       |                       |                       |
|                       | Similarly, the        |                       |
|                       | techniques you        |                       |
|                       | learned for addition  |                       |
|                       | with carrying,        |                       |
|                       | subtraction with      |                       |
|                       | borrowing, and long   |                       |
|                       | division are all      |                       |
|                       | algorithms. One of    |                       |
|                       | the characteristics   |                       |
|                       | of algorithms is that |                       |
|                       | they do not require   |                       |
|                       | any intelligence to   |                       |
|                       | carry out. They are   |                       |
|                       | mechanical processes  |                       |
|                       | where each step       |                       |
|                       | follows from the last |                       |
|                       | according to a simple |                       |
|                       | set of rules.         |                       |
|                       |                       |                       |
|                       | Executing algorithms  |                       |
|                       | is boring, but        |                       |
|                       | designing them is     |                       |
|                       | interesting,          |                       |
|                       | intellectually        |                       |
|                       | challenging, and a    |                       |
|                       | central part of       |                       |
|                       | computer science.     |                       |
|                       |                       |                       |
|                       | Some of the things    |                       |
|                       | that people do        |                       |
|                       | naturally, without    |                       |
|                       | difficulty or         |                       |
|                       | conscious thought,    |                       |
|                       | are the hardest to    |                       |
|                       | express               |                       |
|                       | algorithmically.      |                       |
|                       | Understanding natural |                       |
|                       | language is a good    |                       |
|                       | example. We all do    |                       |
|                       | it, but so far no one |                       |
|                       | has been able to      |                       |
|                       | explain *how* we do   |                       |
|                       | it, at least not in   |                       |
|                       | the form of an        |                       |
|                       | algorithm.            |                       |
|                       |                       |                       |
|                       | ## 7.7  Debugg        |                       |
|                       | ing {#sec88 .section} |                       |
|                       |                       |                       |
|                       | []{#bisectbug}        |                       |
|                       |                       |                       |
|                       | As you start writing  |                       |
|                       | bigger programs, you  |                       |
|                       | might find yourself   |                       |
|                       | spending more time    |                       |
|                       | debugging. More code  |                       |
|                       | means more chances to |                       |
|                       | make an error and     |                       |
|                       | more places for bugs  |                       |
|                       | to hide.              |                       |
|                       | []{#hevea_default527} |                       |
|                       | []{#hevea_default528} |                       |
|                       |                       |                       |
|                       | One way to cut your   |                       |
|                       | debugging time is     |                       |
|                       | "debugging by         |                       |
|                       | bisection". For       |                       |
|                       | example, if there are |                       |
|                       | 100 lines in your     |                       |
|                       | program and you check |                       |
|                       | them one at a time,   |                       |
|                       | it would take 100     |                       |
|                       | steps.                |                       |
|                       |                       |                       |
|                       | Instead, try to break |                       |
|                       | the problem in half.  |                       |
|                       | Look at the middle of |                       |
|                       | the program, or near  |                       |
|                       | it, for an            |                       |
|                       | intermediate value    |                       |
|                       | you can check. Add a  |                       |
|                       | [print]{.c004}        |                       |
|                       | statement (or         |                       |
|                       | something else that   |                       |
|                       | has a verifiable      |                       |
|                       | effect) and run the   |                       |
|                       | program.              |                       |
|                       |                       |                       |
|                       | If the mid-point      |                       |
|                       | check is incorrect,   |                       |
|                       | there must be a       |                       |
|                       | problem in the first  |                       |
|                       | half of the program.  |                       |
|                       | If it is correct, the |                       |
|                       | problem is in the     |                       |
|                       | second half.          |                       |
|                       |                       |                       |
|                       | Every time you        |                       |
|                       | perform a check like  |                       |
|                       | this, you halve the   |                       |
|                       | number of lines you   |                       |
|                       | have to search. After |                       |
|                       | six steps (which is   |                       |
|                       | fewer than 100), you  |                       |
|                       | would be down to one  |                       |
|                       | or two lines of code, |                       |
|                       | at least in theory.   |                       |
|                       |                       |                       |
|                       | In practice it is not |                       |
|                       | always clear what the |                       |
|                       | "middle of the        |                       |
|                       | program" is and not   |                       |
|                       | always possible to    |                       |
|                       | check it. It doesn't  |                       |
|                       | make sense to count   |                       |
|                       | lines and find the    |                       |
|                       | exact midpoint.       |                       |
|                       | Instead, think about  |                       |
|                       | places in the program |                       |
|                       | where there might be  |                       |
|                       | errors and places     |                       |
|                       | where it is easy to   |                       |
|                       | put a check. Then     |                       |
|                       | choose a spot where   |                       |
|                       | you think the chances |                       |
|                       | are about the same    |                       |
|                       | that the bug is       |                       |
|                       | before or after the   |                       |
|                       | check.                |                       |
|                       |                       |                       |
|                       | ## 7.8  Gloss         |                       |
|                       | ary {#sec89 .section} |                       |
|                       |                       |                       |
|                       | [                     |                       |
|                       | reassignment:]{.c010} |                       |
|                       | :   Assigning a new   |                       |
|                       |     value to a        |                       |
|                       |     variable that     |                       |
|                       |     already exists.   |                       |
|                       |                       |                       |
|                       | []{#hevea_default529} |                       |
|                       |                       |                       |
|                       | [update:]{.c010}      |                       |
|                       | :   An assignment     |                       |
|                       |     where the new     |                       |
|                       |     value of the      |                       |
|                       |     variable depends  |                       |
|                       |     on the old.       |                       |
|                       |                       |                       |
|                       | []{#hevea_default530} |                       |
|                       |                       |                       |
|                       | [in                   |                       |
|                       | itialization:]{.c010} |                       |
|                       | :   An assignment     |                       |
|                       |     that gives an     |                       |
|                       |     initial value to  |                       |
|                       |     a variable that   |                       |
|                       |     will be updated.  |                       |
|                       |                       |                       |
|                       | []{#hevea_default531} |                       |
|                       |                       |                       |
|                       | [increment:]{.c010}   |                       |
|                       | :   An update that    |                       |
|                       |     increases the     |                       |
|                       |     value of a        |                       |
|                       |     variable (often   |                       |
|                       |     by one).          |                       |
|                       |                       |                       |
|                       | []{#hevea_default532} |                       |
|                       |                       |                       |
|                       | [decrement:]{.c010}   |                       |
|                       | :   An update that    |                       |
|                       |     decreases the     |                       |
|                       |     value of a        |                       |
|                       |     variable.         |                       |
|                       |                       |                       |
|                       | []{#hevea_default533} |                       |
|                       |                       |                       |
|                       | [iteration:]{.c010}   |                       |
|                       | :   Repeated          |                       |
|                       |     execution of a    |                       |
|                       |     set of statements |                       |
|                       |     using either a    |                       |
|                       |     recursive         |                       |
|                       |     function call or  |                       |
|                       |     a loop.           |                       |
|                       |                       |                       |
|                       | []{#hevea_default534} |                       |
|                       |                       |                       |
|                       | [i                    |                       |
|                       | nfinite loop:]{.c010} |                       |
|                       | :   A loop in which   |                       |
|                       |     the terminating   |                       |
|                       |     condition is      |                       |
|                       |     never satisfied.  |                       |
|                       |                       |                       |
|                       | []{#hevea_default535} |                       |
|                       |                       |                       |
|                       | [algorithm:]{.c010}   |                       |
|                       | :   A general process |                       |
|                       |     for solving a     |                       |
|                       |     category of       |                       |
|                       |     problems.         |                       |
|                       |                       |                       |
|                       | []{#hevea_default536} |                       |
|                       |                       |                       |
|                       | ## 7.9  Exerci        |                       |
|                       | ses {#sec90 .section} |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 1]{.c010}   |                       |
|                       | []{#hevea_default537} |                       |
|                       |                       |                       |
|                       | *Copy the loop from   |                       |
|                       | Section               |                       |
|                       | *[*7.5*](#squareroot) |                       |
|                       | *and encapsulate it   |                       |
|                       | in a function called  |                       |
|                       | `mysqrt` that takes   |                       |
|                       | [a]{.c004} as a       |                       |
|                       | parameter, chooses a  |                       |
|                       | reasonable value of   |                       |
|                       | [x]{.c004}, and       |                       |
|                       | returns an estimate   |                       |
|                       | of the square root of |                       |
|                       | [a]{.c004}.*          |                       |
|                       | []{#hevea_default538} |                       |
|                       |                       |                       |
|                       | *To test it, write a  |                       |
|                       | function named        |                       |
|                       | `test_square_root`    |                       |
|                       | that prints a table   |                       |
|                       | like this:*           |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | a   mysqrt(a)         |                       |
|                       |    math.sqrt(a)  diff |                       |
|                       | -   ---------         |                       |
|                       |    ------------  ---- |                       |
|                       | 1.0 1.0               |                       |
|                       |     1.0           0.0 |                       |
|                       | 2.0 1.4               |                       |
|                       | 1421356237 1.41421356 |                       |
|                       | 237 2.22044604925e-16 |                       |
|                       | 3.0 1.73205080        |                       |
|                       | 757 1.73205080757 0.0 |                       |
|                       | 4.0 2.0               |                       |
|                       |     2.0           0.0 |                       |
|                       | 5.0 2.23606797        |                       |
|                       | 75  2.2360679775  0.0 |                       |
|                       | 6.0 2.44948974        |                       |
|                       | 278 2.44948974278 0.0 |                       |
|                       | 7.0 2.64575131        |                       |
|                       | 106 2.64575131106 0.0 |                       |
|                       | 8.0 2.                |                       |
|                       | 82842712475 2.8284271 |                       |
|                       | 2475 4.4408920985e-16 |                       |
|                       | 9.0 3.0               |                       |
|                       |     3.0           0.0 |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | *The first column is  |                       |
|                       | a number,*            |                       |
|                       | [a]{.c009}*; the      |                       |
|                       | second column is the  |                       |
|                       | square root of*       |                       |
|                       | [a]{.c009} *computed  |                       |
|                       | with `mysqrt`; the    |                       |
|                       | third column is the   |                       |
|                       | square root computed  |                       |
|                       | by                    |                       |
|                       | [math.sqrt]{.c004};   |                       |
|                       | the fourth column is  |                       |
|                       | the absolute value of |                       |
|                       | the difference        |                       |
|                       | between the two       |                       |
|                       | estimates.*           |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 2]{.c010}   |                       |
|                       | []{#hevea_default539} |                       |
|                       | []{#hevea_default540} |                       |
|                       |                       |                       |
|                       | *The built-in         |                       |
|                       | function              |                       |
|                       | [eval]{.c004} takes a |                       |
|                       | string and evaluates  |                       |
|                       | it using the Python   |                       |
|                       | interpreter. For      |                       |
|                       | example:*             |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> eval('1 + 2 * 3') |                       |
|                       | 7                     |                       |
|                       | >>> import math       |                       |
|                       | >>>                   |                       |
|                       |  eval('math.sqrt(5)') |                       |
|                       | 2.2360679774997898    |                       |
|                       | >>>                   |                       |
|                       | eval('type(math.pi)') |                       |
|                       | <class 'float'>       |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | *Write a function     |                       |
|                       | called `eval_loop`    |                       |
|                       | that iteratively      |                       |
|                       | prompts the user,     |                       |
|                       | takes the resulting   |                       |
|                       | input and evaluates   |                       |
|                       | it using              |                       |
|                       | [eval]{.c004}, and    |                       |
|                       | prints the result.*   |                       |
|                       |                       |                       |
|                       | *It should continue   |                       |
|                       | until the user enters |                       |
|                       | `'done'`, and then    |                       |
|                       | return the value of   |                       |
|                       | the last expression   |                       |
|                       | it evaluated.*        |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | ::: theorem           |                       |
|                       | [Exercise 3]{.c010}   |                       |
|                       | []{#hevea_default541} |                       |
|                       |                       |                       |
|                       | *The mathematician    |                       |
|                       | Srinivasa Ramanujan   |                       |
|                       | found an infinite     |                       |
|                       | series that can be    |                       |
|                       | used to generate a    |                       |
|                       | numerical             |                       |
|                       | approximation of* 1 / |                       |
|                       | π*:*                  |                       |
|                       | []{#hevea_default542} |                       |
|                       |                       |                       |
|                       | <table                |                       |
|                       | cla                   |                       |
|                       | ss="display dcenter"> |                       |
|                       | <colgroup>            |                       |
|                       | <col                  |                       |
|                       | style="width: 12%" /> |                       |
|                       | <col                  |                       |
|                       | style="width: 12%" /> |                       |
|                       | <col                  |                       |
|                       | style="width: 12%" /> |                       |
|                       | <col                  |                       |
|                       | style="width: 12%" /> |                       |
|                       | <col                  |                       |
|                       | style="width: 12%" /> |                       |
|                       | <col                  |                       |
|                       | style="width: 12%" /> |                       |
|                       | <col                  |                       |
|                       | style="width: 12%" /> |                       |
|                       | <col                  |                       |
|                       | style="width: 12%" /> |                       |
|                       | </colgroup>           |                       |
|                       | <tbody>               |                       |
|                       | <tr                   |                       |
|                       | class="odd c017">     |                       |
|                       | <td                   |                       |
|                       | class="dcell"><table  |                       |
|                       | class="display">      |                       |
|                       | <tbody>               |                       |
|                       | <tr class="odd">      |                       |
|                       | <td                   |                       |
|                       | clas                  |                       |
|                       | s="dcell c011">1</td> |                       |
|                       | </tr>                 |                       |
|                       | <tr class="even">     |                       |
|                       | <td                   |                       |
|                       | class="hbar"></td>    |                       |
|                       | </tr>                 |                       |
|                       | <tr class="odd">      |                       |
|                       | <td                   |                       |
|                       | clas                  |                       |
|                       | s="dcell c011">π</td> |                       |
|                       | </tr>                 |                       |
|                       | </tbody>              |                       |
|                       | </table></td>         |                       |
|                       | <td                   |                       |
|                       | c                     |                       |
|                       | lass="dcell"> = </td> |                       |
|                       | <td                   |                       |
|                       | class="dcell"><table  |                       |
|                       | class="display">      |                       |
|                       | <colgroup>            |                       |
|                       | <col                  |                       |
|                       | s                     |                       |
|                       | tyle="width: 100%" /> |                       |
|                       | </colgroup>           |                       |
|                       | <tbody>               |                       |
|                       | <tr class="odd">      |                       |
|                       | <td                   |                       |
|                       | clas                  |                       |
|                       | s="dcell c011"><table |                       |
|                       | class="display">      |                       |
|                       | <colgroup>            |                       |
|                       | <col                  |                       |
|                       | style="width: 33%" /> |                       |
|                       | <col                  |                       |
|                       | style="width: 33%" /> |                       |
|                       | <col                  |                       |
|                       | style="width: 33%" /> |                       |
|                       | </colgroup>           |                       |
|                       | <tbody>               |                       |
|                       | <tr                   |                       |
|                       | class="odd c017">     |                       |
|                       | <td                   |                       |
|                       | class="dcell">2</td>  |                       |
|                       | <td                   |                       |
|                       | class="dcell"><span   |                       |
|                       | class                 |                       |
|                       | ="c008">√</span></td> |                       |
|                       | <td                   |                       |
|                       | class="dcell"><table  |                       |
|                       | class                 |                       |
|                       | ="c002 cellpadding0"> |                       |
|                       | <tbody>               |                       |
|                       | <tr class="odd">      |                       |
|                       | <td                   |                       |
|                       | class="hbar"></td>    |                       |
|                       | </tr>                 |                       |
|                       | <tr class="even">     |                       |
|                       | <td                   |                       |
|                       | class="c012">2</td>   |                       |
|                       | </tr>                 |                       |
|                       | </tbody>              |                       |
|                       | </table></td>         |                       |
|                       | </tr>                 |                       |
|                       | </tbody>              |                       |
|                       | </table></td>         |                       |
|                       | </tr>                 |                       |
|                       | <tr class="even">     |                       |
|                       | <td                   |                       |
|                       | class="hbar"></td>    |                       |
|                       | </tr>                 |                       |
|                       | <tr class="odd">      |                       |
|                       | <td                   |                       |
|                       | class="               |                       |
|                       | dcell c011">9801</td> |                       |
|                       | </tr>                 |                       |
|                       | </tbody>              |                       |
|                       | </table></td>         |                       |
|                       | <td                   |                       |
|                       | class="dcell"> </td>  |                       |
|                       | <td                   |                       |
|                       | class="dcell"><table  |                       |
|                       | class="display">      |                       |
|                       | <tbody>               |                       |
|                       | <tr class="odd">      |                       |
|                       | <td                   |                       |
|                       | clas                  |                       |
|                       | s="dcell c011">∞</td> |                       |
|                       | </tr>                 |                       |
|                       | <tr class="even">     |                       |
|                       | <td                   |                       |
|                       | cla                   |                       |
|                       | ss="dcell c011"><span |                       |
|                       | style="font-size:xx   |                       |
|                       | -large">∑</span></td> |                       |
|                       | </tr>                 |                       |
|                       | <tr class="odd">      |                       |
|                       | <td                   |                       |
|                       | cla                   |                       |
|                       | ss="dcell c011"><span |                       |
|                       | class="               |                       |
|                       | c009">k</span>=0</td> |                       |
|                       | </tr>                 |                       |
|                       | </tbody>              |                       |
|                       | </table></td>         |                       |
|                       | <td                   |                       |
|                       | class="dcell"> </td>  |                       |
|                       | <td                   |                       |
|                       | class="dcell"><table  |                       |
|                       | class="display">      |                       |
|                       | <tbody>               |                       |
|                       | <tr class="odd">      |                       |
|                       | <td                   |                       |
|                       | class                 |                       |
|                       | ="dcell c011">(4<span |                       |
|                       | class="c009">k</sp    |                       |
|                       | an>)!(1103+26390<span |                       |
|                       | class=                |                       |
|                       | "c009">k</span>)</td> |                       |
|                       | </tr>                 |                       |
|                       | <tr class="even">     |                       |
|                       | <td                   |                       |
|                       | class="hbar"></td>    |                       |
|                       | </tr>                 |                       |
|                       | <tr class="odd">      |                       |
|                       | <td                   |                       |
|                       | clas                  |                       |
|                       | s="dcell c011">(<span |                       |
|                       | class="c              |                       |
|                       | 009">k</span>!)<sup>4 |                       |
|                       | </sup> 396<sup>4<span |                       |
|                       | class="c009           |                       |
|                       | ">k</span></sup></td> |                       |
|                       | </tr>                 |                       |
|                       | </tbody>              |                       |
|                       | </table></td>         |                       |
|                       | <td                   |                       |
|                       | class="dcell"> </td>  |                       |
|                       | </tr>                 |                       |
|                       | </tbody>              |                       |
|                       | </table>              |                       |
|                       |                       |                       |
|                       | *Write a function     |                       |
|                       | called `estimate_pi`  |                       |
|                       | that uses this        |                       |
|                       | formula to compute    |                       |
|                       | and return an         |                       |
|                       | estimate of* π*. It   |                       |
|                       | should use a          |                       |
|                       | [while]{.c004} loop   |                       |
|                       | to compute terms of   |                       |
|                       | the summation until   |                       |
|                       | the last term is      |                       |
|                       | smaller than          |                       |
|                       | [1e-15]{.c004} (which |                       |
|                       | is Python notation    |                       |
|                       | for* 10^−15^*). You   |                       |
|                       | can check the result  |                       |
|                       | by comparing it to    |                       |
|                       | [math.pi]{.c004}.*    |                       |
|                       |                       |                       |
|                       | *Solution:*           |                       |
|                       | [*                    |                       |
|                       | [https://thinkpython. |                       |
|                       | com/code/pi.py]{.c004 |                       |
|                       | }*](https://thinkpyth |                       |
|                       | on.com/code/pi.py)*.* |                       |
|                       | :::                   |                       |
|                       |                       |                       |
|                       | [Buy this book at     |                       |
|                       | Amazon.com](ht        |                       |
|                       | tp://amzn.to/1VUYQUU) |                       |
+-----------------------+-----------------------+-----------------------+

------------------------------------------------------------------------

[![Previous](back.png)](thinkpython2007.html)
[![Up](up.png)](index.html) [![Next](next.png)](thinkpython2009.html)
---
generator: hevea 2.32
title: Strings
---

[![Previous](back.png)](thinkpython2008.html)
[![Up](up.png)](index.html) [![Next](next.png)](thinkpython2010.html)

------------------------------------------------------------------------

+-----------------------+-----------------------+-----------------------+
|                       | [Buy this book at     | #### Contribute       |
|                       | Amazon.com](ht        |                       |
|                       | tp://amzn.to/1VUYQUU) | If you would like to  |
|                       |                       | make a contribution   |
|                       | # Chapter 8  Stri     | to support my books,  |
|                       | ngs {#sec91 .chapter} | you can use the       |
|                       |                       | button below and pay  |
|                       | []{#strings}          | with PayPal. Thank    |
|                       |                       | you!                  |
|                       | Strings are not like  |                       |
|                       | integers, floats, and |   -----------         |
|                       | booleans. A string is | --------------------- |
|                       | a [sequence]{.c010},  | --------------------- |
|                       | which means it is an  | --------------------- |
|                       | ordered collection of | --------------------- |
|                       | other values. In this |   Pay what you want:  |
|                       | chapter you'll see    |   Small \$1           |
|                       | how to access the     | .00 USD Medium \$5.00 |
|                       | characters that make  |  USD Large \$10.00 US |
|                       | up a string, and      | D X-Large \$20.00 USD |
|                       | you'll learn about    |  XX-Large \$50.00 USD |
|                       | some of the methods   |   -----------         |
|                       | strings provide.      | --------------------- |
|                       | []{#hevea_default543} | --------------------- |
|                       |                       | --------------------- |
|                       | ## 8.1                | --------------------- |
|                       |   A string is a seque |                       |
|                       | nce {#sec92 .section} | ![](                  |
|                       |                       | https://www.paypalobj |
|                       | []{#hevea_default544} | ects.com/en_US/i/scr/ |
|                       | []{#hevea_default545} | pixel.gif){border="0" |
|                       | []{#hevea_default546} | width="1" height="1"} |
|                       | []{#hevea_default547} |                       |
|                       | A string is a         | ####                  |
|                       | sequence of           | Are you using one of  |
|                       | characters. You can   | our books in a class? |
|                       | access the characters |                       |
|                       | one at a time with    | We\'d like to know    |
|                       | the bracket operator: | about it. Please      |
|                       |                       | consider filling out  |
|                       | ``` verbatim          | [this short           |
|                       | >>> fruit = 'banana'  | survey](http://s      |
|                       | >>> letter = fruit[1] | preadsheets.google.co |
|                       | ```                   | m/viewform?formkey=dC |
|                       |                       | 0tNUZkMjBEdXVoRGljNm9 |
|                       | The second statement  | FRmlTMHc6MA){onclick= |
|                       | selects character     | "javascript: pageTrac |
|                       | number 1 from         | ker._trackPageview('/ |
|                       | [fruit]{.c004} and    | outbound/survey');"}. |
|                       | assigns it to         |                       |
|                       | [letter]{.c004}.      | \                     |
|                       | []{#hevea_default548} |                       |
|                       |                       | [Think                |
|                       | The expression in     | DSP](http             |
|                       | brackets is called an | ://www.amazon.com/gp/ |
|                       | [index]{.c010}. The   | product/1491938455/re |
|                       | index indicates which | f=as_li_tl?ie=UTF8&ca |
|                       | character in the      | mp=1789&creative=9325 |
|                       | sequence you want     | &creativeASIN=1491938 |
|                       | (hence the name).     | 455&linkCode=as2&tag= |
|                       |                       | greenteapre01-20&link |
|                       | But you might not get | Id=2JJH4SWCAVVYSQHO){ |
|                       | what you expect:      | rel="nofollow"}![](ht |
|                       |                       | tp://ir-na.amazon-ads |
|                       | ``` verbatim          | ystem.com/e/ir?t=gree |
|                       | >>> letter            | nteapre01-20&l=as2&o= |
|                       | 'a'                   | 1&a=1491938455){.c003 |
|                       | ```                   | width="1" height="1"  |
|                       |                       | border="0"}           |
|                       | For most people, the  |                       |
|                       | first letter of       | [                     |
|                       | `'banana'` is         | ![](http://ws-na.amaz |
|                       | [b]{.c004}, not       | on-adsystem.com/widge |
|                       | [a]{.c004}. But for   | ts/q?_encoding=UTF8&A |
|                       | computer scientists,  | SIN=1491938455&Format |
|                       | the index is an       | =_SL160_&ID=AsinImage |
|                       | offset from the       | &MarketPlace=US&Servi |
|                       | beginning of the      | ceVersion=20070822&WS |
|                       | string, and the       | =1&tag=greenteapre01- |
|                       | offset of the first   | 20){border="0"}](http |
|                       | letter is zero.       | ://www.amazon.com/gp/ |
|                       |                       | product/1491938455/re |
|                       | ``` verbatim          | f=as_li_tl?ie=UTF8&ca |
|                       | >>> letter = fruit[0] | mp=1789&creative=9325 |
|                       | >>> letter            | &creativeASIN=1491938 |
|                       | 'b'                   | 455&linkCode=as2&tag= |
|                       | ```                   | greenteapre01-20&link |
|                       |                       | Id=CTV7PDT7E5EGGJUM){ |
|                       | So [b]{.c004} is the  | rel="nofollow"}![](ht |
|                       | 0th letter            | tp://ir-na.amazon-ads |
|                       | ("zero-eth") of       | ystem.com/e/ir?t=gree |
|                       | `'banana'`,           | nteapre01-20&l=as2&o= |
|                       | [a]{.c004} is the 1th | 1&a=1491938455){.c003 |
|                       | letter ("one-eth"),   | width="1" height="1"  |
|                       | and [n]{.c004} is the | border="0"}           |
|                       | 2th letter            |                       |
|                       | ("two-eth").          | [Think                |
|                       | []{#hevea_default549} | Java](http            |
|                       | []{#hevea_default550} | ://www.amazon.com/gp/ |
|                       |                       | product/1491929561/re |
|                       | As an index you can   | f=as_li_tl?ie=UTF8&ca |
|                       | use an expression     | mp=1789&creative=9325 |
|                       | that contains         | &creativeASIN=1491929 |
|                       | variables and         | 561&linkCode=as2&tag= |
|                       | operators:            | greenteapre01-20&link |
|                       | []{#hevea_default551} | Id=ZY6MAYM33ZTNSCNZ){ |
|                       |                       | rel="nofollow"}![](ht |
|                       | ``` verbatim          | tp://ir-na.amazon-ads |
|                       | >>> i = 1             | ystem.com/e/ir?t=gree |
|                       | >>> fruit[i]          | nteapre01-20&l=as2&o= |
|                       | 'a'                   | 1&a=1491929561){.c003 |
|                       | >>> fruit[i+1]        | width="1" height="1"  |
|                       | 'n'                   | border="0"}           |
|                       | ```                   |                       |
|                       |                       | [                     |
|                       | But the value of the  | ![](http://ws-na.amaz |
|                       | index has to be an    | on-adsystem.com/widge |
|                       | integer. Otherwise    | ts/q?_encoding=UTF8&A |
|                       | you get:              | SIN=1491929561&Format |
|                       | []{#hevea_default552} | =_SL160_&ID=AsinImage |
|                       | []{#hevea_default553} | &MarketPlace=US&Servi |
|                       |                       | ceVersion=20070822&WS |
|                       | ``` verbatim          | =1&tag=greenteapre01- |
|                       | >>                    | 20){border="0"}](http |
|                       | > letter = fruit[1.5] | ://www.amazon.com/gp/ |
|                       | TypeError: string ind | product/1491929561/re |
|                       | ices must be integers | f=as_li_tl?ie=UTF8&ca |
|                       | ```                   | mp=1789&creative=9325 |
|                       |                       | &creativeASIN=1491929 |
|                       | ## 8.2  [len]{.c0     | 561&linkCode=as2&tag= |
|                       | 04} {#sec93 .section} | greenteapre01-20&link |
|                       |                       | Id=PT77ANWARUNNU3UK){ |
|                       | []{#hevea_default554} | rel="nofollow"}![](ht |
|                       | []{#hevea_default555} | tp://ir-na.amazon-ads |
|                       |                       | ystem.com/e/ir?t=gree |
|                       | [len]{.c004} is a     | nteapre01-20&l=as2&o= |
|                       | built-in function     | 1&a=1491929561){.c003 |
|                       | that returns the      | width="1" height="1"  |
|                       | number of characters  | border="0"}           |
|                       | in a string:          |                       |
|                       |                       | [Think                |
|                       | ``` verbatim          | Bay                   |
|                       | >>> fruit = 'banana'  | es](http://www.amazon |
|                       | >>> len(fruit)        | .com/gp/product/14493 |
|                       | 6                     | 70780/ref=as_li_qf_sp |
|                       | ```                   | _asin_tl?ie=UTF8&camp |
|                       |                       | =1789&creative=9325&c |
|                       | To get the last       | reativeASIN=144937078 |
|                       | letter of a string,   | 0&linkCode=as2&tag=gr |
|                       | you might be tempted  | eenteapre01-20)![](ht |
|                       | to try something like | tp://ir-na.amazon-ads |
|                       | this:                 | ystem.com/e/ir?t=gree |
|                       | []{#hevea_default556} | nteapre01-20&l=as2&o= |
|                       | []{#hevea_default557} | 1&a=1449370780){.c003 |
|                       |                       | width="1" height="1"  |
|                       | ``` verbatim          | border="0"}           |
|                       | >>                    |                       |
|                       | > length = len(fruit) | [![](http://ws        |
|                       | >>>                   | -na.amazon-adsystem.c |
|                       |  last = fruit[length] | om/widgets/q?_encodin |
|                       | IndexError: stri      | g=UTF8&ASIN=144937078 |
|                       | ng index out of range | 0&Format=_SL160_&ID=A |
|                       | ```                   | sinImage&MarketPlace= |
|                       |                       | US&ServiceVersion=200 |
|                       | The reason for the    | 70822&WS=1&tag=greent |
|                       | [IndexError]{.c004}   | eapre01-20){border="0 |
|                       | is that there is no   | "}](http://www.amazon |
|                       | letter in             | .com/gp/product/14493 |
|                       | ['banana']{.c004}     | 70780/ref=as_li_qf_sp |
|                       | with the index 6.     | _asin_il?ie=UTF8&camp |
|                       | Since we started      | =1789&creative=9325&c |
|                       | counting at zero, the | reativeASIN=144937078 |
|                       | six letters are       | 0&linkCode=as2&tag=gr |
|                       | numbered 0 to 5. To   | eenteapre01-20)![](ht |
|                       | get the last          | tp://ir-na.amazon-ads |
|                       | character, you have   | ystem.com/e/ir?t=gree |
|                       | to subtract 1 from    | nteapre01-20&l=as2&o= |
|                       | [length]{.c004}:      | 1&a=1449370780){.c003 |
|                       |                       | width="1" height="1"  |
|                       | ``` verbatim          | border="0"}           |
|                       | >>> l                 |                       |
|                       | ast = fruit[length-1] | [Think Python         |
|                       | >>> last              | 2e](http              |
|                       | 'a'                   | ://www.amazon.com/gp/ |
|                       | ```                   | product/1491939362/re |
|                       |                       | f=as_li_tl?ie=UTF8&ca |
|                       | Or you can use        | mp=1789&creative=9325 |
|                       | negative indices,     | &creativeASIN=1491939 |
|                       | which count backward  | 362&linkCode=as2&tag= |
|                       | from the end of the   | greenteapre01-20&link |
|                       | string. The           | Id=FJKSQ3IHEMY2F2VA){ |
|                       | expression            | rel="nofollow"}![](ht |
|                       | [fruit\[-1\]]{.c004}  | tp://ir-na.amazon-ads |
|                       | yields the last       | ystem.com/e/ir?t=gree |
|                       | letter,               | nteapre01-20&l=as2&o= |
|                       | [fruit\[-2\]]{.c004}  | 1&a=1491939362){.c003 |
|                       | yields the second to  | width="1" height="1"  |
|                       | last, and so on.      | border="0"}           |
|                       | []{#hevea_default558} |                       |
|                       | []{#hevea_default559} | [                     |
|                       |                       | ![](http://ws-na.amaz |
|                       | ## 8.3  Traversal     | on-adsystem.com/widge |
|                       | with a [for]{.c004} l | ts/q?_encoding=UTF8&A |
|                       | oop {#sec94 .section} | SIN=1491939362&Format |
|                       |                       | =_SL160_&ID=AsinImage |
|                       | []{#for}              | &MarketPlace=US&Servi |
|                       | []{#hevea_default560} | ceVersion=20070822&WS |
|                       | []{#hevea_default561} | =1&tag=greenteapre01- |
|                       | []{#hevea_default562} | 20){border="0"}](http |
|                       | []{#hevea_default563} | ://www.amazon.com/gp/ |
|                       | []{#hevea_default564} | product/1491939362/re |
|                       | []{#hevea_default565} | f=as_li_tl?ie=UTF8&ca |
|                       |                       | mp=1789&creative=9325 |
|                       | A lot of computations | &creativeASIN=1491939 |
|                       | involve processing a  | 362&linkCode=as2&tag= |
|                       | string one character  | greenteapre01-20&link |
|                       | at a time. Often they | Id=ZZ454DLQ3IXDHNHX){ |
|                       | start at the          | rel="nofollow"}![](ht |
|                       | beginning, select     | tp://ir-na.amazon-ads |
|                       | each character in     | ystem.com/e/ir?t=gree |
|                       | turn, do something to | nteapre01-20&l=as2&o= |
|                       | it, and continue      | 1&a=1491939362){.c003 |
|                       | until the end. This   | width="1" height="1"  |
|                       | pattern of processing | border="0"}           |
|                       | is called a           |                       |
|                       | [traversal]{.c010}.   | [Think Stats          |
|                       | One way to write a    | 2e](http://ww         |
|                       | traversal is with a   | w.amazon.com/gp/produ |
|                       | [while]{.c004} loop:  | ct/1491907339/ref=as_ |
|                       |                       | li_tl?ie=UTF8&camp=17 |
|                       | ``` verbatim          | 89&creative=9325&crea |
|                       | index = 0             | tiveASIN=1491907339&l |
|                       | whil                  | inkCode=as2&tag=green |
|                       | e index < len(fruit): | teapre01-20&linkId=O7 |
|                       |                       | WYM6H6YBYUFNWU)![](ht |
|                       | letter = fruit[index] | tp://ir-na.amazon-ads |
|                       |     print(letter)     | ystem.com/e/ir?t=gree |
|                       |     index = index + 1 | nteapre01-20&l=as2&o= |
|                       | ```                   | 1&a=1491907339){.c003 |
|                       |                       | width="1" height="1"  |
|                       | This loop traverses   | border="0"}           |
|                       | the string and        |                       |
|                       | displays each letter  | [![](h                |
|                       | on a line by itself.  | ttp://ws-na.amazon-ad |
|                       | The loop condition is | system.com/widgets/q? |
|                       | [index \<             | _encoding=UTF8&ASIN=1 |
|                       | len(fruit)]{.c004},   | 491907339&Format=_SL1 |
|                       | so when               | 60_&ID=AsinImage&Mark |
|                       | [index]{.c004} is     | etPlace=US&ServiceVer |
|                       | equal to the length   | sion=20070822&WS=1&ta |
|                       | of the string, the    | g=greenteapre01-20){b |
|                       | condition is false,   | order="0"}](http://ww |
|                       | and the body of the   | w.amazon.com/gp/produ |
|                       | loop doesn't run. The | ct/1491907339/ref=as_ |
|                       | last character        | li_tl?ie=UTF8&camp=17 |
|                       | accessed is the one   | 89&creative=9325&crea |
|                       | with the index        | tiveASIN=1491907339&l |
|                       | [                     | inkCode=as2&tag=green |
|                       | len(fruit)-1]{.c004}, | teapre01-20&linkId=JV |
|                       | which is the last     | SYKQHYSUIEYRHL)![](ht |
|                       | character in the      | tp://ir-na.amazon-ads |
|                       | string.               | ystem.com/e/ir?t=gree |
|                       |                       | nteapre01-20&l=as2&o= |
|                       | As an exercise, write | 1&a=1491907339){.c003 |
|                       | a function that takes | width="1" height="1"  |
|                       | a string as an        | border="0"}           |
|                       | argument and displays |                       |
|                       | the letters backward, | [Think                |
|                       | one per line.         | Complexity](http      |
|                       |                       | ://www.amazon.com/gp/ |
|                       | Another way to write  | product/1449314635/re |
|                       | a traversal is with a | f=as_li_tf_tl?ie=UTF8 |
|                       | [for]{.c004} loop:    | &tag=greenteapre01-20 |
|                       |                       | &linkCode=as2&camp=17 |
|                       | ``` verbatim          | 89&creative=9325&crea |
|                       | for letter in fruit:  | tiveASIN=1449314635)! |
|                       |     print(letter)     | [](http://www.assoc-a |
|                       | ```                   | mazon.com/e/ir?t=gree |
|                       |                       | nteapre01-20&l=as2&o= |
|                       | Each time through the | 1&a=1449314635){.c003 |
|                       | loop, the next        | width="1" height="1"  |
|                       | character in the      | border="0"}           |
|                       | string is assigned to |                       |
|                       | the variable          | [                     |
|                       | [letter]{.c004}. The  | ![](http://ws-na.amaz |
|                       | loop continues until  | on-adsystem.com/widge |
|                       | no characters are     | ts/q?_encoding=UTF8&A |
|                       | left.                 | SIN=1449314635&Format |
|                       | []{#hevea_default566} | =_SL160_&ID=AsinImage |
|                       | []{#hevea_default567} | &MarketPlace=US&Servi |
|                       | []{#hevea_default568} | ceVersion=20070822&WS |
|                       |                       | =1&tag=greenteapre01- |
|                       | The following example | 20){border="0"}](http |
|                       | shows how to use      | ://www.amazon.com/gp/ |
|                       | concatenation (string | product/1449314635/re |
|                       | addition) and a       | f=as_li_tf_il?ie=UTF8 |
|                       | [for]{.c004} loop to  | &camp=1789&creative=9 |
|                       | generate an           | 325&creativeASIN=1449 |
|                       | abecedarian series    | 314635&linkCode=as2&t |
|                       | (that is, in          | ag=greenteapre01-20)! |
|                       | alphabetical order).  | [](http://www.assoc-a |
|                       | In Robert McCloskey's | mazon.com/e/ir?t=gree |
|                       | book *Make Way for    | nteapre01-20&l=as2&o= |
|                       | Ducklings*, the names | 1&a=1449314635){.c003 |
|                       | of the ducklings are  | width="1" height="1"  |
|                       | Jack, Kack, Lack,     | border="0"}           |
|                       | Mack, Nack, Ouack,    |                       |
|                       | Pack, and Quack. This |                       |
|                       | loop outputs these    |                       |
|                       | names in order:       |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | prefixes = 'JKLMNOPQ' |                       |
|                       | suffix = 'ack'        |                       |
|                       |                       |                       |
|                       | fo                    |                       |
|                       | r letter in prefixes: |                       |
|                       |     p                 |                       |
|                       | rint(letter + suffix) |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | The output is:        |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | Jack                  |                       |
|                       | Kack                  |                       |
|                       | Lack                  |                       |
|                       | Mack                  |                       |
|                       | Nack                  |                       |
|                       | Oack                  |                       |
|                       | Pack                  |                       |
|                       | Qack                  |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | Of course, that's not |                       |
|                       | quite right because   |                       |
|                       | "Ouack" and "Quack"   |                       |
|                       | are misspelled. As an |                       |
|                       | exercise, modify the  |                       |
|                       | program to fix this   |                       |
|                       | error.                |                       |
|                       |                       |                       |
|                       | ## 8.4  String sli    |                       |
|                       | ces {#sec95 .section} |                       |
|                       |                       |                       |
|                       | []{#slice}            |                       |
|                       | []{#hevea_default569} |                       |
|                       | []{#hevea_default570} |                       |
|                       | []{#hevea_default571} |                       |
|                       | []{#hevea_default572} |                       |
|                       | []{#hevea_default573} |                       |
|                       |                       |                       |
|                       | A segment of a string |                       |
|                       | is called a           |                       |
|                       | [slice]{.c010}.       |                       |
|                       | Selecting a slice is  |                       |
|                       | similar to selecting  |                       |
|                       | a character:          |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >                     |                       |
|                       | >> s = 'Monty Python' |                       |
|                       | >>> s[0:5]            |                       |
|                       | 'Monty'               |                       |
|                       | >>> s[6:12]           |                       |
|                       | 'Python'              |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | The operator          |                       |
|                       | [\[n:m\]]{.c004}      |                       |
|                       | returns the part of   |                       |
|                       | the string from the   |                       |
|                       | "n-eth" character to  |                       |
|                       | the "m-eth"           |                       |
|                       | character, including  |                       |
|                       | the first but         |                       |
|                       | excluding the last.   |                       |
|                       | This behavior is      |                       |
|                       | counterintuitive, but |                       |
|                       | it might help to      |                       |
|                       | imagine the indices   |                       |
|                       | pointing *between*    |                       |
|                       | the characters, as in |                       |
|                       | Figur                 |                       |
|                       | e [8.1](#fig.banana). |                       |
|                       |                       |                       |
|                       | > ::: center          |                       |
|                       | >                     |                       |
|                       | > ------------------- |                       |
|                       | > :::                 |                       |
|                       | >                     |                       |
|                       | > ::: center          |                       |
|                       | > ![]                 |                       |
|                       | (thinkpython2009.png) |                       |
|                       | > :::                 |                       |
|                       | >                     |                       |
|                       | > ::: caption         |                       |
|                       | >   -------           |                       |
|                       | --------------------- |                       |
|                       | >   Figur             |                       |
|                       | e 8.1: Slice indices. |                       |
|                       | >   -------           |                       |
|                       | --------------------- |                       |
|                       | > :::                 |                       |
|                       | >                     |                       |
|                       | > []{#fig.banana}     |                       |
|                       | >                     |                       |
|                       | > ::: center          |                       |
|                       | >                     |                       |
|                       | > ------------------- |                       |
|                       | > :::                 |                       |
|                       |                       |                       |
|                       | If you omit the first |                       |
|                       | index (before the     |                       |
|                       | colon), the slice     |                       |
|                       | starts at the         |                       |
|                       | beginning of the      |                       |
|                       | string. If you omit   |                       |
|                       | the second index, the |                       |
|                       | slice goes to the end |                       |
|                       | of the string:        |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> fruit = 'banana'  |                       |
|                       | >>> fruit[:3]         |                       |
|                       | 'ban'                 |                       |
|                       | >>> fruit[3:]         |                       |
|                       | 'ana'                 |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | If the first index is |                       |
|                       | greater than or equal |                       |
|                       | to the second the     |                       |
|                       | result is an [empty   |                       |
|                       | string]{.c010},       |                       |
|                       | represented by two    |                       |
|                       | quotation marks:      |                       |
|                       | []{#hevea_default574} |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> fruit = 'banana'  |                       |
|                       | >>> fruit[3:3]        |                       |
|                       | ''                    |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | An empty string       |                       |
|                       | contains no           |                       |
|                       | characters and has    |                       |
|                       | length 0, but other   |                       |
|                       | than that, it is the  |                       |
|                       | same as any other     |                       |
|                       | string.               |                       |
|                       |                       |                       |
|                       | Continuing this       |                       |
|                       | example, what do you  |                       |
|                       | think                 |                       |
|                       | [fruit\[:\]]{.c004}   |                       |
|                       | means? Try it and     |                       |
|                       | see.                  |                       |
|                       | []{#hevea_default575} |                       |
|                       | []{#hevea_default576} |                       |
|                       |                       |                       |
|                       | ## 8.                 |                       |
|                       | 5  Strings are immuta |                       |
|                       | ble {#sec96 .section} |                       |
|                       |                       |                       |
|                       | []{#hevea_default577} |                       |
|                       | []{#hevea_default578} |                       |
|                       | []{#hevea_default579} |                       |
|                       |                       |                       |
|                       | It is tempting to use |                       |
|                       | the [\[\]]{.c004}     |                       |
|                       | operator on the left  |                       |
|                       | side of an            |                       |
|                       | assignment, with the  |                       |
|                       | intention of changing |                       |
|                       | a character in a      |                       |
|                       | string. For example:  |                       |
|                       | []{#hevea_default580} |                       |
|                       | []{#hevea_default581} |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> greet             |                       |
|                       | ing = 'Hello, world!' |                       |
|                       | >>> greeting[0] = 'J' |                       |
|                       | TypeError: 'st        |                       |
|                       | r' object does not su |                       |
|                       | pport item assignment |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | The "object" in this  |                       |
|                       | case is the string    |                       |
|                       | and the "item" is the |                       |
|                       | character you tried   |                       |
|                       | to assign. For now,   |                       |
|                       | an object is the same |                       |
|                       | thing as a value, but |                       |
|                       | we will refine that   |                       |
|                       | definition later      |                       |
|                       | (Section [            |                       |
|                       | 10.10](thinkpython201 |                       |
|                       | 1.html#equivalence)). |                       |
|                       | []{#hevea_default582} |                       |
|                       | []{#hevea_default583} |                       |
|                       | []{#hevea_default584} |                       |
|                       | []{#hevea_default585} |                       |
|                       | []{#hevea_default586} |                       |
|                       |                       |                       |
|                       | The reason for the    |                       |
|                       | error is that strings |                       |
|                       | are                   |                       |
|                       | [immutable]{.c010},   |                       |
|                       | which means you can't |                       |
|                       | change an existing    |                       |
|                       | string. The best you  |                       |
|                       | can do is create a    |                       |
|                       | new string that is a  |                       |
|                       | variation on the      |                       |
|                       | original:             |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> greet             |                       |
|                       | ing = 'Hello, world!' |                       |
|                       | >>> new_greeting      |                       |
|                       |  = 'J' + greeting[1:] |                       |
|                       | >>> new_greeting      |                       |
|                       | 'Jello, world!'       |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | This example          |                       |
|                       | concatenates a new    |                       |
|                       | first letter onto a   |                       |
|                       | slice of              |                       |
|                       | [greeting]{.c004}. It |                       |
|                       | has no effect on the  |                       |
|                       | original string.      |                       |
|                       | []{#hevea_default587} |                       |
|                       |                       |                       |
|                       | ## 8.6  Search        |                       |
|                       | ing {#sec97 .section} |                       |
|                       |                       |                       |
|                       | []{#find}             |                       |
|                       |                       |                       |
|                       | What does the         |                       |
|                       | following function    |                       |
|                       | do?                   |                       |
|                       | []{#hevea_default588} |                       |
|                       | []{#hevea_default589} |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | de                    |                       |
|                       | f find(word, letter): |                       |
|                       |     index = 0         |                       |
|                       |     whi               |                       |
|                       | le index < len(word): |                       |
|                       |         if w          |                       |
|                       | ord[index] == letter: |                       |
|                       |                       |                       |
|                       |          return index |                       |
|                       |                       |                       |
|                       |     index = index + 1 |                       |
|                       |     return -1         |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | In a sense,           |                       |
|                       | [find]{.c004} is the  |                       |
|                       | inverse of the        |                       |
|                       | [\[\]]{.c004}         |                       |
|                       | operator. Instead of  |                       |
|                       | taking an index and   |                       |
|                       | extracting the        |                       |
|                       | corresponding         |                       |
|                       | character, it takes a |                       |
|                       | character and finds   |                       |
|                       | the index where that  |                       |
|                       | character appears. If |                       |
|                       | the character is not  |                       |
|                       | found, the function   |                       |
|                       | returns [-1]{.c004}.  |                       |
|                       |                       |                       |
|                       | This is the first     |                       |
|                       | example we have seen  |                       |
|                       | of a [return]{.c004}  |                       |
|                       | statement inside a    |                       |
|                       | loop. If              |                       |
|                       | [word\[index\] ==     |                       |
|                       | letter]{.c004}, the   |                       |
|                       | function breaks out   |                       |
|                       | of the loop and       |                       |
|                       | returns immediately.  |                       |
|                       |                       |                       |
|                       | If the character      |                       |
|                       | doesn't appear in the |                       |
|                       | string, the program   |                       |
|                       | exits the loop        |                       |
|                       | normally and returns  |                       |
|                       | [-1]{.c004}.          |                       |
|                       |                       |                       |
|                       | This pattern of       |                       |
|                       | com                   |                       |
|                       | putation---traversing |                       |
|                       | a sequence and        |                       |
|                       | returning when we     |                       |
|                       | find what we are      |                       |
|                       | looking for---is      |                       |
|                       | called a              |                       |
|                       | [search]{.c010}.      |                       |
|                       | []{#hevea_default590} |                       |
|                       | []{#hevea_default591} |                       |
|                       | []{#hevea_default592} |                       |
|                       |                       |                       |
|                       | As an exercise,       |                       |
|                       | modify [find]{.c004}  |                       |
|                       | so that it has a      |                       |
|                       | third parameter, the  |                       |
|                       | index in              |                       |
|                       | [word]{.c004} where   |                       |
|                       | it should start       |                       |
|                       | looking.              |                       |
|                       |                       |                       |
|                       | ## 8                  |                       |
|                       | .7  Looping and count |                       |
|                       | ing {#sec98 .section} |                       |
|                       |                       |                       |
|                       | []{#counter}          |                       |
|                       | []{#hevea_default593} |                       |
|                       | []{#hevea_default594} |                       |
|                       | []{#hevea_default595} |                       |
|                       | []{#hevea_default596} |                       |
|                       |                       |                       |
|                       | The following program |                       |
|                       | counts the number of  |                       |
|                       | times the letter      |                       |
|                       | [a]{.c004} appears in |                       |
|                       | a string:             |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | word = 'banana'       |                       |
|                       | count = 0             |                       |
|                       | for letter in word:   |                       |
|                       |     if letter == 'a': |                       |
|                       |                       |                       |
|                       |     count = count + 1 |                       |
|                       | print(count)          |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | This program          |                       |
|                       | demonstrates another  |                       |
|                       | pattern of            |                       |
|                       | computation called a  |                       |
|                       | [counter]{.c010}. The |                       |
|                       | variable              |                       |
|                       | [count]{.c004} is     |                       |
|                       | initialized to 0 and  |                       |
|                       | then incremented each |                       |
|                       | time an [a]{.c004} is |                       |
|                       | found. When the loop  |                       |
|                       | exits, [count]{.c004} |                       |
|                       | contains the          |                       |
|                       | result---the total    |                       |
|                       | number of             |                       |
|                       | [a]{.c004}'s.         |                       |
|                       |                       |                       |
|                       | []{#hevea_default597} |                       |
|                       | As an exercise,       |                       |
|                       | encapsulate this code |                       |
|                       | in a function named   |                       |
|                       | [count]{.c004}, and   |                       |
|                       | generalize it so that |                       |
|                       | it accepts the string |                       |
|                       | and the letter as     |                       |
|                       | arguments.            |                       |
|                       |                       |                       |
|                       | Then rewrite the      |                       |
|                       | function so that      |                       |
|                       | instead of traversing |                       |
|                       | the string, it uses   |                       |
|                       | the three-parameter   |                       |
|                       | version of            |                       |
|                       | [find]{.c004} from    |                       |
|                       | the previous section. |                       |
|                       |                       |                       |
|                       | ## 8.8  String meth   |                       |
|                       | ods {#sec99 .section} |                       |
|                       |                       |                       |
|                       | []{#optional}         |                       |
|                       |                       |                       |
|                       | Strings provide       |                       |
|                       | methods that perform  |                       |
|                       | a variety of useful   |                       |
|                       | operations. A method  |                       |
|                       | is similar to a       |                       |
|                       | function---it takes   |                       |
|                       | arguments and returns |                       |
|                       | a value---but the     |                       |
|                       | syntax is different.  |                       |
|                       | For example, the      |                       |
|                       | method [upper]{.c004} |                       |
|                       | takes a string and    |                       |
|                       | returns a new string  |                       |
|                       | with all uppercase    |                       |
|                       | letters.              |                       |
|                       | []{#hevea_default598} |                       |
|                       | []{#hevea_default599} |                       |
|                       |                       |                       |
|                       | Instead of the        |                       |
|                       | function syntax       |                       |
|                       | [upper(word)]{.c004}, |                       |
|                       | it uses the method    |                       |
|                       | syntax                |                       |
|                       | [                     |                       |
|                       | word.upper()]{.c004}. |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> word = 'banana'   |                       |
|                       | >>> ne                |                       |
|                       | w_word = word.upper() |                       |
|                       | >>> new_word          |                       |
|                       | 'BANANA'              |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | This form of dot      |                       |
|                       | notation specifies    |                       |
|                       | the name of the       |                       |
|                       | method,               |                       |
|                       | [upper]{.c004}, and   |                       |
|                       | the name of the       |                       |
|                       | string to apply the   |                       |
|                       | method to,            |                       |
|                       | [word]{.c004}. The    |                       |
|                       | empty parentheses     |                       |
|                       | indicate that this    |                       |
|                       | method takes no       |                       |
|                       | arguments.            |                       |
|                       | []{#hevea_default600} |                       |
|                       | []{#hevea_default601} |                       |
|                       |                       |                       |
|                       | A method call is      |                       |
|                       | called an             |                       |
|                       | [invocation]{.c010};  |                       |
|                       | in this case, we      |                       |
|                       | would say that we are |                       |
|                       | invoking              |                       |
|                       | [upper]{.c004} on     |                       |
|                       | [word]{.c004}.        |                       |
|                       | []{#hevea_default602} |                       |
|                       |                       |                       |
|                       | As it turns out,      |                       |
|                       | there is a string     |                       |
|                       | method named          |                       |
|                       | [find]{.c004} that is |                       |
|                       | remarkably similar to |                       |
|                       | the function we       |                       |
|                       | wrote:                |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> word = 'banana'   |                       |
|                       | >>> i                 |                       |
|                       | ndex = word.find('a') |                       |
|                       | >>> index             |                       |
|                       | 1                     |                       |
|                       | ```                   |                       |
|                       |                       |                       |
|                       | In this example, we   |                       |
|                       | invoke [find]{.c004}  |                       |
|                       | on [word]{.c004} and  |                       |
|                       | pass the letter we    |                       |
|                       | are looking for as a  |                       |
|                       | parameter.            |                       |
|                       |                       |                       |
|                       | Actually, the         |                       |
|                       | [find]{.c004} method  |                       |
|                       | is more general than  |                       |
|                       | our function; it can  |                       |
|                       | find substrings, not  |                       |
|                       | just characters:      |                       |
|                       |                       |                       |
|                       | ``` verbatim          |                       |
|                       | >>> word.find('na')   |                       |
|            